{"version":3,"sources":["./src/addons/storagemanager/pages/course-storage/course-storage.html","./src/addons/storagemanager/pages/courses-storage/courses-storage.html","./src/addons/storagemanager/pages/course-storage/course-storage.scss","./src/addons/storagemanager/pages/course-storage/course-storage.ts","./src/addons/storagemanager/pages/courses-storage/courses-storage.scss","./src/addons/storagemanager/pages/courses-storage/courses-storage.ts","./src/addons/storagemanager/storagemanager-lazy.module.ts"],"names":[],"mappings":"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","file":"addons-storagemanager-storagemanager-lazy-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>{{ 'addon.storagemanager.coursedownloads' | translate }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"limited-width\\\">\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"downloadCourseEnabled\\\">\\r\\n            <ion-label>\\r\\n                <p>{{ 'addon.storagemanager.courseinfo' | translate }}</p>\\r\\n            </ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n\\r\\n        <ion-card class=\\\"wholecourse\\\">\\r\\n            <ion-card-header>\\r\\n                <ion-card-title>{{ title }}</ion-card-title>\\r\\n                <ion-item class=\\\"size ion-text-wrap ion-no-padding\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading ion-text-wrap\\\">{{ 'addon.storagemanager.totaldownloads' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge color=\\\"light\\\" slot=\\\"end\\\">\\r\\n                        <ng-container *ngIf=\\\"!calculatingSize\\\">{{ totalSize | coreBytesToSize }}</ng-container>\\r\\n                        <ng-container *ngIf=\\\"calculatingSize\\\">{{ 'core.calculating' | translate }}</ng-container>\\r\\n                    </ion-badge>\\r\\n                </ion-item>\\r\\n                <ion-button *ngIf=\\\"downloadCourseEnabled\\\" (click)=\\\"prefetchCourse($event)\\\" expand=\\\"block\\\" fill=\\\"outline\\\"\\r\\n                    class=\\\"ion-no-margin\\\" [disabled]=\\\"prefetchCourseData.loading\\\">\\r\\n                    <ion-icon *ngIf=\\\"!prefetchCourseData.loading\\\" [name]=\\\"prefetchCourseData.icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                    <ion-spinner *ngIf=\\\"prefetchCourseData.loading\\\" slot=\\\"start\\\"></ion-spinner>\\r\\n                    {{ prefetchCourseData.statusTranslatable | translate }}\\r\\n                </ion-button>\\r\\n                <ion-button [disabled]=\\\"calculatingSize || totalSize <= 0\\\" (click)=\\\"deleteForCourse($event)\\\" expand=\\\"block\\\" color=\\\"danger\\\"\\r\\n                    class=\\\"ion-no-margin ion-margin-top\\\">\\r\\n                    <ion-icon name=\\\"fas-trash\\\" slot=\\\"start\\\" [attr.aria-label]=\\\"'addon.storagemanager.deletedatafrom' | translate:\\r\\n                        { name: title }\\\">\\r\\n                    </ion-icon>\\r\\n                    {{ 'addon.storagemanager.deleteall' | translate }}\\r\\n                </ion-button>\\r\\n            </ion-card-header>\\r\\n        </ion-card>\\r\\n        <ng-container *ngFor=\\\"let section of sections\\\">\\r\\n            <ion-card class=\\\"section\\\" *ngIf=\\\"section.modules.length > 0\\\">\\r\\n                <ion-card-header>\\r\\n                    <ion-item [lines]=\\\"section.expanded ? 'full' : 'none'\\\" button detail=\\\"false\\\" (click)=\\\"toggleExpand($event, section)\\\"\\r\\n                        [class.core-course-storage-section-expanded]=\\\"section.expanded\\\"\\r\\n                        [attr.aria-label]=\\\"(section.expanded ? 'core.collapse' : 'core.expand') | translate\\\"\\r\\n                        [attr.aria-expanded]=\\\"section.expanded\\\" [attr.aria-controls]=\\\"'core-course-storage-section-' + section.id\\\">\\r\\n                        <ion-icon name=\\\"fas-chevron-right\\\" flip-rtl slot=\\\"start\\\" class=\\\"expandable-status-icon\\\"\\r\\n                            [class.expandable-status-icon-expanded]=\\\"section.expanded\\\">\\r\\n                        </ion-icon>\\r\\n                        <ion-label>\\r\\n                            <p class=\\\"item-heading ion-text-wrap\\\">\\r\\n                                <core-format-text [text]=\\\"section.name\\\" contextLevel=\\\"course\\\" [contextInstanceId]=\\\"section.course\\\"\\r\\n                                    [adaptImg]=\\\"false\\\">\\r\\n                                </core-format-text>\\r\\n                            </p>\\r\\n                            <ion-badge [color]=\\\"section.downloadStatus == statusDownloaded ? 'success' : 'light'\\\"\\r\\n                                *ngIf=\\\"!section.calculatingSize && section.totalSize > 0\\\">\\r\\n                                <ion-icon name=\\\"fam-cloud-done\\\" *ngIf=\\\"section.downloadStatus == statusDownloaded\\\"\\r\\n                                    [attr.aria-label]=\\\"'core.downloaded' | translate\\\">\\r\\n                                </ion-icon>{{ section.totalSize | coreBytesToSize }}\\r\\n                            </ion-badge>\\r\\n                            <ion-badge color=\\\"light\\\" *ngIf=\\\"section.calculatingSize\\\">\\r\\n                                {{ 'core.calculating' | translate }}\\r\\n                            </ion-badge>\\r\\n                            <!-- Download progress. -->\\r\\n                            <p *ngIf=\\\"downloadEnabled && section.isDownloading\\\">\\r\\n                                <core-progress-bar [progress]=\\\"section.total == 0 ? -1 : section.count / section.total\\\">\\r\\n                                </core-progress-bar>\\r\\n                            </p>\\r\\n                        </ion-label>\\r\\n                        <div class=\\\"storage-buttons\\\" slot=\\\"end\\\"\\r\\n                            *ngIf=\\\"(!section.calculatingSize && section.totalSize > 0) || downloadEnabled\\\">\\r\\n                            <div *ngIf=\\\"downloadEnabled\\\" slot=\\\"end\\\" class=\\\"core-button-spinner\\\">\\r\\n                                <core-download-refresh *ngIf=\\\"!section.isDownloading && section.downloadStatus != statusDownloaded\\\"\\r\\n                                    [status]=\\\"section.downloadStatus\\\" [enabled]=\\\"true\\\" (action)=\\\"prefecthSection(section)\\\"\\r\\n                                    [loading]=\\\"section.isDownloading || section.isCalculating\\\" [canTrustDownload]=\\\"true\\\">\\r\\n                                </core-download-refresh>\\r\\n\\r\\n                                <ion-badge class=\\\"core-course-download-section-progress\\\"\\r\\n                                    *ngIf=\\\"section.isDownloading && section.count < section.total\\\" role=\\\"progressbar\\\"\\r\\n                                    [attr.aria-valuemax]=\\\"section.total\\\" [attr.aria-valuenow]=\\\"section.count\\\"\\r\\n                                    [attr.aria-valuetext]=\\\"'core.course.downloadsectionprogressdescription' | translate:section\\\">\\r\\n                                    {{section.count}} / {{section.total}}\\r\\n                                </ion-badge>\\r\\n                            </div>\\r\\n                            <ion-button (click)=\\\"deleteForSection($event, section)\\\"\\r\\n                                *ngIf=\\\"!section.calculatingSize && section.totalSize > 0\\\" color=\\\"danger\\\" fill=\\\"clear\\\">\\r\\n                                <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\"\\r\\n                                    [attr.aria-label]=\\\"'addon.storagemanager.deletedatafrom' | translate: { name: section.name }\\\">\\r\\n                                </ion-icon>\\r\\n                            </ion-button>\\r\\n                        </div>\\r\\n                    </ion-item>\\r\\n                </ion-card-header>\\r\\n                <ion-card-content id=\\\"core-course-storage-section-{{section.id}}\\\">\\r\\n                    <ng-container *ngIf=\\\"section.expanded\\\">\\r\\n                        <ng-container *ngFor=\\\"let module of section.modules\\\">\\r\\n                            <ion-item class=\\\"core-course-storage-activity\\\"\\r\\n                                *ngIf=\\\"downloadEnabled || (!module.calculatingSize && module.totalSize > 0)\\\">\\r\\n                                <core-mod-icon slot=\\\"start\\\" *ngIf=\\\"module.handlerData.icon\\\" [modicon]=\\\"module.handlerData.icon\\\"\\r\\n                                    [modname]=\\\"module.modname\\\" [componentId]=\\\"module.instance\\\" [fallbackTranslation]=\\\"module.modplural\\\">\\r\\n                                </core-mod-icon>\\r\\n                                <ion-label class=\\\"ion-text-wrap\\\">\\r\\n                                    <p class=\\\"item-heading {{module.handlerData!.class}} addon-storagemanager-module-size\\\">\\r\\n                                        <core-format-text [text]=\\\"module.handlerData.title\\\" [courseId]=\\\"module.course\\\" contextLevel=\\\"module\\\"\\r\\n                                            [contextInstanceId]=\\\"module.id\\\" [adaptImg]=\\\"false\\\">\\r\\n                                        </core-format-text>\\r\\n                                    </p>\\r\\n                                    <ion-badge [color]=\\\"module.downloadStatus == statusDownloaded ? 'success' : 'light'\\\"\\r\\n                                        *ngIf=\\\"!module.calculatingSize && module.totalSize > 0\\\">\\r\\n                                        <ion-icon name=\\\"fam-cloud-done\\\" *ngIf=\\\"module.downloadStatus == statusDownloaded\\\"\\r\\n                                            [attr.aria-label]=\\\"'core.downloaded' | translate\\\">\\r\\n                                        </ion-icon>{{ module.totalSize | coreBytesToSize }}\\r\\n                                    </ion-badge>\\r\\n                                    <ion-badge color=\\\"light\\\" *ngIf=\\\"module.calculatingSize\\\">\\r\\n                                        {{ 'core.calculating' | translate }}\\r\\n                                    </ion-badge>\\r\\n                                </ion-label>\\r\\n\\r\\n                                <div class=\\\"storage-buttons\\\" slot=\\\"end\\\">\\r\\n                                    <core-download-refresh *ngIf=\\\"downloadEnabled && module.handlerData?.showDownloadButton &&\\r\\n                                        module.downloadStatus != statusDownloaded\\\" [status]=\\\"module.downloadStatus\\\" [enabled]=\\\"true\\\"\\r\\n                                        [canTrustDownload]=\\\"true\\\" [loading]=\\\"module.spinner || module.handlerData.spinner\\\"\\r\\n                                        (action)=\\\"prefetchModule(module)\\\">\\r\\n                                    </core-download-refresh>\\r\\n                                    <ion-button fill=\\\"clear\\\" (click)=\\\"deleteForModule($event, module, section)\\\"\\r\\n                                        *ngIf=\\\"!module.calculatingSize && module.totalSize > 0\\\" color=\\\"danger\\\">\\r\\n                                        <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\"\\r\\n                                            [attr.aria-label]=\\\"'addon.storagemanager.deletedatafrom' | translate: { name: module.name }\\\">\\r\\n                                        </ion-icon>\\r\\n                                    </ion-button>\\r\\n                                    <p *ngIf=\\\"!downloadEnabled || !module.handlerData?.showDownloadButton\\\" class=\\\"sr-only\\\">\\r\\n                                        {{ 'core.notdownloadable' | translate }}\\r\\n                                    </p>\\r\\n                                </div>\\r\\n                            </ion-item>\\r\\n                        </ng-container>\\r\\n                    </ng-container>\\r\\n                </ion-card-content>\\r\\n            </ion-card>\\r\\n        </ng-container>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>{{ 'addon.storagemanager.managedownloads' | translate }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"limited-width\\\">\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <div class=\\\"ion-padding-horizontal ion-text-wrap\\\" *ngIf=\\\"spaceUsage\\\">\\r\\n            <h2>{{ 'addon.storagemanager.alldata' | translate }}</h2>\\r\\n        </div>\\r\\n        <ion-card *ngIf=\\\"spaceUsage\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap total\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading ion-text-wrap\\\">{{ 'addon.storagemanager.totalspaceusage' | translate }}</p>\\r\\n                    <ion-badge color=\\\"light\\\" *ngIf=\\\"spaceUsage.spaceUsage\\\">{{ spaceUsage.spaceUsage | coreBytesToSize }}</ion-badge>\\r\\n                </ion-label>\\r\\n                <ion-button fill=\\\"clear\\\" color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"deleteSiteStorage($event)\\\"\\r\\n                    [hidden]=\\\"spaceUsage.spaceUsage! + spaceUsage.cacheEntries! <= 0\\\"\\r\\n                    [attr.aria-label]=\\\"'addon.storagemanager.deleteallsitedata' | translate\\\">\\r\\n                    <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n        <div class=\\\"ion-padding-horizontal ion-text-wrap\\\">\\r\\n            <h2>{{ 'addon.storagemanager.downloadedcourses' | translate }}</h2>\\r\\n        </div>\\r\\n        <ion-card>\\r\\n            <ion-item class=\\\"size courses ion-text-wrap\\\" lines=\\\"full\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'addon.storagemanager.totalspaceusage' | translate }}</p>\\r\\n                    <ion-badge color=\\\"light\\\">{{ totalSize | coreBytesToSize }}</ion-badge>\\r\\n                </ion-label>\\r\\n                <ion-button slot=\\\"end\\\" (click)=\\\"deleteCompletelyDownloadedCourses($event)\\\"\\r\\n                    [disabled]=\\\"completelyDownloadedCourses.length === 0\\\" color=\\\"danger\\\" fill=\\\"clear\\\">\\r\\n                    <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\" ariaLabel=\\\"{{ 'addon.storagemanager.deletecourses' | translate }}\\\">\\r\\n                    </ion-icon>\\r\\n                </ion-button>\\r\\n            </ion-item>\\r\\n            <ion-item *ngFor=\\\"let course of downloadedCourses\\\" class=\\\"course\\\" (click)=\\\"openCourse(course.id, course.title)\\\" button>\\r\\n                <ion-label class=\\\"ion-text-wrap\\\">\\r\\n                    <p class=\\\"item-heading\\\">{{ course.title }}</p>\\r\\n                    <p class=\\\"item-heading item-heading-secondary\\\" *ngIf=\\\"course.isDownloading\\\">\\r\\n                        {{ 'core.downloading' | translate }}\\r\\n                    </p>\\r\\n                    <ion-badge color=\\\"light\\\">\\r\\n                        {{ course.totalSize | coreBytesToSize }}\\r\\n                    </ion-badge>\\r\\n                </ion-label>\\r\\n                <ion-button slot=\\\"end\\\" (click)=\\\"deleteCourse($event, course)\\\" [disabled]=\\\"course.isDownloading\\\" color=\\\"danger\\\" fill=\\\"clear\\\">\\r\\n                    <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\" [attr.aria-label]=\\\"'addon.storagemanager.deletedatafrom' | translate:\\r\\n                            { name: course.title }\\\">\\r\\n                    </ion-icon>\\r\\n                </ion-button>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"/**\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here the different files you should import to use global variables.\\n */\\n/**\\n * Imported ionic string functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.string.scss\\n */\\n/**\\n * Imported ionic color functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.color.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.mixins.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS from different components\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/grid/grid.mixins.scss\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/item/item.mixins.scss\\n */\\n/**\\n * App custom mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Place here our custom mixins.\\n */\\n/**\\n * Same as item-push-svg-url but admits flip-rtl\\n */\\n/*\\n * App Custom App variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all custom app variables.\\n */\\n/*\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all global variables.\\n */\\n/**\\n * Layout Breakpoints\\n *\\n * https://ionicframework.com/docs/layout/grid#default-breakpoints\\n */\\n:host {\\n  --course-storage-max-activity-height: 120px;\\n}\\n:host ion-card ion-item.size {\\n  --inner-padding-end: 0px;\\n}\\n:host ion-card.section ion-card-header {\\n  padding: 0;\\n}\\n:host ion-card.section ion-card-content {\\n  padding: 0;\\n}\\n:host ion-card.section ion-card-content .core-course-storage-activity ion-label h3 {\\n  position: relative;\\n  max-height: var(--course-storage-max-activity-height);\\n  overflow: hidden;\\n}\\n:host ion-card.section ion-card-content .core-course-storage-activity ion-label h3 ::ng-deep * {\\n  pointer-events: none !important;\\n}\\n:host ion-card.section ion-card-content .core-course-storage-activity ion-label h3:before {\\n  content: \\\"\\\";\\n  height: var(--course-storage-max-activity-height);\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  background: linear-gradient(to bottom, rgba(var(--background-gradient-rgb), 0) calc(100% - 30px), rgba(var(--background-gradient-rgb), 1) calc(100% - 20px));\\n  z-index: 6;\\n  pointer-events: none;\\n}\\n:host ion-card.section .item-heading {\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n}\\nion-badge {\\n  margin-top: 8px;\\n}\\nion-badge ion-icon {\\n  margin-right: 8px;\\n}\\n@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0) {\\n  ion-badge ion-icon {\\n    margin-right: unset;\\n    -webkit-margin-end: 8px;\\n    margin-inline-end: 8px;\\n  }\\n}\\nion-item core-mod-icon {\\n  --size: 18px;\\n  padding: 9px;\\n  --margin-vertical: 8px;\\n  --margin-end: 8px;\\n}\\n.storage-buttons {\\n  display: flex;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwic3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwic3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJzcmMvYWRkb25zL3N0b3JhZ2VtYW5hZ2VyL3BhZ2VzL2NvdXJzZS1zdG9yYWdlL2NvdXJzZS1zdG9yYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7Ozs7RUFBQTtBQ0VBOzs7O0VBQUE7QUE0R0E7O0VBQUE7QUM5R0E7Ozs7RUFBQTtBQ0FBOzs7O0VBQUE7QUErREE7Ozs7RUFBQTtBQzdEQTtFQUNJLDJDQUFBO0FBb0RKO0FBbERJO0VBQ0ksd0JBQUE7QUFvRFI7QUFoRFE7RUFDSSxVQUFBO0FBa0RaO0FBaERRO0VBQ0ksVUFBQTtBQWtEWjtBQS9DZ0I7RUFDSSxrQkFBQTtFQUNBLHFEQUFBO0VBQ0EsZ0JBQUE7QUFpRHBCO0FBaERvQjtFQUNJLCtCQUFBO0FBa0R4QjtBQS9Db0I7RUFDSSxXQUFBO0VBQ0EsaURBQUE7RUFDQSxrQkFBQTtFTCtTbEIsT0s5U2dEO0VMK1NoRCxRSy9TdUM7RUx3VTNDLE1LeFV3QztFQUNsQiw0SkFBQTtFQUNBLFVBQUE7RUFDQSxvQkFBQTtBQW1EeEI7QUE5Q1E7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0FBZ0RaO0FBM0NBO0VBQ0ksZUFBQTtBQThDSjtBQTdDSTtFTDhNQSxpQks3TXFDO0FBK0N6QztBTGlLTTtFQUNFO0lBS0ksbUJBQUE7SUFLRix1QkszTitCO0lMNE4vQixzQks1TitCO0VBcUR2QztBQUNGO0FBbERBO0VBQ0ksWUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0FBcURKO0FBbERBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBcURKIiwiZmlsZSI6InNyYy9hZGRvbnMvc3RvcmFnZW1hbmFnZXIvcGFnZXMvY291cnNlLXN0b3JhZ2UvY291cnNlLXN0b3JhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxyXG4gKi9cclxuXHJcbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XHJcbiRhc3NldHMtcGF0aDogXCIuLi9hc3NldHNcIjtcclxuXHJcbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XHJcbkBpbXBvcnQgXCIuL2dsb2JhbHMuY3VzdG9tLnNjc3NcIjtcclxuQGltcG9ydCBcIi4vZ2xvYmFscy52YXJpYWJsZXMuc2Nzc1wiO1xyXG4iLCIvKipcclxuICogSW1wb3J0ZWQgaW9uaWMgc3RyaW5nIGZ1bmN0aW9ucyBmb3IgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEV4dHJhY3RlZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLnN0cmluZy5zY3NzXHJcbiAqL1xyXG5cclxuXHJcbi8vIFN0cmluZyBVdGlsaXR5IEZ1bmN0aW9uc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gU3RyaW5nIFJlcGxhY2UgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBzdHItcmVwbGFjZSgkc3RyaW5nLCAkc2VhcmNoLCAkcmVwbGFjZTogXCJcIikge1xyXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xyXG5cclxuICBAaWYgJGluZGV4IHtcclxuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJHN0cmluZztcclxufVxyXG5cclxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuQGZ1bmN0aW9uIHN0ci1zcGxpdCgkc3RyaW5nLCAkc2VwYXJhdG9yKSB7XHJcbiAgLy8gZW1wdHkgYXJyYXkvbGlzdFxyXG4gICRzcGxpdC1hcnI6ICgpO1xyXG4gIC8vIGZpcnN0IGluZGV4IG9mIHNlcGFyYXRvciBpbiBzdHJpbmdcclxuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcclxuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXHJcbiAgQHdoaWxlICRpbmRleCAhPSBudWxsIHtcclxuICAgIC8vIGdldCB0aGUgc3Vic3RyaW5nIGZyb20gdGhlIGZpcnN0IGNoYXJhY3RlciB0byB0aGUgc2VwYXJhdG9yXHJcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xyXG4gICAgLy8gcHVzaCBpdGVtIHRvIGFycmF5XHJcbiAgICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJGl0ZW0pO1xyXG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xyXG4gICAgJHN0cmluZzogc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIDEpO1xyXG4gICAgLy8gZmluZCBuZXcgaW5kZXggb2Ygc2VwYXJhdG9yXHJcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcclxuICB9XHJcbiAgLy8gYWRkIHRoZSByZW1haW5pbmcgc3RyaW5nIHRvIGxpc3QgKHRoZSBsYXN0IGl0ZW0pXHJcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xyXG5cclxuICBAcmV0dXJuICRzcGxpdC1hcnI7XHJcbn1cclxuXHJcblxyXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xyXG4gICRzdGFydC1pbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzdGFydCk7XHJcblxyXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xyXG4gICAgJHBvc3Q6IHN0ci1zbGljZSgkc3RyaW5nLCAkc3RhcnQtaW5kZXggKyBzdHItbGVuZ3RoKCRzdGFydCkpO1xyXG4gICAgJGVuZC1pbmRleDogc3RyLWluZGV4KCRwb3N0LCAkZW5kKTtcclxuXHJcbiAgICBAaWYgJGVuZC1pbmRleCB7XHJcbiAgICAgIEByZXR1cm4gc3RyLXNsaWNlKCRwb3N0LCAxLCAkZW5kLWluZGV4IC0gMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcblxyXG4vLyBTdHJpbmcgQ29udGFpbnMgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBzdHItY29udGFpbnMoJHN0cmluZywgJG5lZWRsZSkge1xyXG4gIEBpZiAodHlwZS1vZigkc3RyaW5nKSA9PSBzdHJpbmcpIHtcclxuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuLy8gVVJMIEVuY29kZSBGdW5jdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQGZ1bmN0aW9uIHVybC1lbmNvZGUoJHZhbCkge1xyXG4gICRzcGFjZXM6IHN0ci1yZXBsYWNlKCR2YWwsIFwiIFwiLCBcIiUyMFwiKTtcclxuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xyXG4gIEByZXR1cm4gJGVuY29kZWQ7XHJcbn1cclxuXHJcblxyXG4vLyBBZGQgUm9vdCBTZWxlY3RvclxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBBZGRzIGEgcm9vdCBzZWxlY3RvciB1c2luZyBob3N0LWNvbnRleHQgYmFzZWQgb24gdGhlIHNlbGVjdG9yIHBhc3NlZFxyXG4vL1xyXG4vLyBFeGFtcGxlc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIltkaXI9cnRsXVwiLCBcIjpob3N0XCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCI6aG9zdCguZml4ZWQpXCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCI6aG9zdCgudGFiLWxheW91dC1pY29uLWhpZGUpIDo6c2xvdHRlZChpb24tYmFkZ2UpXCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkudGFiLWxheW91dC1pY29uLWhpZGUgOjpzbG90dGVkKGlvbi1iYWRnZSlcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCIuc2hhZG93XCIpXHJcbi8vIC0tPiBbZGlyPXJ0bF0gLnNoYWRvd1xyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5zaGFkb3dcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBhZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgJGFkZEhvc3RTZWxlY3Rvcikge1xyXG4gICRzZWxlY3RvcnM6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xyXG5cclxuICAkbGlzdDogKCk7XHJcblxyXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcclxuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCggaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGEgY2xhc3Mgb24gdGhlIGhvc3RcclxuICAgIC8vIGVsZW1lbnQgc28gd2UgbmVlZCB0byBjaGFuZ2UgaG93IHdlIHRhcmdldCBpdFxyXG4gICAgQGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3QoXCIpIHtcclxuICAgICAgJHNoYWRvdy1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2VsZWN0b3IsIFwiOmhvc3QoXCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KTpob3N0KFwiKTtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XHJcblxyXG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xyXG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcclxuXHJcbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XHJcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xyXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiAkZWxlbWVudDtcclxuXHJcbiAgICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIikpXCIpIHtcclxuICAgICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiKSlcIiwgXCIpXCIpO1xyXG4gICAgICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIilcIiwgXCJcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIpO1xyXG5cclxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBzcGFjZSk7XHJcbiAgICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcclxuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcganVzdCB0aGUgaG9zdFxyXG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxyXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcclxuICAgICAgJHNoYWRvdy1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2VsZWN0b3IsIFwiOmhvc3RcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIpO1xyXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkc2hhZG93LWVsZW1lbnQsIGNvbW1hKTtcclxuICAgICAgLy8gSWYgdGhlIHNlbGVjdG9yIGRvZXMgbm90IGNvbnRhaW4gaG9zdCBhdCBhbGwgaXQgaXMgZWl0aGVyIGEgc2hhZG93XHJcbiAgICAgIC8vIG9yIG5vcm1hbCBlbGVtZW50IHNvIGFwcGVuZCBib3RoIHRoZSBkaXIgY2hlY2sgYW5kIGhvc3QtY29udGV4dFxyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiI3skYWRkSG9zdFNlbGVjdG9yfSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xyXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkgI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEByZXR1cm4gJGxpc3Q7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEltcG9ydGVkIGlvbmljIGNvbG9yIGZ1bmN0aW9ucyBmb3IgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEV4dHJhY3RlZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLmNvbG9yLnNjc3NcclxuICovXHJcblxyXG4vLyBHZXRzIHRoZSBhY3RpdmUgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSBhIHZhcmlhdGlvbi4gQWxwaGEgaXMgb3B0aW9uYWwuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEV4YW1wbGUgdXNhZ2U6XHJcbi8vIGN1cnJlbnQtY29sb3IoYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLWJhc2UpXHJcbi8vIGN1cnJlbnQtY29sb3IoY29udHJhc3QsIDAuMSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItY29udHJhc3QtcmdiKSwgMC4xKVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gY3VycmVudC1jb2xvcigkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwpIHtcclxuICBAaWYgJGFscGhhID09IG51bGwge1xyXG4gICAgQHJldHVybiB2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufSk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAcmV0dXJuIHJnYmEodmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0tcmdiKSwgI3skYWxwaGF9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEdldHMgdGhlIHNwZWNpZmljIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gdGhlIG5hbWUgYW5kIHZhcmlhdGlvbi4gQWxwaGEvcmdiIGFyZSBvcHRpb25hbC5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gRXhhbXBsZSB1c2FnZTpcclxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKVxyXG4vLyBpb24tY29sb3Ioc2Vjb25kYXJ5LCBjb250cmFzdCkgPT4gdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdClcclxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UsIDAuNSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1yZ2IsIDU2LCAxMjgsIDI1NSksIDAuNSlcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGlvbi1jb2xvcigkbmFtZSwgJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsLCAkcmdiOiBudWxsKSB7XHJcbiAgJHZhbHVlczogbWFwLWdldCgkY29sb3JzLCAkbmFtZSk7XHJcbiAgJHZhbHVlOiBtYXAtZ2V0KCR2YWx1ZXMsICR2YXJpYXRpb24pO1xyXG4gICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX0tI3skdmFyaWF0aW9ufTtcclxuXHJcbiAgQGlmICgkdmFyaWF0aW9uID09IGJhc2UpIHtcclxuICAgICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX07XHJcbiAgfVxyXG5cclxuICBAaWYgKCRhbHBoYSkge1xyXG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xyXG4gICAgQHJldHVybiByZ2JhKHZhcigjeyR2YXJpYWJsZX0tcmdiLCAkdmFsdWUpLCAkYWxwaGEpO1xyXG4gIH1cclxuICBAaWYgKCRyZ2IpIHtcclxuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcclxuICAgICR2YXJpYWJsZTogI3skdmFyaWFibGV9LXJnYjtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gdmFyKCN7JHZhcmlhYmxlfSwgJHZhbHVlKTtcclxufVxyXG5cclxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUoJGNvbG9yKSB7XHJcbiAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAxMiUpO1xyXG59XHJcblxyXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggd2hpdGUgdG8gY3JlYXRlIGl0cyB0aW50LlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQoJGNvbG9yKSB7XHJcbiAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAxMCUpO1xyXG59XHJcblxyXG4vLyBDb252ZXJ0cyBhIGNvbG9yIHRvIGEgY29tbWEgc2VwYXJhdGVkIHJnYi5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGNvbG9yLXRvLXJnYi1saXN0KCRjb2xvcikge1xyXG4gIEByZXR1cm4gI3tyZWQoJGNvbG9yKX0sI3tncmVlbigkY29sb3IpfSwje2JsdWUoJGNvbG9yKX07XHJcbn1cclxuIiwiLyoqXHJcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEV4dHJhY3RlZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMubWl4aW5zLnNjc3NcclxuICovXHJcblxyXG5AbWl4aW4gaW5wdXQtY292ZXIoKSB7XHJcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgbnVsbCwgbnVsbCwgMCk7XHJcbiAgQGluY2x1ZGUgbWFyZ2luKDApO1xyXG5cclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblxyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuXHJcbiAgYm9yZGVyOiAwO1xyXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgYXBwZWFyYW5jZTogbm9uZTtcclxuICBvdXRsaW5lOiBub25lO1xyXG5cclxuICAmOjotbW96LWZvY3VzLWlubmVyIHtcclxuICAgIGJvcmRlcjogMDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB2aXN1YWxseS1oaWRkZW4oKSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG5cclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICBib3R0b206IDA7XHJcblxyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuXHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIGJvcmRlcjogMDtcclxuICBvdXRsaW5lOiAwO1xyXG4gIGNsaXA6IHJlY3QoMCAwIDAgMCk7XHJcblxyXG4gIG9wYWNpdHk6IDA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xyXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcclxufVxyXG5cclxuQG1peGluIHRleHQtaW5oZXJpdCgpIHtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC1zdHlsZTogaW5oZXJpdDtcclxuICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICBsZXR0ZXItc3BhY2luZzogaW5oZXJpdDtcclxuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XHJcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XHJcbiAgdGV4dC1vdmVyZmxvdzogaW5oZXJpdDtcclxuICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdDtcclxuICB0ZXh0LWFsaWduOiBpbmhlcml0O1xyXG4gIHdoaXRlLXNwYWNlOiBpbmhlcml0O1xyXG4gIGNvbG9yOiBpbmhlcml0O1xyXG59XHJcblxyXG5AbWl4aW4gYnV0dG9uLXN0YXRlKCkge1xyXG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xyXG5cclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblxyXG4gIGNvbnRlbnQ6IFwiXCI7XHJcblxyXG4gIG9wYWNpdHk6IDA7XHJcbn1cclxuXHJcbi8vIEZvbnQgc21vb3RoaW5nXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AbWl4aW4gZm9udC1zbW9vdGhpbmcoKSB7XHJcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcclxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcclxufVxyXG5cclxuLy8gR2V0IHRoZSBrZXkgZnJvbSBhIG1hcCBiYXNlZCBvbiB0aGUgaW5kZXhcclxuQGZ1bmN0aW9uIGluZGV4LXRvLWtleSgkbWFwLCAkaW5kZXgpIHtcclxuICAka2V5czogbWFwLWtleXMoJG1hcCk7XHJcblxyXG4gIEByZXR1cm4gbnRoKCRrZXlzLCAkaW5kZXgpO1xyXG59XHJcblxyXG5cclxuLy8gQnJlYWtwb2ludCBNaXhpbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyBCcmVha3BvaW50IHZpZXdwb3J0IHNpemVzIGFuZCBtZWRpYSBxdWVyaWVzLlxyXG4vL1xyXG4vLyBCcmVha3BvaW50cyBhcmUgZGVmaW5lZCBhcyBhIG1hcCBvZiAobmFtZTogbWluaW11bSB3aWR0aCksIG9yZGVyIGZyb20gc21hbGwgdG8gbGFyZ2U6XHJcbi8vXHJcbi8vICAgICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweClcclxuLy9cclxuLy8gVGhlIG1hcCBkZWZpbmVkIGluIHRoZSBgJHNjcmVlbi1icmVha3BvaW50c2AgZ2xvYmFsIHZhcmlhYmxlIGlzIHVzZWQgYXMgdGhlIGAkYnJlYWtwb2ludHNgIGFyZ3VtZW50IGJ5IGRlZmF1bHQuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIE1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cclxuLy9cclxuLy8gICAgPj4gYnJlYWtwb2ludC1taW4oc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXHJcbi8vICAgIDU3NnB4XHJcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgJG1pbjogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcclxuXHJcbiAgQHJldHVybiBpZigkbmFtZSAhPSBpbmRleC10by1rZXkoJGJyZWFrcG9pbnRzLCAxKSwgJG1pbiwgbnVsbCk7XHJcbn1cclxuXHJcbi8vIFJldHVybnMgYSBibGFuayBzdHJpbmcgaWYgc21hbGxlc3QgYnJlYWtwb2ludCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG5hbWUgd2l0aCBhIGRhc2ggaW5mcm9udC5cclxuLy8gVXNlZnVsIGZvciBtYWtpbmcgcmVzcG9uc2l2ZSB1dGlsaXRpZXMuXHJcbi8vXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoeHMsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXHJcbi8vICAgIFwiXCIgIChSZXR1cm5zIGEgYmxhbmsgc3RyaW5nKVxyXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxyXG4vLyAgICBcIi1zbVwiXHJcbkBmdW5jdGlvbiBicmVha3BvaW50LWluZml4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICBAcmV0dXJuIGlmKGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpID09IG51bGwsIFwiXCIsIFwiLSN7JG5hbWV9XCIpO1xyXG59XHJcblxyXG4vLyBNZWRpYSBvZiBhdCBsZWFzdCB0aGUgbWluaW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIHNtYWxsZXN0IGJyZWFrcG9pbnQuXHJcbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXHJcbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LXVwKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICAkbWluOiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKTtcclxuICBAaWYgJG1pbiB7XHJcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogJG1pbikge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTmFtZSBvZiB0aGUgbmV4dCBicmVha3BvaW50LCBvciBudWxsIGZvciB0aGUgbGFzdCBicmVha3BvaW50LlxyXG4vL1xyXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20pXHJcbi8vICAgIG1kXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcclxuLy8gICAgbWRcclxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAkYnJlYWtwb2ludC1uYW1lczogKHhzIHNtIG1kIGxnIHhsKSlcclxuLy8gICAgbWRcclxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbmV4dCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzLCAkYnJlYWtwb2ludC1uYW1lczogbWFwLWtleXMoJGJyZWFrcG9pbnRzKSkge1xyXG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xyXG4gIEByZXR1cm4gaWYoJG4gPCBsZW5ndGgoJGJyZWFrcG9pbnQtbmFtZXMpLCBudGgoJGJyZWFrcG9pbnQtbmFtZXMsICRuICsgMSksIG51bGwpO1xyXG59XHJcblxyXG4vLyBNYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXHJcbi8vIFRoZSBtYXhpbXVtIHZhbHVlIGlzIHJlZHVjZWQgYnkgMC4wMnB4IHRvIHdvcmsgYXJvdW5kIHRoZSBsaW1pdGF0aW9ucyBvZlxyXG4vLyBgbWluLWAgYW5kIGBtYXgtYCBwcmVmaXhlcyBhbmQgdmlld3BvcnRzIHdpdGggZnJhY3Rpb25hbCB3aWR0aHMuXHJcbi8vXHJcbi8vIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWFxdWVyaWVzLTQvI21xLW1pbi1tYXhcclxuLy8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlx0Ly8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlxyXG4vLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVx0Ly8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcclxuLy9cclxuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgobWQsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXHJcbi8vICAgIDc2Ny45OHB4XHJcbkBmdW5jdGlvbiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgJG1heDogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcclxuICBAcmV0dXJuIGlmKCRtYXggYW5kICRtYXggPiAwLCAkbWF4IC0gLjAyLCBudWxsKTtcclxufVxyXG5cclxuLy8gTWVkaWEgb2YgYXQgbW9zdCB0aGUgbWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIGxhcmdlc3QgYnJlYWtwb2ludC5cclxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCBuYXJyb3dlci5cclxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgJG1heDogYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50cyk7XHJcbiAgQGlmICRtYXgge1xyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6ICRtYXgpIHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBUZXh0IERpcmVjdGlvbiAtIGx0ciAvIHJ0bFxyXG4vL1xyXG4vLyBDU1MgZGVmYXVsdHMgdG8gdXNlIHRoZSBsdHIgY3NzLCBhbmQgYWRkcyBbZGlyPXJ0bF0gc2VsZWN0b3JzXHJcbi8vIHRvIG92ZXJyaWRlIGx0ciBkZWZhdWx0cy5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQG1peGluIG11bHRpLWRpcigpIHtcclxuICBAY29udGVudDtcclxuXHJcbiAgLy8gJHJvb3Q6ICN7Jn07XHJcbiAgLy8gQGF0LXJvb3QgW2Rpcl0ge1xyXG4gIC8vICAgI3skcm9vdH0ge1xyXG4gIC8vICAgICBAY29udGVudDtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbn1cclxuXHJcbkBtaXhpbiBydGwoKSB7XHJcbiAgJHJvb3Q6ICN7Jn07XHJcblxyXG4gIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiW2Rpcj1ydGxdXCIpfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBsdHIoKSB7XHJcbiAgQGNvbnRlbnQ7XHJcbn1cclxuXHJcblxyXG4vLyBTVkcgQmFja2dyb3VuZCBJbWFnZSBNaXhpblxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN2Z1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBzdmctYmFja2dyb3VuZC1pbWFnZSgkc3ZnLCAkZmxpcC1ydGw6IGZhbHNlKSB7XHJcbiAgJHVybDogdXJsLWVuY29kZSgkc3ZnKTtcclxuICAkdmlld0JveDogc3RyLXNwbGl0KHN0ci1leHRyYWN0KCRzdmcsIFwidmlld0JveD0nXCIsIFwiJ1wiKSwgXCIgXCIpO1xyXG5cclxuICBAaWYgJGZsaXAtcnRsICE9IHRydWUgb3IgJHZpZXdCb3ggPT0gbnVsbCB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAkdHJhbnNmb3JtOiBcInRyYW5zZm9ybT0ndHJhbnNsYXRlKCN7bnRoKCR2aWV3Qm94LCAzKX0sIDApIHNjYWxlKC0xLCAxKSdcIjtcclxuICAgICRmbGlwcGVkLXVybDogJHN2ZztcclxuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwYXRoXCIsIFwiPHBhdGggI3skdHJhbnNmb3JtfVwiKTtcclxuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxsaW5lXCIsIFwiPGxpbmUgI3skdHJhbnNmb3JtfVwiKTtcclxuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwb2x5Z29uXCIsIFwiPHBvbHlnb24gI3skdHJhbnNmb3JtfVwiKTtcclxuICAgICRmbGlwcGVkLXVybDogdXJsLWVuY29kZSgkZmxpcHBlZC11cmwpO1xyXG5cclxuICAgIEBpbmNsdWRlIGx0ciAoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JGZsaXBwZWQtdXJsfVwiKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBwcm9wZXJ0eSBob3Jpem9udGFsXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcclxuICBAaWYgJHN0YXJ0ID09IDAgYW5kICRlbmQgPT0gMCB7XHJcbiAgICAjeyRwcm9wfS1sZWZ0OiAkc3RhcnQ7XHJcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcclxuXHJcbiAgfSBAZWxzZSB7XHJcbiAgICAjeyRwcm9wfS1sZWZ0OiAkc3RhcnQ7XHJcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcclxuXHJcbiAgICBAYXQtcm9vdCB7XHJcbiAgICAgIEBzdXBwb3J0cyAoKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkpIHtcclxuICAgICAgICAmIHtcclxuICAgICAgICAgIEBpZiAkc3RhcnQgIT0gbnVsbCB7XHJcbiAgICAgICAgICAgICN7JHByb3B9LWxlZnQ6IHVuc2V0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQGlmICRlbmQgIT0gbnVsbCB7XHJcbiAgICAgICAgICAgICN7JHByb3B9LXJpZ2h0OiB1bnNldDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAtd2Via2l0LSN7JHByb3B9LXN0YXJ0OiAkc3RhcnQ7XHJcbiAgICAgICAgICAjeyRwcm9wfS1pbmxpbmUtc3RhcnQ6ICRzdGFydDtcclxuICAgICAgICAgIC13ZWJraXQtI3skcHJvcH0tZW5kOiAkZW5kO1xyXG4gICAgICAgICAgI3skcHJvcH0taW5saW5lLWVuZDogJGVuZDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBwcm9wZXJ0eSBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRwcm9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gQHBhcmFtIHtib29sZWFufSAkY29udGVudCBpbmNsdWRlIGNvbnRlbnQgb3IgdXNlIGRlZmF1bHRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcHJvcGVydHkoJHByb3AsICR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZCk7XHJcbiAgI3skcHJvcH0tdG9wOiAkdG9wO1xyXG4gICN7JHByb3B9LWJvdHRvbTogJGJvdHRvbTtcclxufVxyXG5cclxuLy8gQWRkIHBhZGRpbmcgaG9yaXpvbnRhbFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwocGFkZGluZywgJHN0YXJ0LCAkZW5kKTtcclxufVxyXG5cclxuLy8gQWRkIHBhZGRpbmcgZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcGFkZGluZygkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eShwYWRkaW5nLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xyXG59XHJcblxyXG4vLyBBZGQgbWFyZ2luIGhvcml6b250YWxcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBtYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwobWFyZ2luLCAkc3RhcnQsICRlbmQpO1xyXG59XHJcblxyXG4vLyBBZGQgbWFyZ2luIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIG1hcmdpbigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eShtYXJnaW4sICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XHJcbn1cclxuXHJcbi8vIEFkZCBwb3NpdGlvbiBob3Jpem9udGFsXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnQgLSBhbW91bnQgdG8gcG9zaXRpb24gc3RhcnRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmQgLSBhbW91bnQgdG8gbGVmdDogMDsgZW5kXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0OiBudWxsLCAkZW5kOiBudWxsKSB7XHJcbiAgQGlmICRzdGFydCA9PSAkZW5kIHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgbGVmdDogJHN0YXJ0O1xyXG4gICAgICByaWdodDogJGVuZDtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgbGVmdDogJHN0YXJ0O1xyXG4gICAgICByaWdodDogJGVuZDtcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgbGVmdDogdW5zZXQ7XHJcbiAgICAgIHJpZ2h0OiB1bnNldDtcclxuXHJcbiAgICAgIGxlZnQ6ICRlbmQ7XHJcbiAgICAgIHJpZ2h0OiAkc3RhcnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgcG9zaXRpb24gZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XHJcbiAgQGluY2x1ZGUgcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQpO1xyXG4gIHRvcDogJHRvcDtcclxuICBib3R0b206ICRib3R0b207XHJcbn1cclxuXHJcbi8vIEFkZCBib3JkZXIgZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gYm9yZGVyKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5KGJvcmRlciwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcclxufVxyXG5cclxuLy8gQWRkIGJvcmRlciByYWRpdXMgZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLXN0YXJ0XHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLWVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1lbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tc3RhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gYm9yZGVyLXJhZGl1cygkdG9wLXN0YXJ0LCAkdG9wLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tc3RhcnQ6ICR0b3AtZW5kKSB7XHJcbiAgQGlmICR0b3Atc3RhcnQgPT0gJHRvcC1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1zdGFydCB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR0b3Atc3RhcnQ7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3Atc3RhcnQ7XHJcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLWVuZDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tZW5kO1xyXG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1lbmQ7XHJcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xyXG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1lbmQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgZGlyZWN0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRpciAtIERpcmVjdGlvbiBvbiBMVFJcclxuQG1peGluIGRpcmVjdGlvbigkZGlyKSB7XHJcbiAgJG90aGVyLWRpcjogbnVsbDtcclxuXHJcbiAgQGlmICRkaXIgPT0gbHRyIHtcclxuICAgICRvdGhlci1kaXI6IHJ0bDtcclxuICB9IEBlbHNlIHtcclxuICAgICRvdGhlci1kaXI6IGx0cjtcclxuICB9XHJcblxyXG4gIEBpbmNsdWRlIGx0cigpIHtcclxuICAgIGRpcmVjdGlvbjogJGRpcjtcclxuICB9XHJcbiAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgZGlyZWN0aW9uOiAkb3RoZXItZGlyO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIGZsb2F0IGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHNpZGVcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRkZWNvcmF0b3IgLSAhaW1wb3J0YW50XHJcbkBtaXhpbiBmbG9hdCgkc2lkZSwgJGRlY29yYXRvcjogbnVsbCkge1xyXG4gIEBpZiAkc2lkZSA9PSBzdGFydCB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xyXG4gICAgfVxyXG4gIH0gQGVsc2UgaWYgJHNpZGUgPT0gZW5kIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIGZsb2F0OiAkc2lkZSAkZGVjb3JhdG9yO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGJhY2tncm91bmQtcG9zaXRpb24oJGhvcml6b250YWwsICRob3Jpem9udGFsLWFtb3VudDogbnVsbCwgJHZlcnRpY2FsOiBudWxsLCAkdmVydGljYWwtYW1vdW50OiBudWxsKSB7XHJcbiAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IG9yICRob3Jpem9udGFsID09IGVuZCB7XHJcbiAgICAkaG9yaXpvbnRhbC1sdHI6IG51bGw7XHJcbiAgICAkaG9yaXpvbnRhbC1ydGw6IG51bGw7XHJcbiAgICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQge1xyXG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IGxlZnQ7XHJcbiAgICAgICRob3Jpem9udGFsLXJ0bDogcmlnaHQ7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJGhvcml6b250YWwtbHRyOiByaWdodDtcclxuICAgICAgJGhvcml6b250YWwtcnRsOiBsZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtbHRyICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtcnRsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRyYW5zZm9ybS1vcmlnaW4oJHgtYXhpcywgJHktYXhpczogbnVsbCkge1xyXG4gIEBpZiAkeC1heGlzID09IHN0YXJ0IHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xyXG4gICAgfVxyXG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBlbmQge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGxlZnQgb3IgJHgtYXhpcyA9PSByaWdodCB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjYWxjKDEwMCUgLSAjeyR4LWF4aXN9KSAkeS1heGlzO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIHRyYW5zZm9ybSBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0cmFuc2Zvcm1zIC0gY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdHJhbnNmb3Jtc1xyXG5AbWl4aW4gdHJhbnNmb3JtKCR0cmFuc2Zvcm1zLi4uKSB7XHJcbiAgJGV4dHJhOiBudWxsO1xyXG5cclxuICAkeDogbnVsbDtcclxuICAkbHRyLXRyYW5zbGF0ZTogbnVsbDtcclxuICAkcnRsLXRyYW5zbGF0ZTogbnVsbDtcclxuXHJcbiAgQGVhY2ggJHRyYW5zZm9ybSBpbiAkdHJhbnNmb3JtcyB7XHJcbiAgICBAaWYgKHN0ci1pbmRleCgkdHJhbnNmb3JtLCB0cmFuc2xhdGUzZCkpIHtcclxuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZTNkKCcpO1xyXG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAnKScpO1xyXG5cclxuICAgICAgJGNvb3JkaW5hdGVzOiBzdHItc3BsaXQoJHRyYW5zZm9ybSwgJywnKTtcclxuXHJcbiAgICAgICR4OiBudGgoJGNvb3JkaW5hdGVzLCAxKTtcclxuICAgICAgJHk6IG50aCgkY29vcmRpbmF0ZXMsIDIpO1xyXG4gICAgICAkejogbnRoKCRjb29yZGluYXRlcywgMyk7XHJcblxyXG4gICAgICAkbHRyLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoJHgsICR5LCAkeik7XHJcbiAgICAgICRydGwtdHJhbnNsYXRlOiB0cmFuc2xhdGUzZChjYWxjKC0xICogI3skeH0pLCAkeSwgJHopO1xyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgIEBpZiAkZXh0cmEgPT0gbnVsbCB7XHJcbiAgICAgICAgJGV4dHJhOiAkdHJhbnNmb3JtO1xyXG4gICAgICB9IEBlbHNlIHtcclxuICAgICAgICAkZXh0cmE6ICRleHRyYSAkdHJhbnNmb3JtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAaWYgJHggPT0gJzAnIG9yICR4ID09IG51bGwge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICB0cmFuc2Zvcm06ICRydGwtdHJhbnNsYXRlICRleHRyYTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTUyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRXh0cmFjdGVkIGZyb21cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLm1peGlucy5zY3NzXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2l0ZW0vaXRlbS5taXhpbnMuc2Nzc1xyXG4gKi9cclxuXHJcbi8vIFJlc3BvbnNpdmUgTWl4aW5zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuLy8gQ3JlYXRlcyBhIGZpeGVkIHdpZHRoIGZvciB0aGUgZ3JpZCBiYXNlZCBvbiB0aGUgc2NyZWVuIHNpemVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AbWl4aW4gbWFrZS1ncmlkLXdpZHRocygkd2lkdGhzOiAkZ3JpZC13aWR0aHMsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gIEBlYWNoICRicmVha3BvaW50LCAkd2lkdGggaW4gJHdpZHRocyB7XHJcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50LCAkYnJlYWtwb2ludHMpIHtcclxuICAgICAgd2lkdGg6ICR3aWR0aDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1heC13aWR0aDogMTAwJTtcclxufVxyXG5cclxuXHJcbi8vIEFkZHMgcGFkZGluZyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiBicmVha3BvaW50c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBtaXhpbiBtYWtlLWJyZWFrcG9pbnQtcGFkZGluZygkcGFkZGluZ3MpIHtcclxuICBAZWFjaCAkYnJlYWtwb2ludCBpbiBtYXAta2V5cygkcGFkZGluZ3MpIHtcclxuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQpIHtcclxuICAgICAgJHBhZGRpbmc6IG1hcC1nZXQoJHBhZGRpbmdzLCAkYnJlYWtwb2ludCk7XHJcblxyXG4gICAgICBAaW5jbHVkZSBwYWRkaW5nKCRwYWRkaW5nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBJdGVtIE1peGluc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQG1peGluIGl0ZW0tcHVzaC1zdmctdXJsKCRmaWxsKSB7XHJcbiAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XHJcblxyXG4gIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgdHJ1ZSk7XHJcbn1cclxuIiwiQHVzZSBcInNhc3M6bWF0aFwiIGFzIG1hdGg7XHJcblxyXG4vKipcclxuICogQXBwIGN1c3RvbSBtaXhpbnMgZm9yIFNDU1NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBQbGFjZSBoZXJlIG91ciBjdXN0b20gbWl4aW5zLlxyXG4gKi9cclxuXHJcbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxyXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCA2LlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogNDglKSB7XHJcbiAgICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsICRwZXJjZW50KTtcclxufVxyXG5cclxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cclxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgLTEwLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA4MCUpIHtcclxuICAgIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgJHBlcmNlbnQpO1xyXG59XHJcblxyXG4vLyBJb25pYyBDb2xvcnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gR2VuZXJhdGVzIHRoZSBjb2xvciBjbGFzc2VzIGFuZCB2YXJpYWJsZXMgYmFzZWQgb24gdGhlXHJcbi8vIGNvbG9ycyBtYXBcclxuXHJcbkBtaXhpbiBnZW5lcmF0ZS1jb2xvcigkY29sb3ItbmFtZSwgJGNvbG9ycywgJHRoZW1lKSB7XHJcbiAgICAkY29sb3ItdGhlbWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRjb2xvci1uYW1lKTtcclxuICAgICRiYXNlOiBtYXAtZ2V0KCRjb2xvci10aGVtZXMsICR0aGVtZSk7XHJcblxyXG4gICAgQGlmICR0aGVtZSA9PSAnZGFyaycge1xyXG4gICAgICAgICRiYXNlOiBtaXgobWFwLWdldCgkY29sb3ItdGhlbWVzLCAnbGlnaHQnKSwgd2hpdGUsIDgwJSkgIWRlZmF1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKTtcclxufVxyXG5cclxuQG1peGluIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSkge1xyXG4gICAgJGNvbnRyYXN0OiBnZXRfY29udHJhc3RfY29sb3IoJGJhc2UpO1xyXG4gICAgJHNoYWRlOiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkYmFzZSk7XHJcbiAgICAkdGludDogZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkYmFzZSk7XHJcblxyXG4gICAgLS0jeyRjb2xvci1uYW1lfTogI3skYmFzZX07XHJcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XHJcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xyXG4gICAgLS0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xyXG5cclxuICAgIC8vIEludGVybmFsIGlvbmljIHVzZSBvbmx5LlxyXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX06IHZhcigtLSN7JGNvbG9yLW5hbWV9KTtcclxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XHJcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGJhc2UpfTtcclxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XHJcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XHJcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xyXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludDogI3skdGludH07XHJcblxyXG4gICAgLmlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSB7XHJcbiAgICAgICAgLS1pb24tY29sb3I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XHJcbiAgICAgICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2UpO1xyXG4gICAgICAgIC0taW9uLWNvbG9yLXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYik7XHJcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3Q6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdCk7XHJcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiKTtcclxuICAgICAgICAtLWlvbi1jb2xvci1zaGFkZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlKTtcclxuICAgICAgICAtLWlvbi1jb2xvci10aW50OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtaXhpbiBjb3JlLWZvY3VzKCkge1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICY6OmFmdGVyIHtcclxuICAgICAgICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgQGluY2x1ZGUgY29yZS1mb2N1cy1zdHlsZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWl4aW4gY29yZS1mb2N1cy1zdHlsZSgpIHtcclxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSAxcHggdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XHJcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcclxuICAgIC8vIFRoaWNrZXIgb3B0aW9uOlxyXG4gICAgLy8gYm9yZGVyOiB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSBzb2xpZCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIGNvcmUtdHJhbnNpdGlvbigkcHJvcGVydGllczogYWxsLCAkZHVyYXRpb246IDUwMG1zLCAkdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dCkge1xyXG4gICAgJHRyYW5zaXRpb25zOiAoKTtcclxuICAgIEBlYWNoICRwcm9wZXJ0eSBpbiAkcHJvcGVydGllcyB7XHJcbiAgICAgICR0cmFuc2l0aW9uczogYXBwZW5kKCR0cmFuc2l0aW9ucywgJHByb3BlcnR5ICRkdXJhdGlvbiAkdGltaW5nLWZ1bmN0aW9uLCBjb21tYSk7XHJcbiAgICB9XHJcblxyXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XHJcbiAgICB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XHJcbn1cclxuXHJcbkBtaXhpbiBzci1vbmx5KCkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDFweDtcclxuICAgIGhlaWdodDogMXB4O1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbjogLTFweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgIGJvcmRlcjogMDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNhbWUgYXMgaXRlbS1wdXNoLXN2Zy11cmwgYnV0IGFkbWl0cyBmbGlwLXJ0bFxyXG4gKi9cclxuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xyXG4gICAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XHJcblxyXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xyXG59XHJcblxyXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xyXG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsICRweCAkdHlwZSAkY29sb3IsIG51bGwpO1xyXG59XHJcblxyXG5AbWl4aW4gYm9yZGVyLWVuZCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcclxuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCBudWxsLCAkcHggJHR5cGUgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItc3RhcnQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XHJcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIGJvcmRlci1zdGFydCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItZW5kKCRweCwgJHR5cGUsICRjb2xvcikge1xyXG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XHJcblxyXG4gICAgQGluY2x1ZGUgYm9yZGVyLWVuZCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xyXG5cclxuICAgIEBpZiAoJGVuZCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcbiAgICB9XHJcbiAgICBAaWYgKCRzdGFydCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1zdGFydCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWVuZCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XHJcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcclxuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XHJcblxyXG4gICAgQGlmICgkZW5kKSB7XHJcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcclxuICAgIH1cclxuICAgIEBpZiAoJHN0YXJ0KSB7XHJcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcclxuICAgIH1cclxuXHJcbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xyXG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgcG9zaXRpb24oJHRvcCwgJHNhZmUtYXJlYS1lbmQsICRib3R0b20sICRzYWZlLWFyZWEtc3RhcnQpO1xyXG59XHJcblxyXG5AbWl4aW4gY29yZS1oZWFkaW5ncygpIHtcclxuICAgIGgxIHtcclxuICAgICAgICBmb250LXNpemU6IDI2cHg7XHJcbiAgICB9XHJcbiAgICBoMiwgLml0ZW0taGVhZGluZyB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgfVxyXG4gICAgaDMge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIH1cclxuICAgIGg0IHtcclxuICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICB9XHJcbiAgICBoNSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG4gICAgaDYge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGRhcmttb2RlKCkge1xyXG4gICAgJHJvb3Q6ICN7Jn07XHJcblxyXG4gICAgQGF0LXJvb3QgI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJodG1sLmRhcmtcIil9IHtcclxuICAgICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XHJcbiAgICBmbGV4OiAwIDAgJHdpZHRoO1xyXG4gICAgbWluLXdpZHRoOiAkbWluLXdpZHRoO1xyXG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xyXG4gICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG5cclxuICAgIGlvbi1jYXJkIHtcclxuICAgICAgICAtLXZlcnRpY2FsLW1hcmdpbjogMTBweDtcclxuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xyXG5cclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pKTtcclxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcclxuICAgICAgICBtYXJnaW46IHZhcigtLXZlcnRpY2FsLW1hcmdpbikgdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pO1xyXG5cclxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcclxuICAgICAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogNnB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gQ29sb3IgbWl4aW5zLlxyXG5AZnVuY3Rpb24gZ2V0X2JyaWdodG5lc3MoJGNvbG9yKSB7XHJcbiAgICBAcmV0dXJuIChyZWQoJGNvbG9yKSArIGdyZWVuKCRjb2xvcikgKyBibHVlKCRjb2xvcikpIC8gMztcclxufVxyXG5cclxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXHJcbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3IoJGNvbG9yKSB7XHJcbiAgICAkbHVtaWFuY2U6IGx1bWluYW5jZSgkY29sb3IpO1xyXG5cclxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDEuXHJcbiAgICAkd2hpdGVDb250cmFzdDogKCRsdW1pYW5jZSArIDAuMDUpIC8gKDEgKyAwLjA1KTtcclxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDAuXHJcbiAgICAkYmxhY2tDb250cmFzdDogKDAuMDUpIC8gKCRsdW1pYW5jZSArIDAuMDUpO1xyXG5cclxuICAgIEByZXR1cm4gaWYoJHdoaXRlQ29udHJhc3QgPCAkYmxhY2tDb250cmFzdCwgd2hpdGUsIGJsYWNrKTtcclxufVxyXG5cclxuLy8gQ29sb3IgY29udHJhc3QgdXNpbmcgeWlxIGFwcm94aW1hdGlvbiB3aXRoIDE1MCB0aHJlc2hvbGQuXHJcbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3JfeWlxKCRjb2xvciwgJGRhcms6IGJsYWNrLCAkbGlnaHQ6IHdoaXRlKSB7XHJcbiAgICAkcjogcmVkKCRjb2xvcik7XHJcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcclxuICAgICRiOiBibHVlKCRjb2xvcik7XHJcblxyXG4gICAgJHlpcTogKCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSkgLyAxMDAwO1xyXG5cclxuICAgIEByZXR1cm4gaWYoJHlpcSA+PSAxMjgsICRkYXJrLCAkbGlnaHQpO1xyXG59XHJcblxyXG4vLyBXQ0FHIGNvbnRyYXN0IGFsZ29yaXRobVxyXG5AZnVuY3Rpb24gY2hlY2stY29udHJhc3QoJGZvcmVncm91bmQsICRiYWNrZ3JvdW5kKSB7XHJcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xyXG4gICAgJGJhY2tncm91bmRMdW1pbmFuY2U6IGx1bWluYW5jZSgkYmFja2dyb3VuZCk7XHJcblxyXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcclxuICAgICAgICBAcmV0dXJuICgkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpIC8gKCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAgIEByZXR1cm4gKCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KSAvICgkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5AZnVuY3Rpb24gbHVtaW5hbmNlKCRjb2xvcikge1xyXG4gICAgJHI6IHJlZCgkY29sb3IpO1xyXG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XHJcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xyXG5cclxuICAgICRyOiBjb21wb25lbnQtbHVtaW5hbmNlKCRyKTtcclxuICAgICRnOiBjb21wb25lbnQtbHVtaW5hbmNlKCRnKTtcclxuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcclxuXHJcbiAgICBAcmV0dXJuICRyICogMC4yMTI2ICsgJGcgKiAwLjcxNTIgKyAkYiAqIDAuMDcyMjtcclxufVxyXG5cclxuQGZ1bmN0aW9uIGNvbXBvbmVudC1sdW1pbmFuY2UoJHZhbHVlKSB7XHJcbiAgICAkdmFsdWU6ICR2YWx1ZSAvIDI1NTtcclxuXHJcbiAgICBAaWYgKCR2YWx1ZSA8PSAwLjAzOTI4KSB7XHJcbiAgICAgICAgQHJldHVybiAkdmFsdWUgLyAxMi45MjtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAgIEByZXR1cm4gbWF0aC5wb3coKCR2YWx1ZSArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcbiAqIEFwcCBDdXN0b20gQXBwIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXHJcbiAqL1xyXG4iLCIvKlxyXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSBhbGwgZ2xvYmFsIHZhcmlhYmxlcy5cclxuICovXHJcblxyXG4kd2hpdGU6ICAgICAgICNmZmZmZmYgIWRlZmF1bHQ7XHJcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcclxuJGdyYXktMjAwOiAgICAjZTllY2VmICFkZWZhdWx0O1xyXG4kZ3JheS0zMDA6ICAgICNkZWUyZTYgIWRlZmF1bHQ7IC8vIFN0cm9rZVxyXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XHJcbiRncmF5LTUwMDogICAgIzhmOTU5ZSAhZGVmYXVsdDsgLy8gU3Ryb2tlIG9uIGlucHV0c1xyXG4kZ3JheS02MDA6ICAgICM2YTczN2IgIWRlZmF1bHQ7XHJcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcclxuJGdyYXktODAwOiAgICAjMzQzYTQwICFkZWZhdWx0O1xyXG4kZ3JheS05MDA6ICAgICMxZDIxMjUgIWRlZmF1bHQ7IC8vIENvcHkgdGV4dFxyXG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXHJcblxyXG4kYmx1ZTogICAgICAgICMwZjZjYmYgIWRlZmF1bHQ7XHJcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXHJcbiRncmVlbjogICAgICAgIzM1N2EzMiAhZGVmYXVsdDtcclxuJHJlZDogICAgICAgICAjY2EzMTIwICFkZWZhdWx0O1xyXG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XHJcblxyXG4kYnJhbmQtY29sb3I6ICNmZjc1MTggIWRlZmF1bHQ7XHJcblxyXG4kdGV4dC1jb2xvcjogICAgICAgICAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XHJcbiR0ZXh0LWNvbG9yLXJnYjogICAgICAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yKSAhZGVmYXVsdDtcclxuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xyXG4kdGV4dC1jb2xvci1kYXJrLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcclxuXHJcbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XHJcbiRiYWNrZ3JvdW5kLWNvbG9yLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvcikgIWRlZmF1bHQ7XHJcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcms6ICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7IC8vICMxYTFhMWFcclxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xyXG5cclxuJGlvbi1pdGVtLWJhY2tncm91bmQ6ICAgICAgJHdoaXRlICFkZWZhdWx0O1xyXG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XHJcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcms6ICRncmF5LTkwMCAhZGVmYXVsdDtcclxuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmspICFkZWZhdWx0O1xyXG5cclxuJHByaW1hcnk6ICAgICRicmFuZC1jb2xvciAhZGVmYXVsdDtcclxuJHNlY29uZGFyeTogICRncmF5LTMwMCAhZGVmYXVsdDtcclxuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XHJcbiR3YXJuaW5nOiAgICAkeWVsbG93ICFkZWZhdWx0O1xyXG4kc3VjY2VzczogICAgJGdyZWVuICFkZWZhdWx0O1xyXG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XHJcbiRsaWdodDogICAgICAkZ3JheS0xMDAgIWRlZmF1bHQ7XHJcbiRtZWRpdW06ICAgICAkZ3JheS03MDAgIWRlZmF1bHQ7XHJcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XHJcblxyXG4kY29sb3JzOiAgKFxyXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxyXG4gICAgc2Vjb25kYXJ5OiAobGlnaHQ6ICRzZWNvbmRhcnksIGRhcms6ICRncmF5LTcwMCksXHJcbiAgICBzdWNjZXNzOiAobGlnaHQ6ICRzdWNjZXNzKSxcclxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxyXG4gICAgZGFuZ2VyOiAgKGxpZ2h0OiAkZGFuZ2VyKSxcclxuICAgIGluZm86IChsaWdodDogJGluZm8pLFxyXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXHJcbiAgICBtZWRpdW06IChsaWdodDogJG1lZGl1bSwgZGFyazogJGdyYXktMjAwKSxcclxuICAgIGRhcms6IChsaWdodDogJGRhcmssIGRhcms6ICRsaWdodCksXHJcbikgIWRlZmF1bHQ7XHJcblxyXG4vKipcclxuICogTGF5b3V0IEJyZWFrcG9pbnRzXHJcbiAqXHJcbiAqIGh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvbGF5b3V0L2dyaWQjZGVmYXVsdC1icmVha3BvaW50c1xyXG4gKi9cclxuXHJcbi8vIFRoZSBtaW5pbXVtIGRpbWVuc2lvbnMgYXQgd2hpY2ggeW91ciBsYXlvdXQgd2lsbCBjaGFuZ2UsXHJcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xyXG4kc2NyZWVuLWJyZWFrcG9pbnRzOiAoXHJcbiAgICB4czogMHB4LFxyXG4gICAgc206IDU3NnB4LFxyXG4gICAgbWQ6IDc2OHB4LFxyXG4gICAgbGc6IDk5MnB4LFxyXG4gICAgdGFibGV0OiA5OTJweCxcclxuICAgIHhsOiAxMjAwcHhcclxuKSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWNvdXJzZS1pbWFnZS1iYWNrZ3JvdW5kOiAjODFlY2VjLCAjNzRiOWZmLCAjYTI5YmZlLCAjZGZlNmU5LCAjMDBiODk0LCAjMDk4NGUzLCAjYjJiZWMzLCAjZmRjYjZlLCAjZmQ3OWE4LCAjNmM1Y2U3ICFkZWZhdWx0O1xyXG4kY29yZS1kZC1xdWVzdGlvbi1jb2xvcnM6ICNGRkZGRkYsICNCMEM0REUsICNEQ0RDREMsICNEOEJGRDgsICM4N0NFRkEsICNEQUE1MjAsICNGRkQ3MDAsICNGMEU2OEMgIWRlZmF1bHQ7XHJcbiRjb3JlLXRleHQtaGlnaHRsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRibHVlLCA0MCUpICFkZWZhdWx0O1xyXG5cclxuJGNvcmUtZml4ZWQtdXJsOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtZGFzaGJvYXJkLWxvZ286IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1hbHdheXMtc2hvdy1tYWluLW1lbnU6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1mb3JtYXQtdGV4dC1uZXZlci1zaG9ydGVuOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWhpZGUtY291cnNlaW1hZ2Utb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1jb3Vyc2U6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLXNlY3Rpb24tc2VsZWN0b3I6IGZhbHNlICFkZWZhdWx0O1xyXG5cclxuJGNvcmUtY291cnNlLWhpZGUtdGh1bWItb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1jb3Vyc2UtdGh1bWItb24tY2FyZHMtYmFja2dyb3VuZDogbnVsbCAhZGVmYXVsdDtcclxuJGNvcmUtY291cnNlLWhpZGUtcHJvZ3Jlc3Mtb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xyXG5cclxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBsb2dpbiBwYWdlLlxyXG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZTogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lLWRhcms6ICRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvci1kYXJrOiAkdGV4dC1jb2xvci1kYXJrICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1oaWRlLWZvcmdvdC1wYXNzd29yZDogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWxvZ2luLWhpZGUtbmVlZC1oZWxwOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4taGlkZS1xcmNvZGU6IGZhbHNlICFkZWZhdWx0O1xyXG5cclxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3JlIHBhZ2UuIChkZXByZWNhdGVkIG9uIDQuMClcclxuJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmw6IGZhbHNlICFkZWZhdWx0O1xyXG5cclxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB1c2VyIHBhZ2UuXHJcbiRjb3JlLXVzZXItaGlkZS1zaXRlaW5mbzogJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvICFkZWZhdWx0O1xyXG4kY29yZS11c2VyLWhpZGUtc2l0ZW5hbWU6ICRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZSAhZGVmYXVsdDtcclxuJGNvcmUtdXNlci1oaWRlLXNpdGV1cmw6ICRjb3JlLW1vcmUtaGlkZS1zaXRldXJsICFkZWZhdWx0O1xyXG5cclxuLy8gQWN0aXZpdHkgaWNvbiBiYWNrZ3JvdW5kIGNvbG9ycy5cclxuJGFjdGl2aXR5LWljb24tY29sb3JzOiAoXHJcbiAgICBhZG1pbmlzdHJhdGlvbjogIzVkNjNmNixcclxuICAgIGFzc2Vzc21lbnQ6ICNlYjY2YTIsXHJcbiAgICBjb2xsYWJvcmF0aW9uOiAjZjc2MzRkLFxyXG4gICAgY29tbXVuaWNhdGlvbjogIzExYTY3NixcclxuICAgIGNvbnRlbnQ6ICMzOTliZTIsXHJcbiAgICBpbnRlcmZhY2U6ICNhMzc4ZmZcclxuKSAhZGVmYXVsdDtcclxuXHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeTogIzhlMjRhYSAhZGVmYXVsdDtcclxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZTogJHJlZCAhZGVmYXVsdDtcclxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwOiAkeWVsbG93ICFkZWZhdWx0O1xyXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcjogJGJsdWUgIWRlZmF1bHQ7XHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlOiAkZ3JlZW4gIWRlZmF1bHQ7XHJcblxyXG4vLyBDYWxlbmRhciBldmVudCBjYXRlZ29yeSBiYWNrZ3JvdW5kIGNvbG9ycy5cclxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9yczogKFxyXG4gICAgY2F0ZWdvcnk6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeSxcclxuICAgIGNvdXJzZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZSxcclxuICAgIGdyb3VwOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXAsXHJcbiAgICB1c2VyOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcixcclxuICAgIHNpdGU6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlLFxyXG4pICFkZWZhdWx0O1xyXG4iLCJAaW1wb3J0IFwifnRoZW1lL2dsb2JhbHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAgIC0tY291cnNlLXN0b3JhZ2UtbWF4LWFjdGl2aXR5LWhlaWdodDogMTIwcHg7XHJcblxyXG4gICAgaW9uLWNhcmQgaW9uLWl0ZW0uc2l6ZSB7XHJcbiAgICAgICAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIGlvbi1jYXJkLnNlY3Rpb24ge1xyXG4gICAgICAgIGlvbi1jYXJkLWhlYWRlciB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlvbi1jYXJkLWNvbnRlbnQge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAgICAgLmNvcmUtY291cnNlLXN0b3JhZ2UtYWN0aXZpdHkgaW9uLWxhYmVsIHtcclxuICAgICAgICAgICAgICAgIGgzIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogdmFyKC0tY291cnNlLXN0b3JhZ2UtbWF4LWFjdGl2aXR5LWhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICA6Om5nLWRlZXAgKiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAmOmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZhcigtLWNvdXJzZS1zdG9yYWdlLW1heC1hY3Rpdml0eS1oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIG51bGwsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKHZhcigtLWJhY2tncm91bmQtZ3JhZGllbnQtcmdiKSwgMCkgY2FsYygxMDAlIC0gMzBweCksIHJnYmEodmFyKC0tYmFja2dyb3VuZC1ncmFkaWVudC1yZ2IpLCAxKSBjYWxjKDEwMCUgLSAyMHB4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAuaXRlbS1oZWFkaW5nIHtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaW9uLWJhZGdlIHtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgIGlvbi1pY29uIHtcclxuICAgICAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbChudWxsLCA4cHgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5pb24taXRlbSBjb3JlLW1vZC1pY29uIHtcclxuICAgIC0tc2l6ZTogMThweDtcclxuICAgIHBhZGRpbmc6IDlweDtcclxuICAgIC0tbWFyZ2luLXZlcnRpY2FsOiA4cHg7XHJcbiAgICAtLW1hcmdpbi1lbmQ6IDhweDtcclxufVxyXG5cclxuLnN0b3JhZ2UtYnV0dG9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG4iXX0= */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreConstants } from '@/core/constants';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport { CoreCourse, CoreCourseProvider } from '@features/course/services/course';\nimport {\n    CoreCourseHelper,\n    CoreCourseModuleData,\n    CoreCourseSectionWithStatus,\n    CorePrefetchStatusInfo,\n} from '@features/course/services/course-helper';\nimport {\n    CoreCourseModulePrefetchDelegate,\n    CoreCourseModulePrefetchHandler } from '@features/course/services/module-prefetch-delegate';\nimport { CoreCourseAnyCourseData, CoreCourses } from '@features/courses/services/courses';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { Translate } from '@singletons';\nimport { CoreDom } from '@singletons/dom';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\n\n/**\n * Page that displays the amount of file storage used by each activity on the course, and allows\n * the user to prefecth and delete this data.\n */\n@Component({\n    selector: 'page-addon-storagemanager-course-storage',\n    templateUrl: 'course-storage.html',\n    styleUrls: ['course-storage.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AddonStorageManagerCourseStoragePage implements OnInit, OnDestroy {\n\n    courseId!: number;\n    title = '';\n    loaded = false;\n    sections: AddonStorageManagerCourseSection[] = [];\n    totalSize = 0;\n    calculatingSize = true;\n\n    downloadEnabled = false;\n    downloadCourseEnabled = false;\n\n    prefetchCourseData: CorePrefetchStatusInfo = {\n        icon: CoreConstants.ICON_LOADING,\n        statusTranslatable: 'core.course.downloadcourse',\n        status: '',\n        loading: true,\n    };\n\n    statusDownloaded = CoreConstants.DOWNLOADED;\n\n    protected initialSectionId?: number;\n    protected siteUpdatedObserver?: CoreEventObserver;\n    protected courseStatusObserver?: CoreEventObserver;\n    protected sectionStatusObserver?: CoreEventObserver;\n    protected moduleStatusObserver?: CoreEventObserver;\n    protected isDestroyed = false;\n    protected isGuest = false;\n\n    constructor(protected elementRef: ElementRef, protected changeDetectorRef: ChangeDetectorRef) {\n        // Refresh the enabled flags if site is updated.\n        this.siteUpdatedObserver = CoreEvents.on(CoreEvents.SITE_UPDATED, () => {\n            this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n            this.downloadEnabled = !CoreSites.getRequiredCurrentSite().isOfflineDisabled();\n\n            this.initCoursePrefetch();\n            this.initModulePrefetch();\n            this.changeDetectorRef.markForCheck();\n        }, CoreSites.getCurrentSiteId());\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.courseId = CoreNavigator.getRequiredRouteParam('courseId');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        this.title = CoreNavigator.getRouteParam<string>('title') || '';\n        if (!this.title && this.courseId == CoreSites.getCurrentSiteHomeId()) {\n            this.title = Translate.instant('core.sitehome.sitehome');\n        }\n\n        this.isGuest = CoreNavigator.getRouteBooleanParam('isGuest') ??\n            (await CoreCourseHelper.courseUsesGuestAccessInfo(this.courseId)).guestAccess;\n\n        this.initialSectionId = CoreNavigator.getRouteNumberParam('sectionId');\n\n        this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n        this.downloadEnabled = !CoreSites.getRequiredCurrentSite().isOfflineDisabled();\n\n        const sections = (await CoreCourse.getSections(this.courseId, false, true))\n            .filter((section) => !CoreCourseHelper.isSectionStealth(section));\n        this.sections = (await CoreCourseHelper.addHandlerDataForModules(sections, this.courseId)).sections\n            .map(section => ({\n                ...section,\n                totalSize: 0,\n                calculatingSize: true,\n                expanded: section.id === this.initialSectionId,\n                modules: section.modules.map(module => ({\n                    ...module,\n                    calculatingSize: true,\n                })),\n            }));\n\n        this.loaded = true;\n\n        CoreDom.scrollToElement(\n            this.elementRef.nativeElement,\n            '.core-course-storage-section-expanded',\n            { addYAxis: -10 },\n        );\n\n        await Promise.all([\n            this.initSizes(),\n            this.initCoursePrefetch(),\n            this.initModulePrefetch(),\n        ]);\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /**\n     * Init course prefetch information.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async initCoursePrefetch(): Promise<void> {\n        if (!this.downloadCourseEnabled || this.courseStatusObserver) {\n            return;\n        }\n\n        // Listen for changes in course status.\n        this.courseStatusObserver = CoreEvents.on(CoreEvents.COURSE_STATUS_CHANGED, (data) => {\n            if (data.courseId == this.courseId || data.courseId == CoreCourseProvider.ALL_COURSES_CLEARED) {\n                this.updateCourseStatus(data.status);\n            }\n        }, CoreSites.getCurrentSiteId());\n\n        // Determine the course prefetch status.\n        await this.determineCoursePrefetchIcon();\n\n        if (this.prefetchCourseData.icon != CoreConstants.ICON_LOADING) {\n            return;\n        }\n\n        // Course is being downloaded. Get the download promise.\n        const promise = CoreCourseHelper.getCourseDownloadPromise(this.courseId);\n        if (promise) {\n            // There is a download promise. Show an error if it fails.\n            promise.catch((error) => {\n                if (!this.isDestroyed) {\n                    CoreDomUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                }\n            });\n        } else {\n            // No download, this probably means that the app was closed while downloading. Set previous status.\n            const status = await CoreCourse.setCoursePreviousStatus(this.courseId);\n\n            this.updateCourseStatus(status);\n        }\n    }\n\n    /**\n     * Init module prefetch information.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async initModulePrefetch(): Promise<void> {\n        if (!this.downloadEnabled || this.sectionStatusObserver) {\n            return;\n        }\n\n        // Listen for section status changes.\n        this.sectionStatusObserver = CoreEvents.on(\n            CoreEvents.SECTION_STATUS_CHANGED,\n            async (data) => {\n                if (!this.downloadEnabled || !this.sections.length || !data.sectionId || data.courseId != this.courseId) {\n                    return;\n                }\n\n                // Check if the affected section is being downloaded.\n                // If so, we don't update section status because it'll already be updated when the download finishes.\n                const downloadId = CoreCourseHelper.getSectionDownloadId({ id: data.sectionId });\n                if (CoreCourseModulePrefetchDelegate.isBeingDownloaded(downloadId)) {\n                    return;\n                }\n\n                // Get the affected section.\n                const section = this.sections.find(section => section.id == data.sectionId);\n                if (!section) {\n                    return;\n                }\n\n                // Recalculate the status.\n                await CoreCourseHelper.calculateSectionStatus(section, this.courseId, false);\n\n                if (section.isDownloading && !CoreCourseModulePrefetchDelegate.isBeingDownloaded(downloadId)) {\n                    // All the modules are now downloading, set a download all promise.\n                    this.prefecthSection(section);\n                }\n            },\n            CoreSites.getCurrentSiteId(),\n        );\n\n        // The download status of a section might have been changed from within a module page.\n        CoreCourseHelper.calculateSectionsStatus(this.sections, this.courseId, false, false);\n\n        this.sections.forEach((section) => {\n            section.modules.forEach((module) => {\n                if (module.handlerData?.showDownloadButton) {\n\n                    module.spinner = true;\n                    // Listen for changes on this module status, even if download isn't enabled.\n                    module.prefetchHandler = CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(module.modname);\n                    this.calculateModuleStatus(module);\n                }\n            });\n        });\n\n        this.moduleStatusObserver = CoreEvents.on(CoreEvents.PACKAGE_STATUS_CHANGED, (data) => {\n            let module: AddonStorageManagerModule | undefined;\n\n            this.sections.some((section) => {\n                module = section.modules.find((module) =>\n                    module.id == data.componentId && module.prefetchHandler && data.component == module.prefetchHandler?.component);\n\n                return !!module;\n            });\n\n            if (!module) {\n                return;\n            }\n\n            // Call determineModuleStatus to get the right status to display.\n            const status = CoreCourseModulePrefetchDelegate.determineModuleStatus(module, data.status);\n\n            // Update the status.\n            this.updateModuleStatus(module, status);\n        }, CoreSites.getCurrentSiteId());\n    }\n\n    /**\n     * Init section, course and modules sizes.\n     */\n    protected async initSizes(): Promise<void> {\n        await Promise.all(this.sections.map(async (section) => {\n            await Promise.all(section.modules.map(async (module) => {\n                // Note: This function only gets the size for modules which are downloadable.\n                // For other modules it always returns 0, even if they have downloaded some files.\n                // However there is no 100% reliable way to actually track the files in this case.\n                // You can maybe guess it based on the component and componentid.\n                // But these aren't necessarily consistent, for example mod_frog vs mmaModFrog.\n                // There is nothing enforcing correct values.\n                // Most modules which have large files are downloadable, so I think this is sufficient.\n                const size = await CoreCourseModulePrefetchDelegate.getModuleStoredSize(module, this.courseId);\n\n                // There are some cases where the return from this is not a valid number.\n                if (!isNaN(size)) {\n                    module.totalSize = Number(size);\n                    section.totalSize += size;\n                    this.totalSize += size;\n                }\n\n                module.calculatingSize = false;\n            }));\n\n            section.calculatingSize = false;\n        }));\n\n        this.calculatingSize = false;\n\n        // Mark course as not downloaded if course size is 0.\n        if (this.totalSize == 0) {\n            this.markCourseAsNotDownloaded();\n        }\n    }\n\n    /**\n     * Update the sizes of some modules.\n     *\n     * @param modules Modules.\n     * @param section Section the modules belong to.\n     * @returns Promise resolved when done.\n     */\n    protected async updateModulesSizes(\n        modules: AddonStorageManagerModule[],\n        section?: AddonStorageManagerCourseSection,\n    ): Promise<void> {\n        this.calculatingSize = true;\n\n        await Promise.all(modules.map(async (module) => {\n            if (module.calculatingSize) {\n                return;\n            }\n\n            module.calculatingSize = true;\n            this.changeDetectorRef.markForCheck();\n\n            if (!section) {\n                section = this.sections.find((section) => section.modules.some((mod) => mod.id === module.id));\n                if (section) {\n                    section.calculatingSize = true;\n                    this.changeDetectorRef.markForCheck();\n                }\n            }\n\n            try {\n                const size = await CoreCourseModulePrefetchDelegate.getModuleStoredSize(module, this.courseId);\n\n                const diff = (isNaN(size) ? 0 : size) - (module.totalSize ?? 0);\n\n                module.totalSize = Number(size);\n                this.totalSize += diff;\n                if (section) {\n                    section.totalSize += diff;\n                }\n            } catch {\n                // Ignore errors, it shouldn't happen.\n            } finally {\n                module.calculatingSize = false;\n                this.changeDetectorRef.markForCheck();\n            }\n        }));\n\n        this.calculatingSize = false;\n        if (section) {\n            section.calculatingSize = false;\n        }\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /**\n     * The user has requested a delete for the whole course data.\n     *\n     * (This works by deleting data for each module on the course that has data.)\n     *\n     * @param event Event object.\n     */\n    async deleteForCourse(event: Event): Promise<void> {\n        event.stopPropagation();\n        event.preventDefault();\n\n        try {\n            await CoreDomUtils.showDeleteConfirm(\n                'addon.storagemanager.confirmdeletedatafrom',\n                { name: this.title },\n            );\n        } catch (error) {\n            if (!CoreDomUtils.isCanceledError(error)) {\n                throw error;\n            }\n\n            return;\n        }\n\n        const modules: AddonStorageManagerModule[] = [];\n        this.sections.forEach((section) => {\n            section.modules.forEach((module) => {\n                if (module.totalSize && module.totalSize > 0) {\n                    modules.push(module);\n                }\n            });\n        });\n\n        this.deleteModules(modules);\n    }\n\n    /**\n     * The user has requested a delete for a section's data.\n     *\n     * (This works by deleting data for each module in the section that has data.)\n     *\n     * @param event Event object.\n     * @param section Section object with information about section and modules\n     */\n    async deleteForSection(event: Event, section: AddonStorageManagerCourseSection): Promise<void> {\n        event.stopPropagation();\n        event.preventDefault();\n\n        try {\n            await CoreDomUtils.showDeleteConfirm(\n                'addon.storagemanager.confirmdeletedatafrom',\n                { name: section.name },\n            );\n        } catch (error) {\n            if (!CoreDomUtils.isCanceledError(error)) {\n                throw error;\n            }\n\n            return;\n        }\n\n        const modules: AddonStorageManagerModule[] = [];\n        section.modules.forEach((module) => {\n            if (module.totalSize && module.totalSize > 0) {\n                modules.push(module);\n            }\n        });\n\n        this.deleteModules(modules, section);\n    }\n\n    /**\n     * The user has requested a delete for a module's data\n     *\n     * @param event Event object.\n     * @param module Module details\n     * @param section Section the module belongs to.\n     */\n    async deleteForModule(\n        event: Event,\n        module: AddonStorageManagerModule,\n        section: AddonStorageManagerCourseSection,\n    ): Promise<void> {\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (module.totalSize === 0) {\n            return;\n        }\n\n        try {\n            await CoreDomUtils.showDeleteConfirm(\n                'addon.storagemanager.confirmdeletedatafrom',\n                { name: module.name },\n            );\n        } catch (error) {\n            if (!CoreDomUtils.isCanceledError(error)) {\n                throw error;\n            }\n\n            return;\n        }\n\n        this.deleteModules([module], section);\n    }\n\n    /**\n     * Deletes the specified modules, showing the loading overlay while it happens.\n     *\n     * @param modules Modules to delete\n     * @param section Section the modules belong to.\n     * @returns Promise<void> Once deleting has finished\n     */\n    protected async deleteModules(modules: AddonStorageManagerModule[], section?: AddonStorageManagerCourseSection): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading('core.deleting', true);\n\n        const promises: Promise<void>[] = [];\n        modules.forEach((module) => {\n            // Remove the files.\n            const promise = CoreCourseHelper.removeModuleStoredData(module, this.courseId).then(() => {\n                const moduleSize = module.totalSize || 0;\n                // When the files and cache are removed, update the size.\n                if (section) {\n                    section.totalSize -= moduleSize;\n                }\n                this.totalSize -= moduleSize;\n                module.totalSize = 0;\n\n                return;\n            });\n\n            promises.push(promise);\n        });\n\n        try {\n            await Promise.all(promises);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, Translate.instant('core.errordeletefile'));\n        } finally {\n            modal.dismiss();\n\n            await this.updateModulesSizes(modules, section);\n            CoreCourseHelper.calculateSectionsStatus(this.sections, this.courseId, false, false);\n\n            // For delete all, reset all section sizes so icons are updated.\n            if (this.totalSize === 0) {\n                this.sections.map(section => section.totalSize = 0);\n            }\n            this.changeDetectorRef.markForCheck();\n        }\n    }\n\n    /**\n     * Mark course as not downloaded.\n     */\n    protected markCourseAsNotDownloaded(): void {\n        // @TODO In order to correctly check the status of the course we should check all module statuses.\n        // We are currently marking as not downloaded if size is 0 but we should take into account that\n        // resources without files can be downloaded and cached.\n\n        CoreCourse.setCourseStatus(this.courseId, CoreConstants.NOT_DOWNLOADED);\n    }\n\n    /**\n     * Calculate the status of sections.\n     *\n     * @param refresh If refresh or not.\n     */\n    protected calculateSectionsStatus(refresh?: boolean): void {\n        if (!this.sections) {\n            return;\n        }\n\n        CoreUtils.ignoreErrors(CoreCourseHelper.calculateSectionsStatus(this.sections, this.courseId, refresh));\n    }\n\n    /**\n     * Confirm and prefetch a section. If the section is \"all sections\", prefetch all the sections.\n     *\n     * @param section Section to download.\n     */\n    async prefecthSection(section: AddonStorageManagerCourseSection): Promise<void> {\n        section.isCalculating = true;\n        this.changeDetectorRef.markForCheck();\n        try {\n            await CoreCourseHelper.confirmDownloadSizeSection(this.courseId, section, this.sections);\n\n            try {\n                await CoreCourseHelper.prefetchSection(section, this.courseId, this.sections);\n\n            } catch (error) {\n                if (!this.isDestroyed) {\n                    CoreDomUtils.showErrorModalDefault(error, 'core.course.errordownloadingsection', true);\n                }\n            } finally {\n                await this.updateModulesSizes(section.modules, section);\n                this.changeDetectorRef.markForCheck();\n            }\n        } catch (error) {\n            // User cancelled or there was an error calculating the size.\n            if (!this.isDestroyed && error) {\n                CoreDomUtils.showErrorModal(error);\n                this.changeDetectorRef.markForCheck();\n\n                return;\n            }\n        } finally {\n            section.isCalculating = false;\n            this.changeDetectorRef.markForCheck();\n        }\n    }\n\n    /**\n     * Download the module.\n     *\n     * @param module Module to prefetch.\n     * @param refresh Whether it's refreshing.\n     * @returns Promise resolved when done.\n     */\n    async prefetchModule(\n        module: AddonStorageManagerModule,\n        refresh = false,\n    ): Promise<void> {\n        if (!module.prefetchHandler) {\n            return;\n        }\n\n        // Show spinner since this operation might take a while.\n        module.spinner = true;\n\n        try {\n            // Get download size to ask for confirm if it's high.\n\n            const size = await module.prefetchHandler.getDownloadSize(module, module.course, true);\n\n            await CoreCourseHelper.prefetchModule(module.prefetchHandler, module, size, module.course, refresh);\n\n            CoreCourseHelper.calculateSectionsStatus(this.sections, this.courseId, false, false);\n        } catch (error) {\n            if (!this.isDestroyed) {\n                CoreDomUtils.showErrorModalDefault(error, 'core.errordownloading', true);\n            }\n        } finally {\n            module.spinner = false;\n\n            await this.updateModulesSizes([module]);\n\n        }\n    }\n\n    /**\n     * Show download buttons according to module status.\n     *\n     * @param module Module to update.\n     * @param status Module status.\n     */\n    protected updateModuleStatus(module: AddonStorageManagerModule, status: string): void {\n        if (!status) {\n            return;\n        }\n\n        module.spinner = false;\n        module.downloadStatus = status;\n\n        module.handlerData?.updateStatus?.(status);\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /**\n     * Calculate and show module status.\n     *\n     * @param module Module to update.\n     * @returns Promise resolved when done.\n     */\n    protected async calculateModuleStatus(module: AddonStorageManagerModule): Promise<void> {\n        if (!module) {\n            return;\n        }\n\n        const status = await CoreCourseModulePrefetchDelegate.getModuleStatus(module, this.courseId);\n\n        this.updateModuleStatus(module, status);\n    }\n\n    /**\n     * Determines the prefetch icon of the course.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async determineCoursePrefetchIcon(): Promise<void> {\n        this.prefetchCourseData = await CoreCourseHelper.getCourseStatusIconAndTitle(this.courseId);\n    }\n\n    /**\n     * Update the course status icon and title.\n     *\n     * @param status Status to show.\n     */\n    protected updateCourseStatus(status: string): void {\n        const statusData = CoreCourseHelper.getCoursePrefetchStatusInfo(status);\n\n        this.prefetchCourseData.status = statusData.status;\n        this.prefetchCourseData.icon = statusData.icon;\n        this.prefetchCourseData.statusTranslatable = statusData.statusTranslatable;\n        this.prefetchCourseData.loading = statusData.loading;\n        this.changeDetectorRef.markForCheck();\n    }\n\n    protected async getCourse(courseId: number): Promise<CoreCourseAnyCourseData | undefined> {\n        try {\n            // Check if user is enrolled. If enrolled, no guest access.\n            return await CoreCourses.getUserCourse(courseId, true);\n        } catch {\n            // Ignore errors.\n        }\n\n        try {\n            // The user is not enrolled in the course. Use getCourses to see if it's an admin/manager and can see the course.\n            return await CoreCourses.getCourse(courseId);\n        } catch {\n            // Ignore errors.\n        }\n\n        return await CoreCourses.getCourseByField('id', this.courseId);\n\n    }\n\n    /**\n     * Prefetch the whole course.\n     *\n     * @param event Event object.\n     */\n    async prefetchCourse(event: Event): Promise<void> {\n        event.stopPropagation();\n        event.preventDefault();\n\n        const course = await this.getCourse(this.courseId);\n        if (!course) {\n            CoreDomUtils.showErrorModal('core.course.errordownloadingcourse', true);\n\n            return;\n        }\n\n        try {\n            this.changeDetectorRef.markForCheck();\n            await CoreCourseHelper.confirmAndPrefetchCourse(\n                this.prefetchCourseData,\n                course,\n                {\n                    sections: this.sections,\n                    isGuest: this.isGuest,\n                },\n            );\n            await Promise.all(this.sections.map(section => this.updateModulesSizes(section.modules, section)));\n            this.changeDetectorRef.markForCheck();\n        } catch (error) {\n            if (this.isDestroyed) {\n                return;\n            }\n\n            CoreDomUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n        }\n    }\n\n    /**\n     * Toggle expand status.\n     *\n     * @param event Event object.\n     * @param section Section to expand / collapse.\n     */\n    toggleExpand(event: Event, section: AddonStorageManagerCourseSection): void {\n        section.expanded = !section.expanded;\n        event.stopPropagation();\n        event.preventDefault();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.courseStatusObserver?.off();\n        this.sectionStatusObserver?.off();\n        this.moduleStatusObserver?.off();\n        this.siteUpdatedObserver?.off();\n\n        this.sections.forEach((section) => {\n            section.modules.forEach((module) => {\n                module.handlerData?.onDestroy?.();\n            });\n        });\n        this.isDestroyed = true;\n    }\n\n}\n\ntype AddonStorageManagerCourseSection = Omit<CoreCourseSectionWithStatus, 'modules'> & {\n    totalSize: number;\n    calculatingSize: boolean;\n    expanded: boolean;\n    modules: AddonStorageManagerModule[];\n};\n\ntype AddonStorageManagerModule = CoreCourseModuleData & {\n    totalSize?: number;\n    calculatingSize: boolean;\n    prefetchHandler?: CoreCourseModulePrefetchHandler;\n    spinner?: boolean;\n    downloadStatus?: string;\n};\n","export default \"ion-item.courses .item-heading,\\nion-item.total .item-heading {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvc3RvcmFnZW1hbmFnZXIvcGFnZXMvY291cnNlcy1zdG9yYWdlL2NvdXJzZXMtc3RvcmFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJOztFQUNJLGlCQUFBO0FBQVIiLCJmaWxlIjoic3JjL2FkZG9ucy9zdG9yYWdlbWFuYWdlci9wYWdlcy9jb3Vyc2VzLXN0b3JhZ2UvY291cnNlcy1zdG9yYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbS5jb3Vyc2VzLFxyXG5pb24taXRlbS50b3RhbCB7XHJcbiAgICAuaXRlbS1oZWFkaW5nIHtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIH1cclxufVxyXG4iXX0= */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreConstants } from '@/core/constants';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { CoreCourse, CoreCourseProvider } from '@features/course/services/course';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { CoreCourseModulePrefetchDelegate } from '@features/course/services/module-prefetch-delegate';\nimport { CoreCourses, CoreEnrolledCourseData } from '@features/courses/services/courses';\nimport { CoreSettingsHelper, CoreSiteSpaceUsage } from '@features/settings/services/settings-helper';\nimport { CoreSiteHome } from '@features/sitehome/services/sitehome';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { Translate } from '@singletons';\nimport { CoreArray } from '@singletons/array';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\n\n/**\n * Page that displays downloaded courses and allows the user to delete them.\n */\n@Component({\n    selector: 'page-addon-storagemanager-courses-storage',\n    templateUrl: 'courses-storage.html',\n    styleUrls: ['courses-storage.scss'],\n})\nexport class AddonStorageManagerCoursesStoragePage implements OnInit, OnDestroy {\n\n    userCourses: CoreEnrolledCourseData[] = [];\n    downloadedCourses: DownloadedCourse[] = [];\n    completelyDownloadedCourses: DownloadedCourse[] = [];\n    totalSize = 0;\n    loaded = false;\n    spaceUsage: CoreSiteSpaceUsage = {\n        cacheEntries: 0,\n        spaceUsage: 0,\n    };\n\n    courseStatusObserver?: CoreEventObserver;\n    siteId: string;\n\n    constructor() {\n        this.siteId = CoreSites.getCurrentSiteId();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        this.userCourses = await CoreCourses.getUserCourses();\n        this.courseStatusObserver = CoreEvents.on(\n            CoreEvents.COURSE_STATUS_CHANGED,\n            ({ courseId, status }) => this.onCourseUpdated(courseId, status),\n        );\n\n        const downloadedCourseIds = await CoreCourse.getDownloadedCourseIds();\n        const downloadedCourses = await Promise.all(\n            this.userCourses\n                .filter((course) => downloadedCourseIds.indexOf(course.id) !== -1)\n                .map((course) => this.getDownloadedCourse(course)),\n        );\n\n        const siteHomeEnabled = await CoreSiteHome.isAvailable(this.siteId);\n        if (siteHomeEnabled) {\n            const siteHomeId = CoreSites.getCurrentSiteHomeId();\n            const size = await this.calculateDownloadedCourseSize(siteHomeId);\n            if (size > 0) {\n                const status = await CoreCourse.getCourseStatus(siteHomeId);\n\n                downloadedCourses.push({\n                    id: siteHomeId,\n                    title: Translate.instant('core.sitehome.sitehome'),\n                    totalSize: size,\n                    isDownloading: status === CoreConstants.DOWNLOADING,\n                });\n            }\n        }\n\n        this.spaceUsage = await CoreSettingsHelper.getSiteSpaceUsage(this.siteId);\n\n        this.setDownloadedCourses(downloadedCourses);\n\n        this.loaded = true;\n    }\n\n    /**\n     * Component destroyed.\n     */\n    ngOnDestroy(): void {\n        this.courseStatusObserver?.off();\n    }\n\n    /**\n     * Delete all courses that have been downloaded.\n     *\n     * @param event Event Object.\n     */\n    async deleteCompletelyDownloadedCourses(event: Event): Promise<void> {\n        event.preventDefault();\n        event.stopPropagation();\n\n        try {\n            await CoreDomUtils.showDeleteConfirm('addon.storagemanager.confirmdeletecourses');\n        } catch (error) {\n            if (!CoreDomUtils.isCanceledError(error)) {\n                throw error;\n            }\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.deleting', true);\n        const deletedCourseIds = this.completelyDownloadedCourses.map((course) => course.id);\n\n        try {\n            await Promise.all(deletedCourseIds.map((courseId) => CoreCourseHelper.deleteCourseFiles(courseId)));\n\n            this.setDownloadedCourses(this.downloadedCourses.filter((course) => !deletedCourseIds.includes(course.id)));\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, Translate.instant('core.errordeletefile'));\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Delete course.\n     *\n     * @param event Event Object.\n     * @param course Course to delete.\n     */\n    async deleteCourse(event: Event, course: DownloadedCourse): Promise<void> {\n        event.preventDefault();\n        event.stopPropagation();\n\n        try {\n            await CoreDomUtils.showDeleteConfirm(\n                'addon.storagemanager.confirmdeletedatafrom',\n                { name: course.title },\n            );\n        } catch (error) {\n            if (!CoreDomUtils.isCanceledError(error)) {\n                throw error;\n            }\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.deleting', true);\n\n        try {\n            await CoreCourseHelper.deleteCourseFiles(course.id);\n\n            this.setDownloadedCourses(CoreArray.withoutItem(this.downloadedCourses, course));\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, Translate.instant('core.errordeletefile'));\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Handle course updated event.\n     *\n     * @param courseId Updated course id.\n     */\n    private async onCourseUpdated(courseId: number, status: string): Promise<void> {\n        if (courseId == CoreCourseProvider.ALL_COURSES_CLEARED) {\n            this.setDownloadedCourses([]);\n\n            return;\n        }\n\n        const course = this.downloadedCourses.find((course) => course.id === courseId);\n\n        if (!course) {\n            return;\n        }\n\n        course.isDownloading = status === CoreConstants.DOWNLOADING;\n        course.totalSize = await this.calculateDownloadedCourseSize(course.id);\n\n        this.setDownloadedCourses(this.downloadedCourses);\n    }\n\n    /**\n     * Set downloaded courses data.\n     *\n     * @param courses Courses info.\n     */\n    private setDownloadedCourses(courses: DownloadedCourse[]): void {\n        this.downloadedCourses = courses.sort((a, b) => b.totalSize - a.totalSize);\n        this.completelyDownloadedCourses = courses.filter((course) => !course.isDownloading);\n        this.totalSize = this.downloadedCourses.reduce((totalSize, course) => totalSize + course.totalSize, 0);\n    }\n\n    /**\n     * Get downloaded course data.\n     *\n     * @param course Course.\n     * @returns Course info.\n     */\n    private async getDownloadedCourse(course: CoreEnrolledCourseData): Promise<DownloadedCourse> {\n        const totalSize = await this.calculateDownloadedCourseSize(course.id);\n        const status = await CoreCourse.getCourseStatus(course.id);\n\n        return {\n            id: course.id,\n            title: course.displayname || course.fullname,\n            totalSize,\n            isDownloading: status === CoreConstants.DOWNLOADING,\n        };\n    }\n\n    /**\n     * Calculate the size of a downloaded course.\n     *\n     * @param courseId Downloaded course id.\n     * @returns Promise to be resolved with the course size.\n     */\n    private async calculateDownloadedCourseSize(courseId: number): Promise<number> {\n        const sections = await CoreCourse.getSections(courseId);\n        const modules = CoreArray.flatten(sections.map((section) => section.modules));\n        const promisedModuleSizes = modules.map(async (module) => {\n            const size = await CoreCourseModulePrefetchDelegate.getModuleStoredSize(module, courseId);\n\n            return isNaN(size) ? 0 : size;\n        });\n        const moduleSizes = await Promise.all(promisedModuleSizes);\n\n        return moduleSizes.reduce((totalSize, moduleSize) => totalSize + moduleSize, 0);\n    }\n\n    /**\n     * Open course storage.\n     *\n     * @param courseId Course Id.\n     */\n    openCourse(courseId: number, title: string): void {\n        CoreNavigator.navigateToSitePath('/storage/' + courseId, { params: { title } });\n    }\n\n    /**\n     * Deletes files of a site and the tables that can be cleared.\n     *\n     * @param event Event Object.\n     */\n    async deleteSiteStorage(event: Event): Promise<void> {\n        event.preventDefault();\n        event.stopPropagation();\n\n        try {\n            const site = CoreSites.getRequiredCurrentSite();\n            const siteName = await site.getSiteName();\n\n            this.spaceUsage = await CoreSettingsHelper.deleteSiteStorage(siteName, this.siteId);\n        } catch {\n            // Ignore cancelled confirmation modal.\n        }\n    }\n\n}\n\n/**\n * Downloaded course data.\n */\ninterface DownloadedCourse {\n    id: number;\n    title: string;\n    totalSize: number;\n    isDownloading: boolean;\n}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CoreSharedModule } from '@/core/shared.module';\nimport { AddonStorageManagerCoursesStoragePage } from './pages/courses-storage/courses-storage';\nimport { AddonStorageManagerCourseStoragePage } from './pages/course-storage/course-storage';\n\nconst routes: Routes = [\n    {\n        path: 'storage',\n        component: AddonStorageManagerCoursesStoragePage,\n    },\n    {\n        path: 'storage/:courseId',\n        component: AddonStorageManagerCourseStoragePage,\n    },\n];\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(routes),\n        CoreSharedModule,\n    ],\n    exports: [RouterModule],\n    declarations: [\n        AddonStorageManagerCoursesStoragePage,\n        AddonStorageManagerCourseStoragePage,\n    ],\n})\nexport class AddonStorageManagerLazyModule {}\n"],"sourceRoot":"webpack:///"}