{"version":3,"sources":["./src/core/features/user/pages/profile/profile.html","./src/core/classes/items-management/swipe-navigation-items-manager.ts","./src/core/features/user/classes/participants-source.ts","./src/core/features/user/pages/profile/profile.scss","./src/core/features/user/pages/profile/profile.ts","./src/core/features/user/user-profile-lazy.module.ts"],"names":[],"mappings":"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","file":"user-profile-lazy-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>{{ user?.fullname }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content [core-swipe-navigation]=\\\"users\\\" class=\\\"limited-width\\\">\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!userLoaded\\\" (ionRefresh)=\\\"refreshUser($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"userLoaded\\\">\\r\\n        <ion-list *ngIf=\\\"user && !isDeleted && isEnrolled\\\">\\r\\n            <ion-item class=\\\"ion-text-center core-user-profile-maininfo ion-text-wrap\\\">\\r\\n                <core-user-avatar [user]=\\\"user\\\" [userId]=\\\"user.id\\\" [linkProfile]=\\\"false\\\" [checkOnline]=\\\"true\\\">\\r\\n                </core-user-avatar>\\r\\n                <ion-label>\\r\\n                    <h2>{{ user.fullname }}</h2>\\r\\n                    <p *ngIf=\\\"user.address\\\">\\r\\n                        <ion-icon name=\\\"fas-location-dot\\\" [attr.aria-hidden]=\\\"true\\\"></ion-icon> {{ user.address }}\\r\\n                    </p>\\r\\n                    <p *ngIf=\\\"rolesFormatted\\\">\\r\\n                        <strong>{{ 'core.user.roles' | translate}}</strong>{{'core.labelsep' | translate}}\\r\\n                        {{ rolesFormatted }}\\r\\n                    </p>\\r\\n                    <p *ngIf=\\\"userGroups\\\">\\r\\n                        <strong>{{ 'core.group' | translate}}</strong>{{'core.labelsep' | translate}}\\r\\n                        {{ userGroups }}\\r\\n                    </p>\\r\\n                    <p *ngIf=\\\"user.lastaccess !== undefined\\\">\\r\\n                        <strong>{{ 'core.lastaccess' | translate }}: </strong>\\r\\n                        <span *ngIf=\\\"user.lastaccess\\\">{{ user.lastaccess | coreTimeAgo }}</span>\\r\\n                        <ng-container *ngIf=\\\"!user.lastaccess\\\">{{ 'core.never' | translate }}</ng-container>\\r\\n                    </p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n            <div class=\\\"core-user-communication-handlers\\\"\\r\\n                *ngIf=\\\"(communicationHandlers && communicationHandlers.length) || isLoadingHandlers\\\">\\r\\n                <ion-item *ngIf=\\\"communicationHandlers && communicationHandlers.length\\\">\\r\\n                    <ion-label>\\r\\n                        <ion-button *ngFor=\\\"let handler of communicationHandlers\\\" expand=\\\"block\\\" size=\\\"default\\\"\\r\\n                            [ngClass]=\\\"['core-user-profile-handler', handler.class || '']\\\" (click)=\\\"handlerClicked($event, handler)\\\"\\r\\n                            [hidden]=\\\"handler.hidden\\\" [attr.aria-label]=\\\"handler.title | translate\\\" [disabled]=\\\"handler.spinner\\\">\\r\\n                            <ion-icon *ngIf=\\\"handler.icon\\\" [name]=\\\"handler.icon\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                            {{ handler.title | translate }}\\r\\n                        </ion-button>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <div *ngIf=\\\"isLoadingHandlers\\\" class=\\\"ion-text-center core-loading-handlers\\\">\\r\\n                    <ion-spinner [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\r\\n                </div>\\r\\n            </div>\\r\\n            <ion-item button class=\\\"ion-text-wrap core-user-profile-handler\\\" (click)=\\\"openUserDetails()\\\"\\r\\n                [attr.aria-label]=\\\"'core.user.details' | translate\\\" detail=\\\"true\\\">\\r\\n                <ion-icon name=\\\"fas-user\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'core.user.details' | translate }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-center core-loading-handlers\\\" *ngIf=\\\"isLoadingHandlers\\\">\\r\\n                <ion-label>\\r\\n                    <ion-spinner [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item button *ngFor=\\\"let handler of newPageHandlers\\\" class=\\\"ion-text-wrap\\\" (click)=\\\"handlerClicked($event, handler)\\\"\\r\\n                [ngClass]=\\\"['core-user-profile-handler', handler.class || '']\\\" [hidden]=\\\"handler.hidden\\\"\\r\\n                [attr.aria-label]=\\\"handler.title | translate\\\" detail=\\\"true\\\">\\r\\n                <ion-icon *ngIf=\\\"handler.icon\\\" [name]=\\\"handler.icon\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ handler.title | translate }}</p>\\r\\n                </ion-label>\\r\\n                <ion-badge slot=\\\"end\\\" *ngIf=\\\"handler.showBadge\\\" [hidden]=\\\"handler.loading || !handler.badge\\\" aria-hidden=\\\"true\\\">\\r\\n                    {{handler.badge}}\\r\\n                </ion-badge>\\r\\n                <span *ngIf=\\\"handler.showBadge && handler.badge && handler.badgeA11yText\\\" class=\\\"sr-only\\\">\\r\\n                    {{ handler.badgeA11yText | translate: {$a : handler.badge } }}\\r\\n                </span>\\r\\n                <ion-spinner slot=\\\"end\\\" *ngIf=\\\"handler.showBadge && handler.loading\\\" [attr.aria-label]=\\\"'core.loading' | translate\\\">\\r\\n                </ion-spinner>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"actionHandlers && actionHandlers.length\\\">\\r\\n                <ion-label>\\r\\n                    <ion-button *ngFor=\\\"let handler of actionHandlers\\\" expand=\\\"block\\\" fill=\\\"outline\\\" size=\\\"default\\\"\\r\\n                        [ngClass]=\\\"['core-user-profile-handler', handler.class || '']\\\" (click)=\\\"handlerClicked($event, handler)\\\"\\r\\n                        [hidden]=\\\"handler.hidden\\\" [attr.aria-label]=\\\"handler.title | translate\\\" [disabled]=\\\"handler.spinner\\\">\\r\\n                        <ion-icon *ngIf=\\\"handler.icon\\\" [name]=\\\"handler.icon\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                        {{ handler.title | translate }}\\r\\n                        <ion-spinner *ngIf=\\\"handler.spinner\\\" slot=\\\"end\\\" [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\r\\n                    </ion-button>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-list>\\r\\n        <core-empty-box *ngIf=\\\"!user && !isDeleted && isEnrolled\\\" icon=\\\"far-user\\\" [message]=\\\" 'core.user.detailsnotavailable' | translate\\\">\\r\\n        </core-empty-box>\\r\\n        <core-empty-box *ngIf=\\\"isDeleted\\\" icon=\\\"far-user\\\" [message]=\\\"'core.userdeleted' | translate\\\"></core-empty-box>\\r\\n        <core-empty-box *ngIf=\\\"isSuspended\\\" icon=\\\"far-user\\\" [message]=\\\"'core.usersuspended' | translate\\\"></core-empty-box>\\r\\n        <core-empty-box *ngIf=\\\"!isEnrolled\\\" icon=\\\"far-user\\\" [message]=\\\"'core.notenrolledprofile' | translate\\\"></core-empty-box>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ActivatedRoute, ActivatedRouteSnapshot, UrlSegment } from '@angular/router';\n\nimport { CoreNavigator } from '@services/navigator';\n\nimport { CoreRoutedItemsManager } from './routed-items-manager';\nimport { CoreRoutedItemsManagerSource } from './routed-items-manager-source';\n\n/**\n * Helper class to manage the state and routing of a swipeable page.\n */\nexport class CoreSwipeNavigationItemsManager<\n    Item = unknown,\n    Source extends CoreRoutedItemsManagerSource<Item> = CoreRoutedItemsManagerSource<Item>\n>\n    extends CoreRoutedItemsManager<Item, Source> {\n\n    /**\n     * Process page started operations.\n     */\n    async start(): Promise<void> {\n        this.updateSelectedItem();\n    }\n\n    /**\n     * Navigate to the next item.\n     */\n    async navigateToNextItem(): Promise<void> {\n        await this.navigateToItemBy(1, 'forward');\n    }\n\n    /**\n     * Navigate to the previous item.\n     */\n    async navigateToPreviousItem(): Promise<void> {\n        await this.navigateToItemBy(-1, 'back');\n    }\n\n    /**\n     * Has a next item.\n     *\n     * @returns If has next item.\n     */\n    async hasNextItem(): Promise<boolean> {\n        const item = await this.getItemBy(1);\n\n        return !!item;\n    }\n\n    /**\n     * Has a previous item.\n     *\n     * @returns If has previous item.\n     */\n    async hasPreviousItem(): Promise<boolean> {\n        const item = await this.getItemBy(-1);\n\n        return !!item;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected getCurrentPageRoute(): ActivatedRoute | null {\n        return CoreNavigator.getCurrentRoute();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected getSelectedItemPathFromRoute(route: ActivatedRouteSnapshot): string | null {\n        const segments: UrlSegment[] = [];\n\n        while (route) {\n            segments.push(...route.url);\n\n            if (!route.firstChild) {\n                break;\n            }\n\n            route = route.firstChild;\n        }\n\n        return segments.map(segment => segment.path).join('/').replace(/\\/+/, '/').trim() || null;\n    }\n\n    /**\n     * Navigate to an item by an offset.\n     *\n     * @param delta Index offset.\n     * @param animationDirection Animation direction.\n     */\n    protected async navigateToItemBy(delta: number, animationDirection: 'forward' | 'back'): Promise<void> {\n        const item = await this.getItemBy(delta);\n\n        if (!item) {\n            return;\n        }\n\n        await this.navigateToItem(item, { animationDirection, replace: true });\n    }\n\n    /**\n     * Get item by an offset.\n     *\n     * @param delta Index offset.\n     * @returns The item or null if none.\n     */\n    protected async getItemBy(delta: number): Promise<Item | null> {\n        const items = this.getSource().getItems();\n        const selectedIndex = (this.selectedItem && items?.indexOf(this.selectedItem)) ?? -1;\n\n        if (selectedIndex === -1 || items === null) {\n            return null;\n        }\n\n        const deltaStep = delta > 0 ? 1 : -1;\n        let nextIndex = selectedIndex;\n        let deltaMoved = 0;\n\n        while (deltaMoved !== delta) {\n            nextIndex += deltaStep;\n\n            if (nextIndex < 0) {\n                return null;\n            }\n\n            if (nextIndex >= items.length) {\n                break;\n            }\n\n            if (this.skipItemInSwipe(items[nextIndex])) {\n                continue;\n            }\n\n            deltaMoved += deltaStep;\n        }\n\n        if (deltaMoved === delta) {\n            return items[nextIndex];\n        }\n\n        if (!this.getSource().isCompleted()) {\n            await this.getSource().load();\n\n            return this.getItemBy(delta);\n        }\n\n        return null;\n    }\n\n    /**\n     * Check if an item should be skipped during swipe navigation.\n     *\n     * @param item Item.\n     * @returns Whether to skip this item during swipe navigation.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    protected skipItemInSwipe(item: Item): boolean {\n        return false;\n    }\n\n}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Params } from '@angular/router';\nimport { CoreRoutedItemsManagerSource } from '@classes/items-management/routed-items-manager-source';\n\nimport { CoreUser, CoreUserData, CoreUserParticipant, CoreUserProvider } from '../services/user';\n\n/**\n * Provides a collection of course participants.\n */\nexport class CoreUserParticipantsSource extends CoreRoutedItemsManagerSource<CoreUserParticipant | CoreUserData> {\n\n    /**\n     * @inheritdoc\n     */\n    static getSourceId(courseId: number, searchQuery: string | null = null): string {\n        searchQuery = searchQuery ?? '__empty__';\n\n        return `participants-${courseId}-${searchQuery}`;\n    }\n\n    readonly COURSE_ID: number;\n    readonly SEARCH_QUERY: string | null;\n\n    constructor(courseId: number, searchQuery: string | null = null) {\n        super();\n\n        this.COURSE_ID = courseId;\n        this.SEARCH_QUERY = searchQuery;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getItemPath(user: CoreUserParticipant | CoreUserData): string {\n        return user.id.toString();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getItemQueryParams(): Params {\n        return { search: this.SEARCH_QUERY };\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async loadPageItems(page: number): Promise<{ items: (CoreUserParticipant | CoreUserData)[]; hasMoreItems: boolean }> {\n        if (this.SEARCH_QUERY) {\n            const { participants, canLoadMore } = await CoreUser.searchParticipants(\n                this.COURSE_ID,\n                this.SEARCH_QUERY,\n                true,\n                page,\n                CoreUserProvider.PARTICIPANTS_LIST_LIMIT,\n            );\n\n            return {\n                items: participants,\n                hasMoreItems: canLoadMore,\n            };\n        }\n\n        const { participants, canLoadMore } = await CoreUser.getParticipants(\n            this.COURSE_ID,\n            page * CoreUserProvider.PARTICIPANTS_LIST_LIMIT,\n            CoreUserProvider.PARTICIPANTS_LIST_LIMIT,\n        );\n\n        return {\n            items: participants,\n            hasMoreItems: canLoadMore,\n        };\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected getPageLength(): number {\n        return CoreUserProvider.PARTICIPANTS_LIST_LIMIT;\n    }\n\n}\n","export default \":host .core-user-profile-maininfo::part(native) {\\n  flex-direction: column;\\n}\\n:host ::ng-deep core-user-avatar {\\n  display: block;\\n  --core-avatar-size: var(--core-large-avatar-size);\\n  height: calc(var(--core-avatar-size) + 16px);\\n}\\n:host ::ng-deep core-user-avatar img {\\n  margin: 8px auto;\\n}\\n:host ::ng-deep core-user-avatar .contact-status {\\n  width: 24px !important;\\n  height: 24px !important;\\n  right: calc(50% - 12px - var(--core-avatar-size) / 2) !important;\\n}\\n:host-context([dir=rtl]) ::ng-deep core-user-avatar .edit-avatar {\\n  left: -24px;\\n  right: unset;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb3JlL2ZlYXR1cmVzL3VzZXIvcGFnZXMvcHJvZmlsZS9wcm9maWxlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFDSSxzQkFBQTtBQURSO0FBSVE7RUFDSSxjQUFBO0VBQ0EsaURBQUE7RUFDQSw0Q0FBQTtBQUZaO0FBSVk7RUFDSSxnQkFBQTtBQUZoQjtBQUtZO0VBQ0ksc0JBQUE7RUFDQSx1QkFBQTtFQUNBLGdFQUFBO0FBSGhCO0FBVUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQVBKIiwiZmlsZSI6InNyYy9jb3JlL2ZlYXR1cmVzL3VzZXIvcGFnZXMvcHJvZmlsZS9wcm9maWxlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcblxyXG4gICAgLmNvcmUtdXNlci1wcm9maWxlLW1haW5pbmZvOjpwYXJ0KG5hdGl2ZSkge1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICB9XHJcbiAgICA6Om5nLWRlZXAge1xyXG4gICAgICAgIGNvcmUtdXNlci1hdmF0YXIge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgLS1jb3JlLWF2YXRhci1zaXplOiB2YXIoLS1jb3JlLWxhcmdlLWF2YXRhci1zaXplKTtcclxuICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKHZhcigtLWNvcmUtYXZhdGFyLXNpemUpICsgMTZweCk7XHJcblxyXG4gICAgICAgICAgICBpbWcge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiA4cHggYXV0bztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbnRhY3Qtc3RhdHVzIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI0cHggIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjYWxjKDUwJSAtIDEycHggLSB2YXIoLS1jb3JlLWF2YXRhci1zaXplKSAvIDIpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG46aG9zdC1jb250ZXh0KFtkaXI9XCJydGxcIl0pIDo6bmctZGVlcCBjb3JlLXVzZXItYXZhdGFyIC5lZGl0LWF2YXRhciB7XHJcbiAgICBsZWZ0OiAtMjRweDtcclxuICAgIHJpZ2h0OiB1bnNldDtcclxufVxyXG4iXX0= */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { IonRefresher } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { CoreSite } from '@classes/site';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreUser, CoreUserProfile, USER_PROFILE_REFRESHED } from '@features/user/services/user';\nimport { CoreUserHelper } from '@features/user/services/user-helper';\nimport {\n    CoreUserDelegate,\n    CoreUserDelegateContext,\n    CoreUserDelegateService,\n    CoreUserProfileHandlerData,\n} from '@features/user/services/user-delegate';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCourses } from '@features/courses/services/courses';\nimport { CoreSwipeNavigationItemsManager } from '@classes/items-management/swipe-navigation-items-manager';\nimport { CoreUserParticipantsSource } from '@features/user/classes/participants-source';\nimport { CoreRoutedItemsManagerSourcesTracker } from '@classes/items-management/routed-items-manager-sources-tracker';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { Translate } from '@singletons';\n\n@Component({\n    selector: 'page-core-user-profile',\n    templateUrl: 'profile.html',\n    styleUrls: ['profile.scss'],\n})\nexport class CoreUserProfilePage implements OnInit, OnDestroy {\n\n    protected courseId?: number;\n    protected userId!: number;\n    protected site!: CoreSite;\n    protected obsProfileRefreshed: CoreEventObserver;\n    protected subscription?: Subscription;\n    protected logView: (user: CoreUserProfile) => void;\n\n    userGroups?: string;\n    userLoaded = false;\n    isLoadingHandlers = false;\n    user?: CoreUserProfile;\n    isDeleted = false;\n    isSuspended = false;\n    isEnrolled = true;\n    rolesFormatted?: string;\n    actionHandlers: CoreUserProfileHandlerData[] = [];\n    newPageHandlers: CoreUserProfileHandlerData[] = [];\n    communicationHandlers: CoreUserProfileHandlerData[] = [];\n\n    users?: CoreUserSwipeItemsManager;\n\n    constructor(private route: ActivatedRoute) {\n        this.obsProfileRefreshed = CoreEvents.on(USER_PROFILE_REFRESHED, (data) => {\n            if (!this.user || !data.user) {\n                return;\n            }\n\n            this.user.email = data.user.email;\n            this.user.address = CoreUserHelper.formatAddress('', data.user.city, data.user.country);\n        }, CoreSites.getCurrentSiteId());\n\n        this.logView = CoreTime.once(async (user) => {\n            try {\n                await CoreUser.logView(this.userId, this.courseId, user.fullname);\n            } catch (error) {\n                this.isDeleted = error?.errorcode === 'userdeleted' || error?.errorcode === 'wsaccessuserdeleted';\n                this.isSuspended = error?.errorcode === 'wsaccessusersuspended';\n                this.isEnrolled = error?.errorcode !== 'notenrolledprofile';\n            }\n            let extraParams = '';\n            if (this.userId !== CoreSites.getCurrentSiteUserId()) {\n                const isCourseProfile = this.courseId && this.courseId !== CoreSites.getCurrentSiteHomeId();\n                extraParams = `?id=${this.userId}` + (isCourseProfile ? `&course=${this.courseId}` : '');\n            }\n\n            CoreAnalytics.logEvent({\n                type: CoreAnalyticsEventType.VIEW_ITEM,\n                ws: 'core_user_view_user_profile',\n                name: user.fullname + ': ' + Translate.instant('core.publicprofile'),\n                data: { id: this.userId, courseid: this.courseId || undefined, category: 'user' },\n                url: `/user/profile.php${extraParams}`,\n            });\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.site = CoreSites.getRequiredCurrentSite();\n            this.courseId = CoreNavigator.getRouteNumberParam('courseId');\n            this.userId = CoreNavigator.getRequiredRouteNumberParam('userId');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            CoreNavigator.back();\n\n            return;\n        }\n\n        if (this.courseId === this.site.getSiteHomeId()) {\n            // Get site profile.\n            this.courseId = undefined;\n        }\n\n        if (this.courseId && this.route.snapshot.data.swipeManagerSource === 'participants') {\n            const search = CoreNavigator.getRouteParam('search');\n            const source = CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(\n                CoreUserParticipantsSource,\n                [this.courseId, search],\n            );\n            this.users = new CoreUserSwipeItemsManager(source);\n\n            this.users.start();\n        }\n\n        try {\n            await this.fetchUser();\n\n            if (this.courseId && this.user && 'groups' in this.user) {\n                const separator = Translate.instant('core.listsep');\n                this.userGroups = this.user.groups?.map(group => group.name).join(separator + ' ');\n            }\n        } finally {\n            this.userLoaded = true;\n        }\n    }\n\n    /**\n     * Fetches the user and updates the view.\n     */\n    async fetchUser(): Promise<void> {\n        try {\n            const user = await CoreUser.getProfile(this.userId, this.courseId);\n\n            user.address = CoreUserHelper.formatAddress('', user.city, user.country);\n            this.rolesFormatted = 'roles' in user ? CoreUserHelper.formatRoleList(user.roles) : '';\n\n            this.user = user;\n\n            // If there's already a subscription, unsubscribe because we'll get a new one.\n            this.subscription?.unsubscribe();\n\n            const context = this.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n\n            this.subscription = CoreUserDelegate.getProfileHandlersFor(user, context, this.courseId).subscribe((handlers) => {\n                this.actionHandlers = [];\n                this.newPageHandlers = [];\n                this.communicationHandlers = [];\n                handlers.forEach((handler) => {\n                    switch (handler.type) {\n                        case CoreUserDelegateService.TYPE_COMMUNICATION:\n                            this.communicationHandlers.push(handler.data);\n                            break;\n                        case CoreUserDelegateService.TYPE_ACTION:\n                            this.actionHandlers.push(handler.data);\n                            break;\n                        case CoreUserDelegateService.TYPE_NEW_PAGE:\n                        default:\n                            this.newPageHandlers.push(handler.data);\n                            break;\n                    }\n                });\n\n                this.isLoadingHandlers = !CoreUserDelegate.areHandlersLoaded(user.id, context, this.courseId);\n            });\n\n            this.logView(user);\n        } catch (error) {\n            // Error is null for deleted users, do not show the modal.\n            CoreDomUtils.showErrorModal(error);\n        }\n    }\n\n    /**\n     * Refresh the user.\n     *\n     * @param event Event.\n     * @returns Promise resolved when done.\n     */\n    async refreshUser(event?: IonRefresher): Promise<void> {\n        await CoreUtils.ignoreErrors(Promise.all([\n            CoreUser.invalidateUserCache(this.userId),\n            CoreCourses.invalidateUserNavigationOptions(),\n            CoreCourses.invalidateUserAdministrationOptions(),\n        ]));\n\n        await this.fetchUser();\n\n        event?.complete();\n\n        if (this.user) {\n            CoreEvents.trigger(USER_PROFILE_REFRESHED, {\n                courseId: this.courseId,\n                userId: this.userId,\n                user: this.user,\n            }, this.site?.getId());\n        }\n    }\n\n    /**\n     * Open the page with the user details.\n     */\n    openUserDetails(): void {\n        CoreNavigator.navigateToSitePath('user/about', {\n            params: {\n                courseId: this.courseId,\n                userId: this.userId,\n            },\n        });\n    }\n\n    /**\n     * A handler was clicked.\n     *\n     * @param event Click event.\n     * @param handler Handler that was clicked.\n     */\n    handlerClicked(event: Event, handler: CoreUserProfileHandlerData): void {\n        if (!this.user) {\n            return;\n        }\n\n        const context = this.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n        handler.action(event, this.user, context, this.courseId);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.users?.destroy();\n        this.subscription?.unsubscribe();\n        this.obsProfileRefreshed.off();\n    }\n\n}\n\n/**\n * Helper to manage swiping within a collection of users.\n */\nclass CoreUserSwipeItemsManager extends CoreSwipeNavigationItemsManager {\n\n    /**\n     * @inheritdoc\n     */\n    protected getSelectedItemPathFromRoute(route: ActivatedRouteSnapshot): string | null {\n        return route.params.userId;\n    }\n\n}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CoreSharedModule } from '@/core/shared.module';\nimport { CoreUserProfilePage } from '@features/user/pages/profile/profile';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: CoreUserProfilePage,\n    },\n];\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(routes),\n        CoreSharedModule,\n    ],\n    declarations: [\n        CoreUserProfilePage,\n    ],\n    exports: [RouterModule],\n})\nexport class CoreUserProfileLazyModule {}\n"],"sourceRoot":"webpack:///"}