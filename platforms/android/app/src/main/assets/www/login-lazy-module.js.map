{"version":3,"sources":["./src/core/features/login/pages/change-password/change-password.html","./src/core/features/login/pages/email-signup/email-signup.html","./src/core/features/login/pages/forgotten-password/forgotten-password.html","./src/core/features/login/pages/site-policy/site-policy.html","./src/core/features/login/pages/site/site.html","./src/core/features/login/pages/sites/sites.html","./src/core/features/login/guards/has-sites.ts","./src/core/features/login/login-lazy.module.ts","./src/core/features/login/pages/change-password/change-password.ts","./src/core/features/login/pages/email-signup/email-signup.ts","./src/core/features/login/pages/forgotten-password/forgotten-password.ts","./src/core/features/login/pages/site-policy/site-policy.scss","./src/core/features/login/pages/site-policy/site-policy.ts","./src/core/features/login/pages/site/site.scss","./src/core/features/login/pages/site/site.ts","./src/core/features/login/pages/sites/sites.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,sUAAuQ,2CAA2C,sDAAsD,4CAA4C,6mBAA6mB,sDAAsD,2MAA2M,iDAAiD,2NAA2N,gEAAgE,yLAAyL,sCAAsC,0JAA0J,uCAAuC,2LAA2L,2BAA2B,mEAAmE,E;;;;;;;;;;;;ACAtxE;AAAe,0SAA2O,uCAAuC,40BAA40B,4DAA4D,kPAAkP,oCAAoC,4eAA4e,8CAA8C,sRAAsR,oCAAoC,kdAAkd,qCAAqC,2WAA2W,2CAA2C,sIAAsI,cAAc,qTAAqT,8BAA8B,sMAAsM,wCAAwC,yCAAyC,8CAA8C,2jBAA2jB,SAAS,mYAAmY,SAAS,yRAAyR,8CAA8C,kRAAkR,qCAAqC,sIAAsI,qCAAqC,igBAAigB,qCAAqC,gNAAgN,qCAAqC,yWAAyW,yBAAyB,qZAAqZ,uCAAuC,kRAAkR,iCAAiC,oIAAoI,iCAAiC,wfAAwf,sCAAsC,qIAAqI,sCAAsC,qmBAAqmB,wCAAwC,yIAAyI,wCAAwC,sDAAsD,WAAW,uZAAuZ,gCAAgC,+FAA+F,gCAAgC,kRAAkR,mCAAmC,wUAAwU,2CAA2C,sIAAsI,cAAc,mZAAmZ,iBAAiB,srBAAsrB,8CAA8C,0jBAA0jB,4CAA4C,qVAAqV,iDAAiD,8SAA8S,kDAAkD,glBAAglB,0CAA0C,i7BAAi7B,6CAA6C,iCAAiC,wCAAwC,uDAAuD,eAAe,wDAAwD,gBAAgB,+NAA+N,oCAAoC,yFAAyF,E;;;;;;;;;;;;ACA/we;AAAe,0SAA2O,8CAA8C,4YAA4Y,0DAA0D,wJAAwJ,2DAA2D,kVAAkV,qCAAqC,yNAAyN,qCAAqC,6MAA6M,iCAAiC,0PAA0P,4CAA4C,4FAA4F,4CAA4C,oVAAoV,qCAAqC,oHAAoH,E;;;;;;;;;;;;ACA/rF;AAAe,0SAA2O,4CAA4C,iSAAiS,wCAAwC,gQAAgQ,iDAAiD,2ZAA2Z,kDAAkD,sMAAsM,mCAAmC,kGAAkG,E;;;;;;;;;;;;ACAxrD;AAAe,0SAA2O,4CAA4C,6oCAA6oC,wCAAwC,sHAAsH,mDAAmD,oYAAoY,wCAAwC,yGAAyG,mDAAmD,sgBAAsgB,uCAAuC,ioBAAioB,4CAA4C,0CAA0C,8BAA8B,olBAAolB,WAAW,WAAW,wnBAAwnB,oCAAoC,6ZAA6Z,uCAAuC,ueAAue,WAAW,WAAW,2SAA2S,+BAA+B,2UAA2U,6BAA6B,+SAA+S,+BAA+B,qxBAAqxB,YAAY,sDAAsD,oBAAoB,iDAAiD,eAAe,sEAAsE,E;;;;;;;;;;;;ACAtqP;AAAe,0SAA2O,qCAAqC,mzCAAmzC,mCAAmC,obAAob,eAAe,4MAA4M,YAAY,6DAA6D,gDAAgD,oBAAoB,kCAAkC,g1BAAg1B,gCAAgC,6EAA6E,E;;;;;;;;;;;;ACAh3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEU;AAGC;AACM;AACb;AAEsB;IAG9C,sBAAsB,SAAtB,sBAAsB;IAE/B;;OAEG;IACH,WAAW;QACP,OAAO,IAAI,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAED;;OAEG;IACH,OAAO;QACH,OAAO,IAAI,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACW,KAAK;;YACf,MAAM,KAAK,GAAG,MAAM,+DAAS,CAAC,YAAY,CAAC,yDAAS,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;YAErE,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClB,OAAO,IAAI,CAAC;aACf;YAED,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM,sEAAe,CAAC,mBAAmB,EAAE,CAAC;YACnE,MAAM,KAAK,GAAG,kDAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAEpC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;YAE3B,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;CAEJ;AApCY,sBAAsB;IADlC,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;GACtB,sBAAsB,CAoClC;AApCkC;;;;;;;;;;;;;ACxBnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEQ;AACc;AAEC;AACI;AACe;AACjB;AACmD;AACrB;AACD;AACI;AACvB;AACG;AAC6B;AAEpG,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,MAAM;QACjB,UAAU,EAAE,OAAO;KACtB;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,kFAAiB;KAC/B;IACD;QACI,IAAI,EAAE,aAAa;QACnB,YAAY,EAAE,GAAG,EAAE,CAAC,sEAAe,CAAC,yBAAyB,EAAE;KAClE;IACD;QACI,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,qFAAkB;QAC7B,OAAO,EAAE,CAAC,wEAAsB,CAAC;QACjC,WAAW,EAAE,CAAC,wEAAsB,CAAC;KACxC;IACD;QACI,IAAI,EAAE,mBAAmB;QACzB,SAAS,EAAE,0HAA8B;KAC5C;IACD;QACI,IAAI,EAAE,gBAAgB;QACtB,SAAS,EAAE,kHAA2B;KACzC;IACD;QACI,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,qGAAuB;KACrC;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,yGAAwB;KACtC;IACD;QACI,IAAI,EAAE,WAAW;QACjB,YAAY,EAAE,GAAG,EAAE,CAAC,sEAAe,CAAC,uBAAuB,EAAE;KAChE;CACJ,CAAC;IAkBW,mBAAmB,SAAnB,mBAAmB;CAAG;AAAtB,mBAAmB;IAhB/B,8DAAQ,CAAC;QACN,OAAO,EAAE;YACL,oEAAgB;YAChB,uFAAyB;YACzB,oGAAwB;YACxB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAChC;QACD,YAAY,EAAE;YACV,0HAA8B;YAC9B,qGAAuB;YACvB,kFAAiB;YACjB,qFAAkB;YAClB,kHAA2B;YAC3B,yGAAwB;SAC3B;KACJ,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;ACvFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEoB;AAET;AAC4B;AAChC;AACY;AACe;AACjB;AACgB;AAElE;;GAEG;IAKU,2BAA2B,SAA3B,2BAA2B;IASpC;QAPA,qBAAgB,GAAG,KAAK,CAAC;QAQrB,IAAI,CAAC,WAAW,GAAG,qFAAe,CAAC,cAAc,EAAE,CAAC;IACxD,CAAC;IAED;;OAEG;IACH,QAAQ;QACJ,+EAAe,CAAC,QAAQ,CACpB,qDAAS,CAAC,OAAO,CAAC,+BAA+B,CAAC,EAClD,qDAAS,CAAC,OAAO,CAAC,yCAAyC,CAAC,CAC/D,CAAC;IACN,CAAC;IAED;;OAEG;IACH,sBAAsB;QAClB,qFAAe,CAAC,gBAAgB,CAC5B,yDAAS,CAAC,gBAAgB,EAAE,EAC5B,4BAA4B,EAC5B,SAAS,EACT,IAAI,CACP,CAAC;QACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;IACjC,CAAC;IAED;;OAEG;IACH,KAAK;QACD,iEAAa,CAAC,kBAAkB,EAAE,CAAC;QACnC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAClC,CAAC;IAED;;OAEG;IACH,MAAM;QACF,yDAAS,CAAC,MAAM,EAAE,CAAC;QACnB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAClC,CAAC;IAED;;OAEG;IACH,qBAAqB;QACjB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,wCAAwC;YACxC,OAAO;SACV;QAED,IAAI,CAAC,iBAAiB,GAAG,6DAAU,CAAC,EAAE,CAAC,6DAAU,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,EAAE;;YACvE,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,yCAAyC,CAAC,EAAE;gBAC5D,2CAA2C;gBAC3C,+DAAS,CAAC,iBAAiB,EAAE,CAAC;gBAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;gBAEb,OAAO;aACV;YAED,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,+BAA+B,CAAC,EAAE;gBACnD,OAAO;aACV;YAED,0GAA0G;YAC1G,qEAAS,CAAC,uBAAuB,EAAE,0CAAE,aAAa,CAAC;gBAC/C,IAAI,EAAE;;;;;;;iBAOL;aACJ,EAAE;QACP,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,GAAG,6DAAU,CAAC,EAAE,CAAC,6DAAU,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,EAAE;YAClE,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,+DAAS,CAAC,iBAAiB,EAAE,CAAC;gBAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,qBAAqB,GAAG,6DAAU,CAAC,EAAE,CAAC,6DAAU,CAAC,QAAQ,EAAE,GAAG,EAAE;;YACjE,UAAI,CAAC,iBAAiB,0CAAE,GAAG,GAAG;YAC9B,UAAI,CAAC,eAAe,0CAAE,GAAG,GAAG;YAC5B,UAAI,CAAC,qBAAqB,0CAAE,GAAG,GAAG;YAElC,OAAO,IAAI,CAAC,iBAAiB,CAAC;YAC9B,OAAO,IAAI,CAAC,eAAe,CAAC;YAC5B,OAAO,IAAI,CAAC,qBAAqB,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,WAAW;;QACP,UAAI,CAAC,iBAAiB,0CAAE,GAAG,GAAG;QAC9B,UAAI,CAAC,eAAe,0CAAE,GAAG,GAAG;QAC5B,UAAI,CAAC,qBAAqB,0CAAE,GAAG,GAAG;IACtC,CAAC;CAEJ;;AAnHY,2BAA2B;IAJvC,+DAAS,CAAC;QACP,QAAQ,EAAE,iCAAiC;QAC3C,2PAAmC;KACtC,CAAC;GACW,2BAA2B,CAmHvC;AAnHuC;;;;;;;;;;;;;AC/BxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAE2D;AACX;AAErC;AACO;AACE;AACU;AACF;AACrB;AAE2D;AAMpD;AACK;AACP;AAC4B;AAC7B;AACF;AAE1C;;GAEG;IAMU,wBAAwB,SAAxB,wBAAwB;IAsCjC,YACc,EAAe,EACf,UAAsB,EACtB,cAAiC;QAFjC,OAAE,GAAF,EAAE,CAAa;QACf,eAAU,GAAV,UAAU,CAAY;QACtB,mBAAc,GAAd,cAAc,CAAmB;QA/B/C,qBAAgB,GAAG,EAAE,CAAC;QAItB,mBAAc,GAAG,KAAK,CAAC;QACvB,yBAAoB,GAAG,IAAI,CAAC;QAE5B,YAAO,GAAG;YACN,iBAAiB,EAAE,EAAE;SACxB,CAAC;QAMF,YAAO,GAAG,KAAK,CAAC,CAAC,iCAAiC;QAkB9C,kCAAkC;QAClC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACrC,GAAG,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACjC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC;QAC/D,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAEpE,oFAAoF;QACpF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC5B,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,KAAK,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,KAAK,CAAC,CAAC,CAAC;YACxE,MAAM,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,KAAK,CAAC,CAAC,CAAC;SAC5E,CAAC,CAAC;QAEH,2BAA2B;QAC3B,IAAI,CAAC,cAAc,GAAG,sFAAe,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACtF,IAAI,CAAC,cAAc,GAAG,sFAAe,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACtF,IAAI,CAAC,WAAW,GAAG,sFAAe,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;QAC/E,IAAI,CAAC,YAAY,GAAG,sFAAe,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;QAC/E,IAAI,CAAC,YAAY,GAAG,sFAAe,CAAC,gBAAgB,CAChD,yBAAyB,EACzB,SAAS,EACT,0BAA0B,CAC7B,CAAC;IACN,CAAC;IAED;;OAEG;IACH,QAAQ;QACJ,MAAM,OAAO,GAAG,kEAAa,CAAC,aAAa,CAAS,SAAS,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,EAAE;YACV,gEAAY,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;YACtD,kEAAa,CAAC,IAAI,EAAE,CAAC;YAErB,OAAO;SACV;QAED,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,kBAAkB;QAClB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE;YAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACO,iBAAiB;;QACvB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,WAAI,CAAC,QAAQ,0CAAE,WAAW,KAAI,EAAE,CAAC,CAAC,CAAC;QACtF,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,WAAI,CAAC,QAAQ,0CAAE,OAAO,KAAI,EAAE,CAAC,CAAC;QAC1E,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAEjE,uBAAuB;QACvB,KAAK,MAAM,CAAC,UAAI,IAAI,CAAC,QAAQ,0CAAE,UAAU,EAAE;YACvC,IAAI,CAAC,UAAU,CAAC,UAAU,OAAC,IAAI,CAAC,QAAQ,0CAAE,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SACtG;QAED,UAAI,IAAI,CAAC,QAAQ,0CAAE,UAAU,EAAE;YAC3B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,cAAc,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,yDAAU,CAAC,YAAY,CAAC,CAAC,CAAC;SAC/F;IACL,CAAC;IAED;;;;OAIG;IACa,SAAS;;YACrB,IAAI;gBACA,mBAAmB;gBACnB,IAAI,CAAC,UAAU,GAAG,MAAM,yDAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACpE,IAAI,CAAC,SAAS,GAAG,0DAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;gBAE7F,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE;oBACxB,8BAA8B;oBAC9B,IAAI,IAAI,CAAC,6BAA6B,KAAK,SAAS,EAAE;wBAElD,MAAM,MAAM,GAAG,MAAM,+DAAS,CAAC,YAAY,CACvC,mDAAM,CAAC,QAAQ,CACX,uDAAuD,EACvD,EAAE,EACF,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAC5B,CACJ,CAAC;wBAEF,IAAI,CAAC,6BAA6B,GAAG,CAAC,EAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,EAAC;qBACzD;oBAED,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;iBAClC;gBAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B;YAAC,OAAO,KAAK,EAAE;gBACZ,IAAI,IAAI,CAAC,oBAAoB,EAAE;oBAC3B,gEAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBACtC;aACJ;QACL,CAAC;KAAA;IAED;;;;OAIG;IACa,iBAAiB;;YAC7B,IAAI,CAAC,QAAQ,GAAG,MAAM,mDAAM,CAAC,QAAQ,CACjC,gCAAgC,EAChC,EAAE,EACF,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAC5B,CAAC;YAEF,IAAI,gHAA4B,CAAC,2BAA2B,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;gBACvF,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBAElC,MAAM,IAAI,KAAK,CAAC,qDAAS,CAAC,OAAO,CAAC,4CAA4C,CAAC,CAAC,CAAC;aACpF;YAED,IAAI,CAAC,UAAU,GAAG,sFAAe,CAAC,4BAA4B,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YAE5F,IAAI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE;gBAClC,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC,iBAAiB;aACzD;YAED,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE;gBAC5B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;aAC7D;YAED,MAAM,gBAAgB,GAAG,EAAE,CAAC;YAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;gBAC1B,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBACvC,gBAAgB,CAAC,KAAK,CAAC,GAAG,sFAAe,CAAC,gBAAgB,CAAC,oBAAoB,GAAG,KAAK,CAAC,CAAC;gBAC7F,CAAC,CAAC,CAAC;aACN;YACD,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YAEzC,IAAI,CAAC,SAAS,GAAG,MAAM,+DAAS,CAAC,oBAAoB,EAAE,CAAC;QAC5D,CAAC;KAAA;IAED;;;;OAIG;IACO,eAAe;;QACrB,IAAI,WAAI,CAAC,UAAU,0CAAE,YAAY,KAAI,OAAO,IAAI,CAAC,sFAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACrG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;YACzC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;YACzD,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,UAAU,CAAC,6BAA6B,CAAC;YACnF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;YAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;YACjD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;YAE5D,OAAO,IAAI,CAAC;SACf;aAAM;YACH,gEAAY,CAAC,cAAc,CACvB,qDAAS,CAAC,OAAO,CACb,iCAAiC,EACjC,EAAE,EAAE,EAAE,qDAAS,CAAC,OAAO,CAAC,uBAAuB,CAAC,EAAE,CACrD,CACJ,CAAC;YACF,kEAAa,CAAC,IAAI,EAAE,CAAC;YAErB,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAED;;;;;OAKG;IACG,MAAM,CAAC,CAAQ;;;YACjB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,WAAI,CAAC,QAAQ,0CAAE,kBAAkB,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;gBAClG,gEAAgE;gBAChE,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;oBACzC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;iBAChD;gBACD,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBAEpC,2CAA2C;gBAC3C,MAAM,UAAU,GAAG,MAAM,wDAAO,CAAC,kBAAkB,CAC/C,IAAI,CAAC,UAAU,CAAC,aAAa,CAChC,CAAC;gBAEF,IAAI,CAAC,UAAU,EAAE;oBACb,wCAAwC;oBACxC,gEAAY,CAAC,cAAc,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;iBAC9D;gBAED,OAAO;aACV;YAED,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAExE,MAAM,MAAM,GAAuB;gBAC/B,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;gBAC7D,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ;gBACxC,SAAS,EAAE,kEAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC;gBACnE,QAAQ,EAAE,kEAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACjE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE;gBACzC,IAAI,EAAE,kEAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;gBACzD,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO;aACzC,CAAC;YAEF,UAAI,IAAI,CAAC,UAAU,0CAAE,SAAS,EAAE;gBAC5B,MAAM,CAAC,QAAQ,GAAG,sFAAe,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;aAC5G;YAED,0CAA0C;YAC1C,IAAI,WAAI,CAAC,QAAQ,0CAAE,kBAAkB,KAAI,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;gBACrE,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;aAC7D;YAED,IAAI;gBACA,8CAA8C;gBAC9C,MAAM,CAAC,mBAAmB,GAAG,MAAM,gHAA4B,CAAC,gBAAgB,OAC5E,IAAI,CAAC,QAAQ,0CAAE,aAAa,EAC5B,IAAI,EACJ,OAAO,EACP,IAAI,CAAC,UAAU,CAAC,KAAK,CACxB,CAAC;gBAEF,MAAM,MAAM,GAAG,MAAM,mDAAM,CAAC,QAAQ,CAChC,wBAAwB,EACxB,MAAM,EACN,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAC5B,CAAC;gBAEF,IAAI,MAAM,CAAC,OAAO,EAAE;oBAEhB,2DAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBAElE,0BAA0B;oBAC1B,MAAM,OAAO,GAAG,qDAAS,CAAC,OAAO,CAAC,6BAA6B,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBACvF,gEAAY,CAAC,SAAS,CAAC,qDAAS,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,OAAO,CAAC,CAAC;oBACnE,kEAAa,CAAC,IAAI,EAAE,CAAC;iBACxB;qBAAM;oBACH,UAAI,CAAC,kBAAkB,0CAAE,qBAAqB,GAAG;oBAEjD,MAAM,OAAO,SAAG,MAAM,CAAC,QAAQ,0CAAG,CAAC,CAAC,CAAC;oBACrC,IAAI,OAAO,EAAE;wBACT,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;wBAC5B,IAAI,KAAK,IAAI,uBAAuB,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,CAAC,IAAI,IAAI,mBAAmB,CAAC,EAAE;4BACrF,KAAK,GAAG,qDAAS,CAAC,OAAO,CAAC,+BAA+B,CAAC,CAAC;yBAC9D;wBAED,gEAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;qBACtC;yBAAM;wBACH,gEAAY,CAAC,cAAc,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;qBACrE;iBACJ;aACJ;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,qBAAqB,CAAC,KAAK,EAAE,8BAA8B,EAAE,IAAI,CAAC,CAAC;aACnF;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;;KACJ;IAED;;;;;OAKG;IACH,UAAU,CAAC,IAAY;QACnB,OAAO,kEAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAED;;OAEG;IACH,oBAAoB;QAChB,kEAAa,CAAC,QAAQ,CAAC,qDAAS,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAChG,CAAC;IAED;;OAEG;IACH,iBAAiB;QACb,+DAAS,CAAC,aAAa,CACnB,0DAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,gCAAgC,CAAC,EACzE,EAAE,kBAAkB,EAAE,KAAK,EAAE,CAChC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACG,SAAS,CAAC,CAAQ;;;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE;gBACjC,gEAAY,CAAC,cAAc,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;gBAE3D,OAAO;aACV;YAED,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAExE,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;YAE9C,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,6BAA6B;YAEpE,IAAI;gBACA,MAAM,MAAM,GAAG,MAAM,mDAAM,CAAC,QAAQ,CAAkB,oBAAoB,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;gBAE/G,2DAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;gBAE/D,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;oBAChB,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE;wBAC3B,UAAI,CAAC,oBAAoB,0CAAE,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE;qBAClE;oBAED,yBAAyB;oBACzB,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC;iBAC9C;qBAAM;oBACH,cAAc;oBACd,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;iBACvB;aACJ;YAAC,WAAM;gBACJ,yCAAyC;gBACzC,gEAAY,CAAC,cAAc,CAAC,4EAA4E,CAAC,CAAC;aAC7G;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;;KACJ;CAEJ;;YA3ZQ,0DAAW;YADW,wDAAU;YAAU,+DAAiB;;;iCAiC/D,uDAAS,SAAC,uFAAsB;6BAChC,uDAAS,SAAC,SAAS;gCACnB,uDAAS,SAAC,cAAc;;AAJhB,wBAAwB;IALpC,+DAAS,CAAC;QACP,QAAQ,EAAE,8BAA8B;QACxC,kPAAgC;;KAEnC,CAAC;GACW,wBAAwB,CA6XpC;AA7XoC;;;;;;;;;;;;;AC7CrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEwC;AACL;AAEjB;AACqB;AAChC;AACY;AACP;AACK;AAG+C;AAEjG;;GAEG;IAKU,8BAA8B,SAA9B,8BAA8B;IAWvC,YAAsB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAF9C,sCAAiC,GAAG,KAAK,CAAC;IAEO,CAAC;IAElD;;OAEG;IACG,QAAQ;;;YACV,MAAM,OAAO,GAAG,iEAAa,CAAC,aAAa,CAAS,SAAS,CAAC,CAAC;YAC/D,IAAI,CAAC,OAAO,EAAE;gBACV,gEAAY,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;gBACtD,iEAAa,CAAC,IAAI,EAAE,CAAC;gBAErB,OAAO;aACV;YAED,MAAM,UAAU,GAAG,iEAAa,CAAC,aAAa,CAA+B,YAAY,CAAC,CAAC;YAE3F,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,+DAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACjC,KAAK,EAAE,CAAC,UAAU,EAAE,yDAAU,CAAC,QAAQ,CAAC;gBACxC,KAAK,EAAE,CAAC,iEAAa,CAAC,aAAa,CAAS,UAAU,CAAC,IAAI,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;aACtF,CAAC,CAAC;YAEH,IAAI,CAAC,aAAa,GAAG,UAAU,IAAI,IAAI,8GAA0B,CAAC,UAAU,CAAC,CAAC;YAC9E,IAAI,CAAC,iBAAiB,SAAG,IAAI,CAAC,aAAa,0CAAE,iBAAiB,EAAE,CAAC;YACjE,IAAI,CAAC,iCAAiC,GAAG,MAAM,qFAAe,CAAC,iCAAiC,CAAC,OAAO,CAAC,CAAC;;KAC7G;IAED;;;;OAIG;IACG,aAAa,CAAC,CAAQ;;;YACxB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YACtC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAEtC,IAAI,CAAC,KAAK,EAAE;gBACR,gEAAY,CAAC,cAAc,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;gBAEhE,OAAO;aACV;YAED,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACxE,MAAM,MAAM,GAAG,KAAK,KAAK,OAAO,CAAC;YAEjC,IAAI;gBACA,MAAM,QAAQ,GAAG,MAAM,qFAAe,CAAC,oBAAoB,CACvD,IAAI,CAAC,OAAO,EACZ,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EACnB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CACtB,CAAC;gBAEF,IAAI,QAAQ,CAAC,MAAM,KAAK,WAAW,EAAE;oBACjC,mCAAmC;oBACnC,MAAM,OAAO,SAAG,QAAQ,CAAC,QAAQ,0CAAE,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAChD,CAAC,OAAO,CAAC,IAAI,KAAK,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,UAAU,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBACtF,IAAI,OAAO,EAAE;wBACT,gEAAY,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;qBAChD;iBACJ;qBAAM,IAAI,QAAQ,CAAC,MAAM,KAAK,6BAA6B,IAAI,QAAQ,CAAC,MAAM,KAAK,6BAA6B,EAAE;oBAC/G,oBAAoB;oBACpB,gEAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAChD;qBAAM;oBACH,WAAW;oBACX,0DAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;oBAE5D,MAAM,gEAAY,CAAC,SAAS,CAAC,qDAAS,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACjF,MAAM,iEAAa,CAAC,IAAI,EAAE,CAAC;oBAC3B,MAAM,qFAAe,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC9D;aACJ;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aACtC;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;;KACJ;CAEJ;;YA/GQ,0DAAW;;;0BAqBf,uDAAS,SAAC,mBAAmB;;AAFrB,8BAA8B;IAJ1C,+DAAS,CAAC;QACP,QAAQ,EAAE,oCAAoC;QAC9C,oQAAsC;KACzC,CAAC;GACW,8BAA8B,CA4F1C;AA5F0C;;;;;;;;;;;;;AClC3C;AAAe,gFAAiB,kBAAkB,2BAA2B,iBAAiB,GAAG,2BAA2B,mBAAmB,GAAG,qDAAqD,iBAAiB,GAAG,iEAAiE,iBAAiB,gBAAgB,GAAG,6CAA6C,28BAA28B,E;;;;;;;;;;;;ACAxzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEiB;AAEN;AACO;AACD;AACW;AACW;AAEpB;AACJ;AAC4B;AACpC;AAExC;;GAEG;IAMU,uBAAuB,SAAvB,uBAAuB;IAQhC;;OAEG;IACH,QAAQ;QACJ,IAAI,CAAC,MAAM,GAAG,iEAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAEpD,IAAI;YACA,IAAI,CAAC,WAAW,GAAG,yDAAS,CAAC,sBAAsB,EAAE,CAAC;SACzD;QAAC,WAAM;YACJ,uBAAuB;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,OAAO;SACV;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,aAAa,CAAC;QAE3C,IAAI,IAAI,CAAC,MAAM,IAAI,aAAa,EAAE;YAC9B,0BAA0B;YAC1B,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,OAAO;SACV;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACa,eAAe;;YAC3B,IAAI;gBACA,IAAI,CAAC,UAAU,GAAG,MAAM,qFAAe,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACtE;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,qBAAqB,CAAC,KAAK,EAAE,4BAA4B,CAAC,CAAC;gBACxE,IAAI,CAAC,MAAM,EAAE,CAAC;gBAEd,OAAO;aACV;YAED,4BAA4B;YAC5B,IAAI;gBACA,MAAM,QAAQ,GAAG,MAAM,+DAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAErE,MAAM,SAAS,GAAG,0EAAiB,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC5E,IAAI,CAAC,UAAU,GAAG,SAAS,IAAI,MAAM,IAAI,SAAS,IAAI,KAAK,CAAC;aAC/D;YAAC,WAAM;gBACJ,sDAAsD;gBACtD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aAC3B;oBAAS;gBACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC5B;YAED,iEAAa,CAAC,QAAQ,CAAC;gBACnB,IAAI,EAAE,0EAAsB,CAAC,SAAS;gBACtC,EAAE,EAAE,gCAAgC;gBACpC,IAAI,EAAE,sDAAS,CAAC,OAAO,CAAC,4BAA4B,CAAC;gBACrD,IAAI,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE;gBAC5B,GAAG,EAAE,kBAAkB;aAC1B,CAAC,CAAC;QACP,CAAC;KAAA;IAED;;;;OAIG;IACG,MAAM;;YACR,MAAM,+DAAS,CAAC,YAAY,CAAC,yDAAS,CAAC,MAAM,EAAE,CAAC,CAAC;YAEjD,MAAM,iEAAa,CAAC,QAAQ,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAClE,CAAC;KAAA;IAED;;;;OAIG;IACG,MAAM;;YACR,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAExE,IAAI;gBACA,MAAM,qFAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAEpD,8CAA8C;gBAC9C,oFAAoF;gBACpF,MAAM,+DAAS,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,CAAC;gBAEnE,6DAAU,CAAC,OAAO,CAAC,6DAAU,CAAC,kBAAkB,EAAE,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBAEnE,MAAM,iEAAa,CAAC,kBAAkB,EAAE,CAAC;aAC5C;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,qBAAqB,CAAC,KAAK,EAAE,8BAA8B,CAAC,CAAC;aAC7E;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;QACL,CAAC;KAAA;CAEJ;AA7GY,uBAAuB;IALnC,+DAAS,CAAC;QACP,QAAQ,EAAE,6BAA6B;QACvC,+OAA+B;;KAElC,CAAC;GACW,uBAAuB,CA6GnC;AA7GmC;;;;;;;;;;;;;ACnCpC;AAAe,qgEAAs8D,iCAAiC,GAAG,0BAA0B,wBAAwB,GAAG,4BAA4B,uBAAuB,GAAG,uBAAuB,oBAAoB,qBAAqB,gBAAgB,iBAAiB,uBAAuB,wCAAwC,uBAAuB,qBAAqB,GAAG,2BAA2B,qBAAqB,mCAAmC,2BAA2B,gBAAgB,iBAAiB,mBAAmB,qBAAqB,yCAAyC,sBAAsB,6BAA6B,GAAG,uFAAuF,oDAAoD,GAAG,gCAAgC,mBAAmB,oBAAoB,iBAAiB,GAAG,oDAAoD,mBAAmB,sBAAsB,GAAG,+EAA+E,yBAAyB,wBAAwB,eAAe,qCAAqC,uBAAuB,GAAG,oGAAoG,eAAe,uBAAuB,kBAAkB,qBAAqB,eAAe,kBAAkB,GAAG,sCAAsC,yBAAyB,uBAAuB,GAAG,iCAAiC,uBAAuB,WAAW,cAAc,YAAY,aAAa,gBAAgB,iBAAiB,kBAAkB,0BAA0B,wBAAwB,+CAA+C,eAAe,GAAG,6CAA6C,mBAAmB,GAAG,mCAAmC,qBAAqB,uBAAuB,GAAG,0GAA0G,kBAAkB,GAAG,6BAA6B,uCAAuC,sBAAsB,KAAK,8CAA8C,oBAAoB,KAAK,GAAG,4BAA4B,mCAAmC,GAAG,0CAA0C,wCAAwC,GAAG,4BAA4B,4BAA4B,GAAG,6CAA6C,+g4DAA+g4D,E;;;;;;;;;;;;ACAz2gE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEwC;AAC+B;AAEhE;AACQ;AACF;AAC+D;AAC3D;AACC;AAMJ;AACG;AACD;AACT;AACE;AACS;AACyC;AACkB;AAC1D;AACyC;AACxC;AACR;AAEa;AACQ;AACS;AAEsB;AACrC;AACV;AAElD;;GAEG;IAMU,iBAAiB,SAAjB,iBAAiB;IAkB1B,YAAsB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAX9C,iBAAY,GAAoC,YAAY,CAAC;QAC7D,iBAAY,GAAG,KAAK,CAAC;QACrB,WAAM,GAAG,EAAE,CAAC;QACZ,UAAK,GAAgC,EAAE,CAAC;QACxC,aAAQ,GAAG,KAAK,CAAC;QACjB,iBAAY,GAAG,KAAK,CAAC;IAM4B,CAAC;IAElD;;OAEG;IACG,QAAQ;;YACV,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,CAAC,YAAY,GAAG,8DAAa,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAE3D,MAAM,kBAAkB,GAAyC,8DAAa,CAAC,MAAM,CAAC,kBAAkB,IAAI,EAAE,CAAC;YAC/G,IAAI,CAAC,kBAAkB,mBACnB,eAAe,EAAE,IAAI,EACrB,YAAY,EAAE,IAAI,EAClB,YAAY,EAAE,IAAI,EAClB,WAAW,EAAE,IAAI,EACjB,cAAc,EAAE,IAAI,EACpB,UAAU,EAAE,IAAI,IACb,kBAAkB,CACxB,CAAC;YAEF,mCAAmC;YACnC,MAAM,KAAK,GAAG,MAAM,qFAAe,CAAC,iBAAiB,EAAE,CAAC;YAExD,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACvC;iBAAM,IAAI,8DAAa,CAAC,MAAM,CAAC,gBAAgB,IAAI,CAAC,gEAAY,CAAC,KAAK,EAAE,EAAE;gBACvE,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;YAED,IAAI,CAAC,UAAU,GAAG,qFAAe,CAAC,qBAAqB,EAAE,CAAC;YAE1D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACnC,OAAO,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC5C,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,GAAG,+DAAS,CAAC,QAAQ,CAAC,CAAO,MAAc,EAAE,EAAE,CAAC;gBAC/D,MAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;gBAEvB,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;oBACpB,yBAAyB;oBACzB,MAAM,KAAK,GAAG,MAAM,yDAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBAEhD,iBAAiB;oBACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,uBAAuB,CAA+B,KAAK,CAAC,CAAC;oBAE/E,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;iBACvC;qBAAM;oBACH,6DAA6D;oBAC7D,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACzB;gBAED,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC9B,CAAC,GAAE,IAAI,CAAC,CAAC;YAET,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,kEAAa,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;QAC7E,CAAC;KAAA;IAED;;;;OAIG;IACa,gBAAgB;;YAC5B,MAAM,cAAc,GAAG,MAAM,qFAAe,CAAC,iBAAiB,EAAE,CAAC;YACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAA+B,cAAc,CAAC,CAAC;YAC7F,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC,2BAA2B;YAEvD,sCAAsC;YACtC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAClD,IAAI,CAAC,kBAAkB,CAAC,YAAY,GAAG,KAAK,CAAC;aAChD;YAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;YAErC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAClC,CAAC;KAAA;IAED;;;;OAIG;IACa,cAAc;;YAC1B,MAAM,cAAc,GAAG,MAAM,2DAAU,CAAC,GAAG,CAAC,6FAAuB,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;YAE5F,IAAI,CAAC,cAAc,EAAE;gBACjB,oBAAoB;gBACpB,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;QACL,CAAC;KAAA;IAED;;;;;OAKG;IACO,uBAAuB,CAAC,KAAkC;QAChE,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,wDAAO,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAE5G,MAAM,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACtE,MAAM,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;YAEnF,iEAAiE;YACjE,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC;YAEtE,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;gBACxE,+DAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACpD,MAAM,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3D,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAEnB,sEAAsE;YACtE,IAAI,CAAC,QAAQ,GAAG,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;YAE1E,IAAI,yDAAS,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,eAAe,EAAE;gBAC5E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC;aAC3D;YAED,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACO,kBAAkB;QACxB,OAAO,CAAC,OAAwB,EAA2B,EAAE;YACzD,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACnC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,wDAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAEjE,IAAI,CAAC,KAAK,EAAE;gBACR,MAAM,IAAI,GAAG,CAAC,CAAC,yDAAS,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;gBAEhD,IAAI,IAAI,EAAE;oBACN,KAAK,GAAG,IAAI,CAAC;iBAChB;aACJ;YAED,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;QAChE,CAAC,CAAC;IACN,CAAC;IAED;;OAEG;IACG,QAAQ;;YACV,MAAM,gEAAY,CAAC,SAAS,CAAC;gBACzB,SAAS,EAAE,0GAA0B;gBACrC,QAAQ,EAAE,uBAAuB;aACpC,CAAC,CAAC;QACP,CAAC;KAAA;IAED;;OAEG;IACG,cAAc;;YAChB,MAAM,gEAAY,CAAC,SAAS,CAAC;gBACzB,SAAS,EAAE,4HAAgC;gBAC3C,QAAQ,EAAE,uBAAuB;aACpC,CAAC,CAAC;QACP,CAAC;KAAA;IAED;;;;;;;OAOG;IACG,OAAO,CAAC,CAAQ,EAAE,GAAW,EAAE,SAAqC;;YACtE,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,qDAAO,CAAC,aAAa,EAAE,CAAC;YAExB,IAAI,CAAC,GAAG,EAAE;gBACN,gEAAY,CAAC,cAAc,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;gBAEhE,OAAO;aACV;YAED,IAAI,CAAC,6DAAW,CAAC,QAAQ,EAAE,EAAE;gBACzB,gEAAY,CAAC,cAAc,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;gBAE1D,OAAO;aACV;YAED,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;YAEjB,IAAI,GAAG,CAAC,KAAK,CAAC,qCAAqC,CAAC,EAAE;gBAClD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,gEAAS,CAAC,sDAAS,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC;gBAE1F,OAAO;aACV;YAED,MAAM,QAAQ,GAAG,yDAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;YAEhD,IAAI,QAAQ,EAAE;gBACV,oBAAoB;gBACpB,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aAEtC;iBAAM;gBACH,mBAAmB;gBACnB,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,EAAE,CAAC;gBAEpD,IAAI,WAAkC,CAAC;gBAEvC,IAAI;oBACA,WAAW,GAAG,MAAM,yDAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;iBAChD;gBAAC,OAAO,KAAK,EAAE;oBACZ,0DAA0D;oBAC1D,MAAM,MAAM,GAAG,wDAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBAE9C,IAAI,MAAM,IAAI,MAAM,IAAI,GAAG,EAAE;wBACzB,IAAI;4BACA,WAAW,GAAG,MAAM,yDAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;yBACnD;wBAAC,OAAO,WAAW,EAAE;4BAClB,8BAA8B;4BAC9B,KAAK,CAAC,OAAO,EAAE,CAAC;4BAEhB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,KAAK,IAAI,WAAW,CAAC,CAAC;yBACzD;qBACJ;yBAAM;wBACH,KAAK,CAAC,OAAO,EAAE,CAAC;wBAEhB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;qBAC1C;iBACJ;gBAED,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;gBAEzC,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;QACL,CAAC;KAAA;IAED;;;;;OAKG;IACa,aAAa,CAAC,QAA+B;;YACzD,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,EAAE,CAAC;YAEpD,IAAI;gBACA,MAAM,IAAI,GAAG,MAAM,yDAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAE9F,MAAM,yDAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAErE,2DAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBAE5D,MAAM,kEAAa,CAAC,kBAAkB,EAAE,CAAC;gBAEzC,OAAO;aACV;YAAC,OAAO,KAAK,EAAE;gBACZ,qFAAe,CAAC,mBAAmB,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAE/F,IAAI,KAAK,CAAC,SAAS,EAAE;oBACjB,kEAAa,CAAC,QAAQ,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3D;aACJ;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;QACL,CAAC;KAAA;IAED;;;;;;;OAOG;IACa,KAAK,CAAC,QAA+B,EAAE,SAAqC;;;YACxF,IAAI;gBACA,MAAM,yDAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAElD,2DAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBAE5D,IAAI,qFAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBACjD,gDAAgD;oBAChD,qFAAe,CAAC,gCAAgC,CAC5C,QAAQ,CAAC,OAAO,EAChB,QAAQ,CAAC,IAAI,EACb,QAAQ,CAAC,OAAO,QAChB,QAAQ,CAAC,MAAM,0CAAE,SAAS,CAC7B,CAAC;iBACL;qBAAM;oBACH,MAAM,UAAU,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC;oBAC9E,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;wBAC/B,UAAU,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;wBACxC,UAAU,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC;qBAC9C;oBAED,kEAAa,CAAC,QAAQ,CAAC,oBAAoB,EAAE;wBACzC,MAAM,EAAE,UAAU;qBACrB,CAAC,CAAC;iBACN;aACJ;YAAC,WAAM;gBACJ,iBAAiB;aACpB;;KACJ;IAED;;;;;OAKG;IACa,cAAc,CAAC,GAAkB,EAAE,KAAgB;;YAC/D,IAAI,YAAY,GAAG,gEAAY,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,aAAa,GAAsC,SAAS,CAAC;YACjE,IAAI,UAA8B,CAAC;YACnC,IAAI,YAAgC,CAAC;YACrC,IAAI,SAA6B,CAAC;YAElC,IAAI,KAAK,YAAY,wEAAa,EAAE;gBAChC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;gBACpC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;gBAClC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC5B,UAAU,GAAG,aAAa,YAAY,+GAA0B,CAAC;aACpE;YAED,IAAI,KAAK,YAAY,0EAAc,EAAE;gBACjC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC;aAC5B;YAED,IAAI,YAAY,EAAE;gBACd,YAAY,GAAG,MAAM,YAAY,mDAAmD,CAAC;aACxF;YAED,MAAM,kBAAkB,GAAG,aAAa,CAAC;YACzC,MAAM,OAAO,GAAG;gBACZ;oBACI,IAAI,EAAE,sDAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBACxC,IAAI,EAAE,QAAQ;iBACjB;gBACD,mBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,iBAAiB,IACjC,CAAC,CAAC;oBACE,IAAI,EAAE,sDAAS,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBAC9C,OAAO,EAAE,GAAG,EAAE,CAAC,gFAAe,CAAC,OAAO,CAAC;wBACnC,aAAa,EAAE,kBAAkB;wBACjC,OAAO,EAAE,sDAAS,CAAC,OAAO,CAAC,oBAAoB,CAAC;wBAChD,OAAO,EAAE,UAAU,SAAS,OAAO,YAAY,EAAE;qBACpD,CAAC;iBACL;oBACD,CAAC,CAAC,CACE,CAAC,UAAU;wBACP,CAAC,CAAC;4BACE,IAAI,EAAE,sDAAS,CAAC,OAAO,CAAC,eAAe,CAAC;4BACxC,QAAQ,EAAE,sBAAsB;4BAChC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;yBACjC;wBACD,CAAC,CAAC,IAAI,CACb;aACR,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YAE7B,MAAM,YAAY,GAAG,MAAM,gEAAY,CAAC,oBAAoB,CAAC;gBACzD,MAAM,EAAE,UAAU,aAAV,UAAU,cAAV,UAAU,GAAI,sDAAS,CAAC,OAAO,CAAC,oBAAoB,CAAC;gBAC7D,OAAO,EAAE,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,sDAAS,CAAC,OAAO,CAAC,uBAAuB,CAAC;gBACnE,OAAO,EAAE,OAAwB;aACpC,CAAC,CAAC;YAEH,IAAI,YAAY,EAAE;gBACd,MAAM,gBAAgB,GAAG,YAAY,CAAC,aAAa,CAAC,4BAA4B,CAAC,CAAC;gBAElF,IAAI,gBAAgB,EAAE;oBAClB,gBAAgB,CAAC,SAAS,GAAG,yFAAsB,CAAC,MAAM,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;iBACvF;aACJ;QACL,CAAC;KAAA;IAED;;;;OAIG;IACH,8DAA8D;IAC9D,aAAa,CAAC,KAAW;;QACrB,MAAM,QAAQ,SAAG,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,CAAC,KAAK,0CAAE,IAAI,GAAG,WAAW,EAAE,CAAC;QAC3D,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;SACxC;aAAM;YACH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CACjD,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC1G,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAC3D;IACL,CAAC;IAED;;;;;OAKG;IACH,UAAU,CAAC,CAAQ,EAAE,MAAc;QAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAEzB,MAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;QAEvB,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;YAC3C,IAAI,CAAC,cAAc,GAAG;gBAClB,GAAG,EAAE,MAAM;gBACX,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,EAAE;gBACZ,aAAa,EAAE,wDAAO,CAAC,cAAc,CAAC,MAAM,CAAC;aAChD,CAAC;SACL;aAAM;YACH,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;SACnC;QAED,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;IACvC,CAAC;IAED;;;;OAIG;IACG,yBAAyB;;YAC3B,IAAI;gBACA,MAAM,qFAAe,CAAC,sBAAsB,EAAE,CAAC;gBAE/C,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;aACvB;YAAC,WAAM;gBACJ,iBAAiB;aACpB;QACL,CAAC;KAAA;IAED;;;;OAIG;IACG,MAAM;;YACR,sBAAsB;YACtB,MAAM,IAAI,GAAG,MAAM,+DAAS,CAAC,MAAM,EAAE,CAAC;YAEtC,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO;aACV;YAED,IAAI,0EAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;gBACxC,IAAI;oBACA,MAAM,0EAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;iBACpD;gBAAC,OAAO,KAAK,EAAE;oBACZ,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,mBAAmB,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE;wBAC7E,6EAA6E;wBAC7E,IAAI,CAAC,mCAAmC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;qBACzD;yBAAM;wBACH,0EAAoB,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;qBACzD;iBACJ;gBAED,OAAO;aACV;YAED,sEAAsE;YACtE,MAAM,MAAM,GAAG,iEAAY,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAEjD,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,OAAO,EAAE;gBACjD,gEAAY,CAAC,cAAc,CAAC,sDAAS,CAAC,OAAO,CAAC,kCAAkC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAEjG,OAAO;aACV;YAED,MAAM,OAAO,GAAG,MAAM,qFAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAC7D,IAAI,OAAO,EAAE;gBACT,0CAA0C;gBAC1C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAE9C,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;aAC1C;iBAAM;gBACH,gEAAY,CAAC,cAAc,CAAC,gCAAgC,EAAE,IAAI,CAAC,CAAC;aACvE;QACL,CAAC;KAAA;IAED;;;;;;;OAOG;IACa,mCAAmC,CAAC,SAAiB,EAAE,KAAsC;;;YACzG,MAAM,OAAO,GAAG,YAAK,CAAC,IAAI,0CAAE,OAAO,KAAI,EAAE,CAAC;YAC1C,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,EAAE,CAAC;YAEpD,iCAAiC;YACjC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEjD,IAAI;gBACA,0BAA0B;gBAC1B,MAAM,QAAQ,GAAG,MAAM,yDAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAEpD,MAAM,yDAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAElD,IAAI,CAAC,qFAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAClD,kCAAkC;oBAClC,MAAM,kEAAa,CAAC,QAAQ,CAAC,oBAAoB,EAAE;wBAC/C,MAAM,EAAE;4BACJ,OAAO,EAAE,QAAQ,CAAC,OAAO;4BACzB,UAAU,EAAE,QAAQ,CAAC,MAAM;yBAC9B;qBACJ,CAAC,CAAC;iBACN;aACJ;YAAC,WAAM;gBACJ,iBAAiB;aACpB;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;YAED,yBAAyB;YACzB,KAAK,CAAC,KAAK,GAAG,mEAAa,CAAC,cAAc,CACtC,KAAK,CAAC,KAAK,EACX,UAAU,GAAG,sDAAS,CAAC,OAAO,CAAC,8CAA8C,CAAC,CACjF,CAAC;YAEF,0EAAoB,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;;KACzD;IAED;;OAEG;IACH,YAAY;QACR,kEAAa,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;CAEJ;;YAnlBQ,0DAAW;;;0BA4Cf,uDAAS,SAAC,YAAY;;AAFd,iBAAiB;IAL7B,+DAAS,CAAC;QACP,QAAQ,EAAE,sBAAsB;QAChC,0NAAwB;;KAE3B,CAAC;GACW,iBAAiB,CAyiB7B;AAziB6B;;;;;;;;;;;;;ACzD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAqC;AACrC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEkB;AACD;AAEa;AAC2B;AACtC;AACU;AACN;AAExD;;GAEG;IAOU,kBAAkB,SAAlB,kBAAkB;;QAE3B,iBAAY,GAAqB;YAC7B,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,EAAE;YACd,KAAK,EAAE,CAAC;SACX,CAAC;QAEF,eAAU,GAAG,KAAK,CAAC;QACnB,WAAM,GAAG,KAAK,CAAC;IAwGnB,CAAC;IAtGG;;OAEG;IACG,QAAQ;;YACV,IAAI,iEAAa,CAAC,oBAAoB,CAAC,aAAa,CAAC,EAAE;gBACnD,IAAI,CAAC,GAAG,EAAE,CAAC;gBAEX,OAAO;aACV;YAED,IAAI,CAAC,YAAY,GAAG,MAAM,qFAAe,CAAC,eAAe,EAAE,CAAC;YAC5D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,EAAE;gBAC9B,IAAI,CAAC,GAAG,EAAE,CAAC;aACd;QACL,CAAC;KAAA;IAED;;OAEG;IACH,GAAG;QACC,qFAAe,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;;OAMG;IACG,UAAU,CAAC,KAAY,EAAE,IAAuB;;YAClD,KAAK,CAAC,eAAe,EAAE,CAAC;YAExB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;YAEnC,QAAQ,GAAG,MAAM,2EAAU,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YAEhH,IAAI;gBACA,MAAM,gEAAY,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;aAChG;YAAC,OAAO,KAAK,EAAE;gBACZ,wBAAwB;gBACxB,OAAO;aACV;YAED,IAAI;gBACA,MAAM,qFAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAErE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBAExB,8CAA8C;gBAC9C,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,EAAE;oBAC9B,qFAAe,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;iBAC3C;aACJ;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,qBAAqB,CAAC,KAAK,EAAE,4BAA4B,EAAE,IAAI,CAAC,CAAC;aACjF;QACL,CAAC;KAAA;IAED;;;;;;OAMG;IACG,KAAK,CAAC,KAAY,EAAE,MAAc;;YACpC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YAExB,MAAM,KAAK,GAAG,MAAM,gEAAY,CAAC,gBAAgB,EAAE,CAAC;YAEpD,IAAI;gBACA,MAAM,QAAQ,GAAG,MAAM,yDAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAElD,IAAI,QAAQ,EAAE;oBACV,MAAM,iEAAa,CAAC,kBAAkB,EAAE,CAAC;oBAEzC,OAAO;iBACV;aACJ;YAAC,OAAO,KAAK,EAAE;gBACZ,gEAAY,CAAC,qBAAqB,CAAC,KAAK,EAAE,qBAAqB,CAAC,CAAC;aACpE;oBAAS;gBACN,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;QACL,CAAC;KAAA;IAED;;OAEG;IACH,YAAY;QACR,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAED;;OAEG;IACH,YAAY;QACR,iEAAa,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;CAEJ;AAjHY,kBAAkB;IAN9B,+DAAS,CAAC;QACP,QAAQ,EAAE,uBAAuB;QACjC,6NAAyB;QAEzB,UAAU,EAAE,CAAC,qEAAc,CAAC,YAAY,EAAE,qEAAc,CAAC,SAAS,CAAC;;KACtE,CAAC;GACW,kBAAkB,CAiH9B;AAjH8B","file":"login-lazy-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1 *ngIf=\\\"!changingPassword\\\">{{ 'core.login.changepassword' | translate }}</h1>\\r\\n            <h1 *ngIf=\\\"changingPassword\\\">{{ 'core.login.reconnecttosite' | translate }}</h1>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" (click)=\\\"showHelp()\\\" [attr.aria-label]=\\\"'core.help' | translate\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"far-circle-question\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-list class=\\\"list-item-limited-width\\\">\\r\\n        <ng-container *ngIf=\\\"!changingPassword\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <h2>{{ 'core.login.forcepasswordchangenotice' | translate }}</h2>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-button class=\\\"ion-text-wrap ion-margin\\\" expand=\\\"block\\\" (click)=\\\"openChangePasswordPage()\\\">\\r\\n                {{ 'core.login.changepasswordbutton' | translate }}\\r\\n            </ion-button>\\r\\n        </ng-container>\\r\\n        <ng-container *ngIf=\\\"changingPassword\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p>{{ 'core.login.changepasswordreconnectinstructions' | translate }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-button class=\\\"ion-text-wrap ion-margin\\\" expand=\\\"block\\\" (click)=\\\"login()\\\">\\r\\n                {{ 'core.login.reconnect' | translate }}\\r\\n            </ion-button>\\r\\n        </ng-container>\\r\\n        <ion-item class=\\\"ion-text-wrap\\\">\\r\\n            <ion-label>\\r\\n                <p>{{ 'core.wanttochangesite' | translate }}</p>\\r\\n            </ion-label>\\r\\n        </ion-item>\\r\\n        <ion-button class=\\\"ion-text-wrap ion-margin\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"logout()\\\">\\r\\n            {{ logoutLabel | translate }}\\r\\n        </ion-button>\\r\\n    </ion-list>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1>{{ 'core.login.newaccount' | translate }}</h1>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" *ngIf=\\\"authInstructions\\\" (click)=\\\"showAuthInstructions()\\\"\\r\\n                [attr.aria-label]=\\\"'core.login.instructions' | translate\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"far-circle-question\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <core-loading [hideUntil]=\\\"settingsLoaded\\\" *ngIf=\\\"!isMinor\\\">\\r\\n        <div class=\\\"list-item-limited-width\\\">\\r\\n\\r\\n            <!-- Site has an unsupported required field. -->\\r\\n            <ion-list *ngIf=\\\"!allRequiredSupported\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        {{ 'core.login.signuprequiredfieldnotsupported' | translate }}\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-button expand=\\\"block\\\" class=\\\"ion-margin\\\" [href]=\\\"signupUrl\\\" core-link autoLogin=\\\"no\\\" [showBrowserWarning]=\\\"false\\\">\\r\\n                    {{ 'core.openinbrowser' | translate }}\\r\\n                </ion-button>\\r\\n            </ion-list>\\r\\n\\r\\n            <ng-container *ngIf=\\\"allRequiredSupported && settingsLoaded && settings\\\">\\r\\n                <!-- Age verification. -->\\r\\n                <form *ngIf=\\\"ageDigitalConsentVerification\\\" [formGroup]=\\\"ageVerificationForm\\\" (ngSubmit)=\\\"verifyAge($event)\\\" #ageForm>\\r\\n\\r\\n                    <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>\\r\\n                            <h2>{{ 'core.agelocationverification' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.whatisyourage' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-input type=\\\"number\\\" name=\\\"age\\\" placeholder=\\\"0\\\" formControlName=\\\"age\\\" autocapitalize=\\\"none\\\" autocorrect=\\\"off\\\">\\r\\n                        </ion-input>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.wheredoyoulive' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-select name=\\\"country\\\" formControlName=\\\"country\\\" [cancelText]=\\\"'core.cancel' | translate\\\"\\r\\n                            [okText]=\\\"'core.ok' | translate\\\" [placeholder]=\\\"'core.login.selectacountry' | translate\\\">\\r\\n                            <ion-select-option value=\\\"\\\">{{ 'core.login.selectacountry' | translate }}</ion-select-option>\\r\\n                            <ion-select-option *ngFor=\\\"let country of countries\\\" [value]=\\\"country.code\\\">{{country.name}}</ion-select-option>\\r\\n                        </ion-select>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <!-- Submit button. -->\\r\\n                    <ion-button expand=\\\"block\\\" class=\\\"ion-margin\\\" type=\\\"submit\\\" [disabled]=\\\"!ageVerificationForm.valid\\\">\\r\\n                        {{ 'core.proceed' | translate }}\\r\\n                    </ion-button>\\r\\n\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>\\r\\n                            <p class=\\\"item-heading\\\">{{ 'core.whyisthisrequired' | translate }}</p>\\r\\n                            <p>{{ 'core.explanationdigitalminor' | translate }}</p>\\r\\n                        </ion-label>\\r\\n                    </ion-item>\\r\\n                </form>\\r\\n\\r\\n                <!-- Signup form. -->\\r\\n                <form *ngIf=\\\"!ageDigitalConsentVerification\\\" [formGroup]=\\\"signupForm\\\" (ngSubmit)=\\\"create($event)\\\" #signupFormEl>\\r\\n\\r\\n                    <ion-item class=\\\"ion-text-wrap ion-text-center\\\">\\r\\n                        <ion-label>\\r\\n                            <!-- If no sitename show big siteurl. -->\\r\\n                            <p *ngIf=\\\"!siteName\\\" class=\\\"ion-padding item-heading\\\">{{siteUrl}}</p>\\r\\n                            <!-- If sitename, show big sitename and small siteurl. -->\\r\\n                            <p *ngIf=\\\"siteName\\\" class=\\\"ion-padding item-heading\\\">\\r\\n                                <core-format-text [text]=\\\"siteName\\\" [filter]=\\\"false\\\"></core-format-text>\\r\\n                            </p>\\r\\n                            <p *ngIf=\\\"siteName\\\">{{siteUrl}}</p>\\r\\n                        </ion-label>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <!-- Username and password. -->\\r\\n                    <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>\\r\\n                            <h2>{{ 'core.login.createuserandpass' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.login.username' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-input type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"{{ 'core.login.username' | translate }}\\\"\\r\\n                            formControlName=\\\"username\\\" autocapitalize=\\\"none\\\" autocorrect=\\\"off\\\">\\r\\n                        </ion-input>\\r\\n                        <core-input-errors [control]=\\\"signupForm.controls.username\\\" [errorMessages]=\\\"usernameErrors\\\"></core-input-errors>\\r\\n                    </ion-item>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.login.password' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <core-show-password name=\\\"password\\\">\\r\\n                            <ion-input name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"{{ 'core.login.password' | translate }}\\\"\\r\\n                                formControlName=\\\"password\\\" [clearOnEdit]=\\\"false\\\" autocomplete=\\\"new-password\\\" required=\\\"true\\\">\\r\\n                            </ion-input>\\r\\n                        </core-show-password>\\r\\n                        <p *ngIf=\\\"settings.passwordpolicy\\\" class=\\\"core-input-footnote\\\">\\r\\n                            {{settings.passwordpolicy}}\\r\\n                        </p>\\r\\n                        <core-input-errors [control]=\\\"signupForm.controls.password\\\" [errorMessages]=\\\"passwordErrors\\\"></core-input-errors>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <!-- More details. -->\\r\\n                    <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>\\r\\n                            <h2>{{ 'core.login.supplyinfo' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.user.email' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-input type=\\\"email\\\" name=\\\"email\\\" placeholder=\\\"{{ 'core.user.email' | translate }}\\\" formControlName=\\\"email\\\"\\r\\n                            autocapitalize=\\\"none\\\" autocorrect=\\\"off\\\">\\r\\n                        </ion-input>\\r\\n                        <core-input-errors [control]=\\\"signupForm.controls.email\\\" [errorMessages]=\\\"emailErrors\\\"></core-input-errors>\\r\\n                    </ion-item>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.user.emailagain' | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-input type=\\\"email\\\" name=\\\"email2\\\" placeholder=\\\"{{ 'core.user.emailagain' | translate }}\\\" autocapitalize=\\\"none\\\"\\r\\n                            formControlName=\\\"email2\\\" autocorrect=\\\"off\\\" [pattern]=\\\"escapeMail(signupForm.controls.email.value)\\\">\\r\\n                        </ion-input>\\r\\n                        <core-input-errors [control]=\\\"signupForm.controls.email2\\\" [errorMessages]=\\\"email2Errors\\\"></core-input-errors>\\r\\n                    </ion-item>\\r\\n                    <ion-item *ngFor=\\\"let nameField of settings.namefields\\\" class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">\\r\\n                            <span core-mark-required=\\\"true\\\">{{ 'core.user.' + nameField | translate }}</span>\\r\\n                        </ion-label>\\r\\n                        <ion-input type=\\\"text\\\" [name]=\\\"nameField\\\" placeholder=\\\"{{ 'core.user.' + nameField | translate }}\\\"\\r\\n                            formControlName=\\\"{{nameField}}\\\" autocorrect=\\\"off\\\">\\r\\n                        </ion-input>\\r\\n                        <core-input-errors [control]=\\\"signupForm.controls[nameField]\\\" [errorMessages]=\\\"namefieldsErrors![nameField]\\\">\\r\\n                        </core-input-errors>\\r\\n                    </ion-item>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">{{ 'core.user.city' | translate }}</ion-label>\\r\\n                        <ion-input type=\\\"text\\\" name=\\\"city\\\" placeholder=\\\"{{ 'core.user.city' | translate }}\\\" formControlName=\\\"city\\\"\\r\\n                            autocorrect=\\\"off\\\">\\r\\n                        </ion-input>\\r\\n                    </ion-item>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label position=\\\"stacked\\\">{{ 'core.user.country' | translate }}</ion-label>\\r\\n                        <ion-select name=\\\"country\\\" formControlName=\\\"country\\\" [placeholder]=\\\"'core.login.selectacountry' | translate\\\"\\r\\n                            [cancelText]=\\\"'core.cancel' | translate\\\" [okText]=\\\"'core.ok' | translate\\\">\\r\\n                            <ion-select-option value=\\\"\\\">{{ 'core.login.selectacountry' | translate }}</ion-select-option>\\r\\n                            <ion-select-option *ngFor=\\\"let country of countries\\\" [value]=\\\"country.code\\\">{{country.name}}</ion-select-option>\\r\\n                        </ion-select>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <!-- Other categories. -->\\r\\n                    <ng-container *ngFor=\\\"let category of categories\\\">\\r\\n                        <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                            <ion-label>\\r\\n                                <p class=\\\"item-heading\\\">{{ category.name }}</p>\\r\\n                            </ion-label>\\r\\n                        </ion-item-divider>\\r\\n                        <core-user-profile-field *ngFor=\\\"let field of category.fields\\\" [field]=\\\"field\\\" [edit]=\\\"true\\\" [signup]=\\\"true\\\"\\r\\n                            registerAuth=\\\"email\\\" [form]=\\\"signupForm\\\"></core-user-profile-field>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <!-- ReCAPTCHA -->\\r\\n                    <ng-container *ngIf=\\\"settings.recaptchapublickey\\\">\\r\\n                        <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                            <ion-label>\\r\\n                                <h2><span [core-mark-required]=\\\"true\\\">{{ 'core.login.security_question' | translate }}</span></h2>\\r\\n                            </ion-label>\\r\\n                        </ion-item-divider>\\r\\n                        <core-recaptcha [publicKey]=\\\"settings.recaptchapublickey\\\" [model]=\\\"captcha\\\" [siteUrl]=\\\"siteUrl\\\"></core-recaptcha>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <!-- Site policy (if any). -->\\r\\n                    <ng-container *ngIf=\\\"settings.sitepolicy\\\">\\r\\n                        <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                            <ion-label>\\r\\n                                <h2>{{ 'core.login.policyagreement' | translate }}</h2>\\r\\n                            </ion-label>\\r\\n                        </ion-item-divider>\\r\\n                        <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                            <ion-label>\\r\\n                                <a [href]=\\\"settings.sitepolicy\\\" core-link capture=\\\"false\\\">\\r\\n                                    {{ 'core.login.policyagreementclick' | translate }}\\r\\n                                </a>\\r\\n                            </ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                            <ion-label>\\r\\n                                <span [core-mark-required]=\\\"true\\\">{{ 'core.login.policyacceptmandatory' | translate }}</span>\\r\\n                                <core-input-errors [control]=\\\"signupForm.controls.policyagreed\\\" [errorMessages]=\\\"policyErrors\\\">\\r\\n                                </core-input-errors>\\r\\n                            </ion-label>\\r\\n                            <ion-checkbox slot=\\\"end\\\" name=\\\"policyagreed\\\" formControlName=\\\"policyagreed\\\"></ion-checkbox>\\r\\n                        </ion-item>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <!-- Submit button. -->\\r\\n                    <ion-button expand=\\\"block\\\" class=\\\"ion-margin\\\" type=\\\"submit\\\">{{ 'core.login.createaccount' | translate }}</ion-button>\\r\\n                    <!-- Remove this once Ionic fixes this bug: https://github.com/ionic-team/ionic-framework/issues/19368 -->\\r\\n                    <input type=\\\"submit\\\" class=\\\"core-submit-hidden-enter\\\" />\\r\\n                </form>\\r\\n            </ng-container>\\r\\n        </div>\\r\\n    </core-loading>\\r\\n\\r\\n    <div class=\\\"list-item-limited-width\\\">\\r\\n        <ion-list *ngIf=\\\"allRequiredSupported && isMinor\\\">\\r\\n            <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <h2 *ngIf=\\\"siteName\\\" class=\\\"item-heading ion-padding\\\">\\r\\n                        <core-format-text [text]=\\\"siteName\\\" [filter]=\\\"false\\\"></core-format-text>\\r\\n                    </h2>\\r\\n                </ion-label>\\r\\n            </ion-item-divider>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'core.considereddigitalminor' | translate }}</p>\\r\\n                    <p>{{ 'core.digitalminor_desc' | translate }}</p>\\r\\n                    <p *ngIf=\\\"supportName\\\">{{ supportName }}</p>\\r\\n                    <p *ngIf=\\\"supportEmail\\\">{{ supportEmail }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-button *ngIf=\\\"!supportName && !supportEmail\\\" expand=\\\"block\\\" class=\\\"ion-margin\\\" (click)=\\\"showContactOnSite()\\\">\\r\\n                {{ 'core.openinbrowser' | translate }}\\r\\n            </ion-button>\\r\\n        </ion-list>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1>{{ 'core.login.passwordforgotten' | translate }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <div class=\\\"list-item-limited-width\\\">\\r\\n        <core-login-exceeded-attempts *ngIf=\\\"canContactSupport && wasPasswordResetRequestedRecently\\\" [supportConfig]=\\\"supportConfig\\\"\\r\\n            [supportSubject]=\\\"'core.login.exceededpasswordresetattemptssupportsubject' | translate\\\">\\r\\n            {{ 'core.login.exceededpasswordresetattempts' | translate }}\\r\\n        </core-login-exceeded-attempts>\\r\\n\\r\\n        <ion-list>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>{{ 'core.login.passwordforgotteninstructions2' | translate }}</ion-label>\\r\\n            </ion-item>\\r\\n        </ion-list>\\r\\n        <ion-card>\\r\\n            <form [formGroup]=\\\"myForm\\\" (ngSubmit)=\\\"resetPassword($event)\\\" #resetPasswordForm>\\r\\n                <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'core.login.searchby' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-radio-group formControlName=\\\"field\\\">\\r\\n                    <ion-item>\\r\\n                        <ion-label>{{ 'core.login.username' | translate }}</ion-label>\\r\\n                        <ion-radio slot=\\\"end\\\" value=\\\"username\\\"></ion-radio>\\r\\n                    </ion-item>\\r\\n                    <ion-item>\\r\\n                        <ion-label>{{ 'core.user.email' | translate }}</ion-label>\\r\\n                        <ion-radio slot=\\\"end\\\" value=\\\"email\\\"></ion-radio>\\r\\n                    </ion-item>\\r\\n                </ion-radio-group>\\r\\n                <ion-item>\\r\\n                    <ion-label class=\\\"sr-only\\\">{{ 'core.login.usernameoremail' | translate }}</ion-label>\\r\\n                    <ion-input type=\\\"text\\\" name=\\\"value\\\" placeholder=\\\"{{ 'core.login.usernameoremail' | translate }}\\\" formControlName=\\\"value\\\"\\r\\n                        autocapitalize=\\\"none\\\" autocorrect=\\\"off\\\" [core-auto-focus]=\\\"autoFocus\\\">\\r\\n                    </ion-input>\\r\\n                </ion-item>\\r\\n                <ion-button type=\\\"submit\\\" class=\\\"ion-margin\\\" expand=\\\"block\\\" [disabled]=\\\"!myForm.valid\\\">\\r\\n                    {{ 'core.courses.search' | translate }}\\r\\n                </ion-button>\\r\\n            </form>\\r\\n        </ion-card>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1>{{ 'core.login.policyagreement' | translate }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <core-loading [hideUntil]=\\\"policyLoaded\\\">\\r\\n        <ion-list *ngIf=\\\"sitePolicy\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p>{{ 'core.login.policyagree' | translate }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p>\\r\\n                        <a [href]=\\\"sitePolicy\\\" core-link [capture]=\\\"false\\\">{{ 'core.login.policyagreementclick' | translate }}</a>\\r\\n                    </p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-card *ngIf=\\\"showInline\\\" class=\\\"core-site-policy-iframe-container\\\">\\r\\n                <core-iframe [src]=\\\"sitePolicy\\\"></core-iframe>\\r\\n            </ion-card>\\r\\n            <ion-button class=\\\"ion-text-wrap ion-margin-horizontal\\\" expand=\\\"block\\\" (click)=\\\"accept()\\\">\\r\\n                {{ 'core.login.policyacceptmandatory' | translate }}\\r\\n            </ion-button>\\r\\n            <ion-button class=\\\"ion-text-wrap ion-margin-horizontal ion-margin-bottom\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"cancel()\\\">\\r\\n                {{ 'core.login.cancel' | translate }}\\r\\n            </ion-button>\\r\\n        </ion-list>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1>{{ 'core.login.connecttomoodle' | translate }}</h1>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" (click)=\\\"openSettings()\\\" [attr.aria-label]=\\\"'core.settings.appsettings' | translate\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"fas-gear\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n    <div class=\\\"list-item-limited-width\\\">\\r\\n        <div class=\\\"ion-text-center ion-padding ion-margin-bottom core-login-site-logo\\\" [class.hidden]=\\\"hasSites || enteredSiteUrl\\\">\\r\\n            <img src=\\\"assets/img/login_logo.png\\\" class=\\\"avatar-full login-logo\\\" role=\\\"presentation\\\" alt=\\\"\\\">\\r\\n        </div>\\r\\n        <form [formGroup]=\\\"siteForm\\\" (ngSubmit)=\\\"connect($event, siteForm.value.siteUrl)\\\" *ngIf=\\\"!fixedSites && siteForm\\\" #siteFormEl>\\r\\n            <!-- Form to input the site URL if there are no fixed sites. -->\\r\\n            <ng-container *ngIf=\\\" siteSelector=='url'\\\">\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\" stacked\\\">\\r\\n                        <h2>{{ 'core.login.siteaddress' | translate }}</h2>\\r\\n                    </ion-label>\\r\\n                    <ion-input name=\\\"url\\\" type=\\\"url\\\" placeholder=\\\"{{ 'core.login.siteaddressplaceholder' | translate }}\\\"\\r\\n                        formControlName=\\\"siteUrl\\\" [core-auto-focus]=\\\"showKeyboard && !showScanQR\\\">\\r\\n                    </ion-input>\\r\\n                </ion-item>\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"siteSelector != 'url'\\\">\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\"stacked\\\">\\r\\n                        <h2>{{ 'core.login.siteaddress' | translate }}</h2>\\r\\n                    </ion-label>\\r\\n                    <ion-input name=\\\"url\\\" placeholder=\\\"{{ 'core.login.siteaddressplaceholder' | translate }}\\\" formControlName=\\\"siteUrl\\\"\\r\\n                        [core-auto-focus]=\\\"showKeyboard && !showScanQR\\\" (ionChange)=\\\"searchSite($event, siteForm.value.siteUrl)\\\">\\r\\n                    </ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n                <ion-list [class.hidden]=\\\"!hasSites && !enteredSiteUrl\\\" class=\\\"core-login-site-list\\\">\\r\\n                    <ion-item class=\\\"core-login-site-list-title\\\">\\r\\n                        <ion-label>\\r\\n                            <h2 class=\\\"item-heading\\\">{{ 'core.login.selectsite' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item>\\r\\n                    <ion-item button *ngIf=\\\"enteredSiteUrl\\\" (click)=\\\"connect($event, enteredSiteUrl.url)\\\"\\r\\n                        [attr.aria-label]=\\\"'core.login.connect' | translate\\\" detail=\\\"true\\\" class=\\\"core-login-entered-site\\\">\\r\\n                        <ion-thumbnail slot=\\\"start\\\" aria-hidden=\\\"true\\\">\\r\\n                            <ion-icon name=\\\"fas-pen\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                        </ion-thumbnail>\\r\\n                        <ion-label>\\r\\n                            <h2 class=\\\"ion-text-wrap\\\">{{ 'core.login.yourenteredsite' | translate }}</h2>\\r\\n                            <p>{{enteredSiteUrl.noProtocolUrl}}</p>\\r\\n                        </ion-label>\\r\\n                    </ion-item>\\r\\n\\r\\n                    <div class=\\\"core-login-site-list-found\\\" [class.hidden]=\\\"!hasSites\\\" [class.dimmed]=\\\"loadingSites\\\">\\r\\n                        <div *ngIf=\\\"loadingSites\\\" class=\\\"core-login-site-list-loading\\\">\\r\\n                            <ion-spinner [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\r\\n                        </div>\\r\\n                        <ng-container *ngFor=\\\"let site of sites\\\">\\r\\n                            <ng-container *ngTemplateOutlet=\\\"sitelisting; context: {site: site}\\\"></ng-container>\\r\\n                        </ng-container>\\r\\n                    </div>\\r\\n                </ion-list>\\r\\n\\r\\n                <div *ngIf=\\\"!hasSites && loadingSites\\\" class=\\\"core-login-site-nolist-loading\\\">\\r\\n                    <ion-spinner [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\r\\n                </div>\\r\\n            </ng-container>\\r\\n\\r\\n            <ion-item *ngIf=\\\"siteSelector == 'url'\\\">\\r\\n                <ion-label>\\r\\n                    <ion-button expand=\\\"block\\\" [disabled]=\\\"!siteForm.valid\\\" class=\\\"ion-text-wrap\\\" type=\\\"submit\\\">\\r\\n                        {{ 'core.login.connect' | translate }}\\r\\n                    </ion-button>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </form>\\r\\n\\r\\n        <ng-container *ngIf=\\\"fixedSites\\\">\\r\\n            <!-- Pick the site from a list of fixed sites. -->\\r\\n            <ion-list *ngIf=\\\"siteSelector == 'list'\\\">\\r\\n                <ion-item>\\r\\n                    <ion-label>\\r\\n                        <h2 class=\\\"item-heading\\\">{{ 'core.login.selectsite' | translate }}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-searchbar *ngIf=\\\"fixedSites.length > 4\\\" [(ngModel)]=\\\"filter\\\" (ionInput)=\\\"filterChanged($event)\\\"\\r\\n                    (ionCancel)=\\\"filterChanged()\\\" [placeholder]=\\\"'core.login.findyoursite' | translate\\\">\\r\\n                </ion-searchbar>\\r\\n                <ng-container *ngFor=\\\"let site of filteredSites\\\">\\r\\n                    <ng-container *ngTemplateOutlet=\\\"sitelisting; context: {site: site}\\\"></ng-container>\\r\\n                </ng-container>\\r\\n            </ion-list>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container *ngIf=\\\"showScanQR && !hasSites && !enteredSiteUrl\\\">\\r\\n            <div class=\\\"ion-text-center ion-padding ion-margin-top core-login-site-qrcode-separator\\\">{{ 'core.login.or' | translate }}\\r\\n            </div>\\r\\n            <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" class=\\\"ion-margin core-login-site-qrcode\\\" (click)=\\\"showInstructionsAndScanQR()\\\"\\r\\n                aria-haspopup=\\\"dialog\\\">\\r\\n                <ion-icon slot=\\\"start\\\" name=\\\"fas-qrcode\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                {{ 'core.scanqr' | translate }}\\r\\n            </ion-button>\\r\\n        </ng-container>\\r\\n\\r\\n        <!-- Help. -->\\r\\n        <ion-button class=\\\"ion-margin-top core-login-need-help core-button-as-link ion-text-wrap\\\" (click)=\\\"showHelp()\\\"\\r\\n            aria-haspopup=\\\"dialog\\\" expand=\\\"block\\\" fill=\\\"clear\\\">\\r\\n            {{ 'core.needhelp' | translate }}\\r\\n        </ion-button>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\\r\\n<!-- Template site selector. -->\\r\\n<ng-template #sitelisting let-site=\\\"site\\\">\\r\\n    <ion-item button (click)=\\\"connect($event, site.url, site)\\\" [ngClass]=\\\"site.className\\\" [attr.aria-label]=\\\"site.name\\\" detail=\\\"true\\\">\\r\\n        <ion-thumbnail *ngIf=\\\"siteFinderSettings.displayimage\\\" slot=\\\"start\\\">\\r\\n            <img [src]=\\\"site.imageurl\\\" *ngIf=\\\"site.imageurl\\\" onError=\\\"this.src='assets/icon/icon.png'\\\" alt=\\\"\\\" role=\\\"presentation\\\">\\r\\n            <img src=\\\"assets/icon/icon.png\\\" *ngIf=\\\"!site.imageurl\\\" class=\\\"core-login-default-icon\\\" alt=\\\"\\\" role=\\\"presentation\\\">\\r\\n        </ion-thumbnail>\\r\\n        <ion-label>\\r\\n            <p *ngIf=\\\"site.title\\\" class=\\\"item-heading ion-text-wrap\\\">{{site.title}}</p>\\r\\n            <p *ngIf=\\\"site.noProtocolUrl\\\">{{site.noProtocolUrl}}</p>\\r\\n            <p *ngIf=\\\"site.location\\\">{{site.location}}</p>\\r\\n        </ion-label>\\r\\n    </ion-item>\\r\\n</ng-template>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n        <ion-title>\\r\\n            <h1>{{ 'core.login.accounts' | translate }}</h1>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" *ngIf=\\\"accountsList.count > 0\\\" (click)=\\\"toggleDelete()\\\"\\r\\n                [attr.aria-label]=\\\"'core.login.toggleremove' | translate\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"fas-pen\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n            <ion-button (click)=\\\"openSettings()\\\" [attr.aria-label]=\\\"'core.settings.appsettings' | translate\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"fas-gear\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"limited-width\\\">\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <ion-list class=\\\"core-sitelist\\\">\\r\\n            <ion-card *ngFor=\\\"let sites of accountsList.otherSites\\\">\\r\\n                <ion-item-divider sticky=\\\"true\\\" *ngIf=\\\"sites[0]\\\" class=\\\"core-sitelist-sitename\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>\\r\\n                            <core-format-text [text]=\\\"sites[0].siteName\\\" clean=\\\"true\\\" [siteId]=\\\"sites[0].id\\\"></core-format-text>\\r\\n                        </h2>\\r\\n                        <p><a [href]=\\\"sites[0].siteUrl\\\" core-link autoLogin=\\\"no\\\">{{ sites[0].siteUrlWithoutProtocol }}</a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n\\r\\n                <ion-item button *ngFor=\\\"let site of sites\\\" (click)=\\\"login($event, site.id)\\\" detail=\\\"true\\\">\\r\\n                    <core-user-avatar [user]=\\\"site\\\" slot=\\\"start\\\" [linkProfile]=\\\"false\\\" [siteId]=\\\"site.id\\\"></core-user-avatar>\\r\\n\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{site.fullname}}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge slot=\\\"end\\\" *ngIf=\\\"!showDelete && site.badge\\\" @coreShowHideAnimation>\\r\\n                        <span aria-hidden=\\\"true\\\">{{site.badge}}</span>\\r\\n                        <span class=\\\"sr-only\\\">{{ 'core.login.sitebadgedescription' | translate:{ count: site.badge }\\r\\n                            }}</span>\\r\\n                    </ion-badge>\\r\\n                    <ion-button *ngIf=\\\"showDelete\\\" slot=\\\"end\\\" fill=\\\"clear\\\" color=\\\"danger\\\" (click)=\\\"deleteSite($event, site)\\\"\\r\\n                        [attr.aria-label]=\\\"'core.login.removeaccount' | translate\\\" [@coreSlideInOut]=\\\"'fromRight'\\\">\\r\\n                        <ion-icon name=\\\"fas-trash\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                    </ion-button>\\r\\n                </ion-item>\\r\\n            </ion-card>\\r\\n        </ion-list>\\r\\n    </core-loading>\\r\\n    <ion-fab slot=\\\"fixed\\\" core-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\">\\r\\n        <ion-fab-button (click)=\\\"add()\\\" [attr.aria-label]=\\\"'core.login.add' | translate\\\">\\r\\n            <ion-icon name=\\\"fas-plus\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            <span class=\\\"sr-only\\\">{{ 'core.login.add' | translate }}</span>\\r\\n        </ion-fab-button>\\r\\n    </ion-fab>\\r\\n</ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Injectable } from '@angular/core';\nimport { CanActivate, CanLoad, UrlTree } from '@angular/router';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { Router } from '@singletons';\n\nimport { CoreLoginHelper } from '../services/login-helper';\n\n@Injectable({ providedIn: 'root' })\nexport class CoreLoginHasSitesGuard implements CanActivate, CanLoad {\n\n    /**\n     * @inheritdoc\n     */\n    canActivate(): Promise<true | UrlTree> {\n        return this.guard();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    canLoad(): Promise<true | UrlTree> {\n        return this.guard();\n    }\n\n    /**\n     * Check if the user has any sites stored.\n     *\n     * @returns Promise resolved with true if it's not redirected or the redirection route.\n     */\n    private async guard(): Promise<true | UrlTree> {\n        const sites = await CoreUtils.ignoreErrors(CoreSites.getSites(), []);\n\n        if (sites.length > 0) {\n            return true;\n        }\n\n        const [path, params] = await CoreLoginHelper.getAddSiteRouteInfo();\n        const route = Router.parseUrl(path);\n\n        route.queryParams = params;\n\n        return route;\n    }\n\n}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CoreSharedModule } from '@/core/shared.module';\nimport { CoreLoginHasSitesGuard } from './guards/has-sites';\nimport { CoreLoginComponentsModule } from './components/components.module';\nimport { CoreLoginHelper } from './services/login-helper';\nimport { CoreLoginForgottenPasswordPage } from '@features/login/pages/forgotten-password/forgotten-password';\nimport { CoreLoginSitePolicyPage } from '@features/login/pages/site-policy/site-policy';\nimport { CoreUserComponentsModule } from '@features/user/components/components.module';\nimport { CoreLoginEmailSignupPage } from '@features/login/pages/email-signup/email-signup';\nimport { CoreLoginSitePage } from '@features/login/pages/site/site';\nimport { CoreLoginSitesPage } from '@features/login/pages/sites/sites';\nimport { CoreLoginChangePasswordPage } from '@features/login/pages/change-password/change-password';\n\nconst routes: Routes = [\n    {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'sites',\n    },\n    {\n        path: 'site',\n        component: CoreLoginSitePage,\n    },\n    {\n        path: 'credentials',\n        loadChildren: () => CoreLoginHelper.getCredentialsRouteModule(),\n    },\n    {\n        path: 'sites',\n        component: CoreLoginSitesPage,\n        canLoad: [CoreLoginHasSitesGuard],\n        canActivate: [CoreLoginHasSitesGuard],\n    },\n    {\n        path: 'forgottenpassword',\n        component: CoreLoginForgottenPasswordPage,\n    },\n    {\n        path: 'changepassword',\n        component: CoreLoginChangePasswordPage,\n    },\n    {\n        path: 'sitepolicy',\n        component: CoreLoginSitePolicyPage,\n    },\n    {\n        path: 'emailsignup',\n        component: CoreLoginEmailSignupPage,\n    },\n    {\n        path: 'reconnect',\n        loadChildren: () => CoreLoginHelper.getReconnectRouteModule(),\n    },\n];\n\n@NgModule({\n    imports: [\n        CoreSharedModule,\n        CoreLoginComponentsModule,\n        CoreUserComponentsModule,\n        RouterModule.forChild(routes),\n    ],\n    declarations: [\n        CoreLoginForgottenPasswordPage,\n        CoreLoginSitePolicyPage,\n        CoreLoginSitePage,\n        CoreLoginSitesPage,\n        CoreLoginChangePasswordPage,\n        CoreLoginEmailSignupPage,\n    ],\n})\nexport class CoreLoginLazyModule {}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy } from '@angular/core';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreLoginHelper } from '@features/login/services/login-helper';\nimport { Translate } from '@singletons';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreUserSupport } from '@features/user/services/support';\n\n/**\n * Page that shows instructions to change the password.\n */\n@Component({\n    selector: 'page-core-login-change-password',\n    templateUrl: 'change-password.html',\n})\nexport class CoreLoginChangePasswordPage implements OnDestroy {\n\n    changingPassword = false;\n    logoutLabel: string;\n\n    protected urlLoadedObserver?: CoreEventObserver;\n    protected messageObserver?: CoreEventObserver;\n    protected browserClosedObserver?: CoreEventObserver;\n\n    constructor() {\n        this.logoutLabel = CoreLoginHelper.getLogoutLabel();\n    }\n\n    /**\n     * Show help modal.\n     */\n    showHelp(): void {\n        CoreUserSupport.showHelp(\n            Translate.instant('core.login.changepasswordhelp'),\n            Translate.instant('core.login.changepasswordsupportsubject'),\n        );\n    }\n\n    /**\n     * Open the change password page in a browser.\n     */\n    openChangePasswordPage(): void {\n        CoreLoginHelper.openInAppForEdit(\n            CoreSites.getCurrentSiteId(),\n            '/login/change_password.php',\n            undefined,\n            true,\n        );\n        this.changingPassword = true;\n        this.detectPasswordChanged();\n    }\n\n    /**\n     * Login the user.\n     */\n    login(): void {\n        CoreNavigator.navigateToSiteHome();\n        this.changingPassword = false;\n    }\n\n    /**\n     * Logout the user.\n     */\n    logout(): void {\n        CoreSites.logout();\n        this.changingPassword = false;\n    }\n\n    /**\n     * Try to detect if the user changed password in browser.\n     */\n    detectPasswordChanged(): void {\n        if (this.urlLoadedObserver) {\n            // Already listening (shouldn't happen).\n            return;\n        }\n\n        this.urlLoadedObserver = CoreEvents.on(CoreEvents.IAB_LOAD_STOP, (event) => {\n            if (event.url.match(/\\/login\\/change_password\\.php.*return=1/)) {\n                // Password has changed, close the IAB now.\n                CoreUtils.closeInAppBrowser();\n                this.login();\n\n                return;\n            }\n\n            if (!event.url.match(/\\/login\\/change_password\\.php/)) {\n                return;\n            }\n\n            // Use a script to check if the user changed the password, in some platforms we cannot tell using the URL.\n            CoreUtils.getInAppBrowserInstance()?.executeScript({\n                code: `\n                    if (\n                        document.querySelector('input[type=\"password\"]') === null &&\n                        document.querySelector('button[type=\"submit\"]') !== null\n                    ) {\n                        webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({ passwordChanged: true }));\n                    }\n                `,\n            });\n        });\n\n        this.messageObserver = CoreEvents.on(CoreEvents.IAB_MESSAGE, (data) => {\n            if (data.passwordChanged) {\n                CoreUtils.closeInAppBrowser();\n                this.login();\n            }\n        });\n\n        this.browserClosedObserver = CoreEvents.on(CoreEvents.IAB_EXIT, () => {\n            this.urlLoadedObserver?.off();\n            this.messageObserver?.off();\n            this.browserClosedObserver?.off();\n\n            delete this.urlLoadedObserver;\n            delete this.messageObserver;\n            delete this.browserClosedObserver;\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.urlLoadedObserver?.off();\n        this.messageObserver?.off();\n        this.browserClosedObserver?.off();\n    }\n\n}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ViewChild, ElementRef, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { CoreCountry, CoreUtils } from '@services/utils/utils';\nimport { CoreWS, CoreWSExternalWarning } from '@services/ws';\nimport { Translate } from '@singletons';\nimport { CoreSitePublicConfigResponse } from '@classes/site';\nimport { CoreUserProfileFieldDelegate } from '@features/user/services/user-profile-field-delegate';\n\nimport {\n    AuthEmailSignupProfileFieldsCategory,\n    AuthEmailSignupSettings,\n    CoreLoginHelper,\n} from '@features/login/services/login-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreForms } from '@singletons/form';\nimport { CoreRecaptchaComponent } from '@components/recaptcha/recaptcha';\nimport { CorePath } from '@singletons/path';\nimport { CoreDom } from '@singletons/dom';\n\n/**\n * Page to signup using email.\n */\n@Component({\n    selector: 'page-core-login-email-signup',\n    templateUrl: 'email-signup.html',\n    styleUrls: ['../../login.scss'],\n})\nexport class CoreLoginEmailSignupPage implements OnInit {\n\n    @ViewChild(CoreRecaptchaComponent) recaptchaComponent?: CoreRecaptchaComponent;\n    @ViewChild('ageForm') ageFormElement?: ElementRef;\n    @ViewChild('signupFormEl') signupFormElement?: ElementRef;\n\n    signupForm: FormGroup;\n    siteUrl!: string;\n    siteConfig?: CoreSitePublicConfigResponse;\n    siteName?: string;\n    authInstructions = '';\n    settings?: AuthEmailSignupSettings;\n    countries?: CoreCountry[];\n    categories?: AuthEmailSignupProfileFieldsCategory[];\n    settingsLoaded = false;\n    allRequiredSupported = true;\n    signupUrl?: string;\n    captcha = {\n        recaptcharesponse: '',\n    };\n\n    // Data for age verification.\n    ageVerificationForm: FormGroup;\n    countryControl: FormControl;\n    signUpCountryControl?: FormControl;\n    isMinor = false; // Whether the user is minor age.\n    ageDigitalConsentVerification?: boolean; // Whether the age verification is enabled.\n    supportName?: string;\n    supportEmail?: string;\n\n    // Validation errors.\n    usernameErrors: Record<string, string>;\n    passwordErrors: Record<string, string>;\n    emailErrors: Record<string, string>;\n    email2Errors: Record<string, string>;\n    policyErrors: Record<string, string>;\n    namefieldsErrors?: Record<string, Record<string, string>>;\n\n    constructor(\n        protected fb: FormBuilder,\n        protected elementRef: ElementRef,\n        protected changeDetector: ChangeDetectorRef,\n    ) {\n        // Create the ageVerificationForm.\n        this.ageVerificationForm = this.fb.group({\n            age: ['', Validators.required],\n        });\n        this.countryControl = this.fb.control('', Validators.required);\n        this.ageVerificationForm.addControl('country', this.countryControl);\n\n        // Create the signupForm with the basic controls. More controls will be added later.\n        this.signupForm = this.fb.group({\n            username: ['', Validators.required],\n            password: ['', Validators.required],\n            email: ['', Validators.compose([Validators.required, Validators.email])],\n            email2: ['', Validators.compose([Validators.required, Validators.email])],\n        });\n\n        // Setup validation errors.\n        this.usernameErrors = CoreLoginHelper.getErrorMessages('core.login.usernamerequired');\n        this.passwordErrors = CoreLoginHelper.getErrorMessages('core.login.passwordrequired');\n        this.emailErrors = CoreLoginHelper.getErrorMessages('core.login.missingemail');\n        this.policyErrors = CoreLoginHelper.getErrorMessages('core.login.policyagree');\n        this.email2Errors = CoreLoginHelper.getErrorMessages(\n            'core.login.missingemail',\n            undefined,\n            'core.login.emailnotmatch',\n        );\n    }\n\n    /**\n     * Component initialized.\n     */\n    ngOnInit(): void {\n        const siteUrl = CoreNavigator.getRouteParam<string>('siteUrl');\n        if (!siteUrl) {\n            CoreDomUtils.showErrorModal('Site URL not supplied.');\n            CoreNavigator.back();\n\n            return;\n        }\n\n        this.siteUrl = siteUrl;\n\n        // Fetch the data.\n        this.fetchData().finally(() => {\n            this.settingsLoaded = true;\n        });\n    }\n\n    /**\n     * Complete the FormGroup using the settings received from server.\n     */\n    protected completeFormGroup(): void {\n        this.signupForm.addControl('city', this.fb.control(this.settings?.defaultcity || ''));\n        this.signUpCountryControl = this.fb.control(this.settings?.country || '');\n        this.signupForm.addControl('country', this.signUpCountryControl);\n\n        // Add the name fields.\n        for (const i in this.settings?.namefields) {\n            this.signupForm.addControl(this.settings?.namefields[i], this.fb.control('', Validators.required));\n        }\n\n        if (this.settings?.sitepolicy) {\n            this.signupForm.addControl('policyagreed', this.fb.control(false, Validators.requiredTrue));\n        }\n    }\n\n    /**\n     * Fetch the required data from the server.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async fetchData(): Promise<void> {\n        try {\n            // Get site config.\n            this.siteConfig = await CoreSites.getSitePublicConfig(this.siteUrl);\n            this.signupUrl = CorePath.concatenatePaths(this.siteConfig.httpswwwroot, 'login/signup.php');\n\n            if (this.treatSiteConfig()) {\n                // Check content verification.\n                if (this.ageDigitalConsentVerification === undefined) {\n\n                    const result = await CoreUtils.ignoreErrors(\n                        CoreWS.callAjax<IsAgeVerificationEnabledWSResponse>(\n                            'core_auth_is_age_digital_consent_verification_enabled',\n                            {},\n                            { siteUrl: this.siteUrl },\n                        ),\n                    );\n\n                    this.ageDigitalConsentVerification = !!result?.status;\n                }\n\n                await this.getSignupSettings();\n            }\n\n            this.completeFormGroup();\n        } catch (error) {\n            if (this.allRequiredSupported) {\n                CoreDomUtils.showErrorModal(error);\n            }\n        }\n    }\n\n    /**\n     * Get signup settings from server.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async getSignupSettings(): Promise<void> {\n        this.settings = await CoreWS.callAjax<AuthEmailSignupSettings>(\n            'auth_email_get_signup_settings',\n            {},\n            { siteUrl: this.siteUrl },\n        );\n\n        if (CoreUserProfileFieldDelegate.hasRequiredUnsupportedField(this.settings.profilefields)) {\n            this.allRequiredSupported = false;\n\n            throw new Error(Translate.instant('core.login.signuprequiredfieldnotsupported'));\n        }\n\n        this.categories = CoreLoginHelper.formatProfileFieldsForSignup(this.settings.profilefields);\n\n        if (this.settings.recaptchapublickey) {\n            this.captcha.recaptcharesponse = ''; // Reset captcha.\n        }\n\n        if (!this.countryControl.value) {\n            this.countryControl.setValue(this.settings.country || '');\n        }\n\n        const namefieldsErrors = {};\n        if (this.settings.namefields) {\n            this.settings.namefields.forEach((field) => {\n                namefieldsErrors[field] = CoreLoginHelper.getErrorMessages('core.login.missing' + field);\n            });\n        }\n        this.namefieldsErrors = namefieldsErrors;\n\n        this.countries = await CoreUtils.getCountryListSorted();\n    }\n\n    /**\n     * Treat the site config, checking if it's valid and extracting the data we're interested in.\n     *\n     * @returns True if success.\n     */\n    protected treatSiteConfig(): boolean {\n        if (this.siteConfig?.registerauth == 'email' && !CoreLoginHelper.isEmailSignupDisabled(this.siteConfig)) {\n            this.siteName = this.siteConfig.sitename;\n            this.authInstructions = this.siteConfig.authinstructions;\n            this.ageDigitalConsentVerification = this.siteConfig.agedigitalconsentverification;\n            this.supportName = this.siteConfig.supportname;\n            this.supportEmail = this.siteConfig.supportemail;\n            this.countryControl.setValue(this.siteConfig.country || '');\n\n            return true;\n        } else {\n            CoreDomUtils.showErrorModal(\n                Translate.instant(\n                    'core.login.signupplugindisabled',\n                    { $a: Translate.instant('core.login.auth_email') },\n                ),\n            );\n            CoreNavigator.back();\n\n            return false;\n        }\n    }\n\n    /**\n     * Create account.\n     *\n     * @param e Event.\n     * @returns Promise resolved when done.\n     */\n    async create(e: Event): Promise<void> {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!this.signupForm.valid || (this.settings?.recaptchapublickey && !this.captcha.recaptcharesponse)) {\n            // Form not valid. Mark all controls as dirty to display errors.\n            for (const name in this.signupForm.controls) {\n                this.signupForm.controls[name].markAsDirty();\n            }\n            this.changeDetector.detectChanges();\n\n            // Scroll to the first element with errors.\n            const errorFound = await CoreDom.scrollToInputError(\n                this.elementRef.nativeElement,\n            );\n\n            if (!errorFound) {\n                // Input not found, show an error modal.\n                CoreDomUtils.showErrorModal('core.errorinvalidform', true);\n            }\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        const params: SignupUserWSParams = {\n            username: this.signupForm.value.username.trim().toLowerCase(),\n            password: this.signupForm.value.password,\n            firstname: CoreTextUtils.cleanTags(this.signupForm.value.firstname),\n            lastname: CoreTextUtils.cleanTags(this.signupForm.value.lastname),\n            email: this.signupForm.value.email.trim(),\n            city: CoreTextUtils.cleanTags(this.signupForm.value.city),\n            country: this.signupForm.value.country,\n        };\n\n        if (this.siteConfig?.launchurl) {\n            params.redirect = CoreLoginHelper.prepareForSSOLogin(this.siteUrl, undefined, this.siteConfig.launchurl);\n        }\n\n        // Get the recaptcha response (if needed).\n        if (this.settings?.recaptchapublickey && this.captcha.recaptcharesponse) {\n            params.recaptcharesponse = this.captcha.recaptcharesponse;\n        }\n\n        try {\n            // Get the data for the custom profile fields.\n            params.customprofilefields = await CoreUserProfileFieldDelegate.getDataForFields(\n                this.settings?.profilefields,\n                true,\n                'email',\n                this.signupForm.value,\n            );\n\n            const result = await CoreWS.callAjax<SignupUserWSResult>(\n                'auth_email_signup_user',\n                params,\n                { siteUrl: this.siteUrl },\n            );\n\n            if (result.success) {\n\n                CoreForms.triggerFormSubmittedEvent(this.signupFormElement, true);\n\n                // Show alert and ho back.\n                const message = Translate.instant('core.login.emailconfirmsent', { $a: params.email });\n                CoreDomUtils.showAlert(Translate.instant('core.success'), message);\n                CoreNavigator.back();\n            } else {\n                this.recaptchaComponent?.expireRecaptchaAnswer();\n\n                const warning = result.warnings?.[0];\n                if (warning) {\n                    let error = warning.message;\n                    if (error == 'incorrect-captcha-sol' || (!error && warning.item == 'recaptcharesponse')) {\n                        error = Translate.instant('core.login.recaptchaincorrect');\n                    }\n\n                    CoreDomUtils.showErrorModal(error);\n                } else {\n                    CoreDomUtils.showErrorModal('core.login.usernotaddederror', true);\n                }\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'core.login.usernotaddederror', true);\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Escape mail to avoid special characters to be treated as a RegExp.\n     *\n     * @param text Initial mail.\n     * @returns Escaped mail.\n     */\n    escapeMail(text: string): string {\n        return CoreTextUtils.escapeForRegex(text);\n    }\n\n    /**\n     * Show authentication instructions.\n     */\n    showAuthInstructions(): void {\n        CoreTextUtils.viewText(Translate.instant('core.login.instructions'), this.authInstructions);\n    }\n\n    /**\n     * Show contact information on site (we have to display again the age verification form).\n     */\n    showContactOnSite(): void {\n        CoreUtils.openInBrowser(\n            CorePath.concatenatePaths(this.siteUrl, '/login/verify_age_location.php'),\n            { showBrowserWarning: false },\n        );\n    }\n\n    /**\n     * Verify Age.\n     *\n     * @param e Event.\n     * @returns Promise resolved when done.\n     */\n    async verifyAge(e: Event): Promise<void> {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!this.ageVerificationForm.valid) {\n            CoreDomUtils.showErrorModal('core.errorinvalidform', true);\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        const params = this.ageVerificationForm.value;\n\n        params.age = parseInt(params.age, 10); // Use just the integer part.\n\n        try {\n            const result = await CoreWS.callAjax<IsMinorWSResult>('core_auth_is_minor', params, { siteUrl: this.siteUrl });\n\n            CoreForms.triggerFormSubmittedEvent(this.ageFormElement, true);\n\n            if (!result.status) {\n                if (this.countryControl.value) {\n                    this.signUpCountryControl?.setValue(this.countryControl.value);\n                }\n\n                // Not a minor, go ahead.\n                this.ageDigitalConsentVerification = false;\n            } else {\n                // Is a minor.\n                this.isMinor = true;\n            }\n        } catch {\n            // Something wrong, redirect to the site.\n            CoreDomUtils.showErrorModal('There was an error verifying your age, please try again using the browser.');\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n}\n\n/**\n * Result of WS core_auth_is_age_digital_consent_verification_enabled.\n */\ntype IsAgeVerificationEnabledWSResponse = {\n    status: boolean; // True if digital consent verification is enabled, false otherwise.\n};\n\n/**\n * Params for WS auth_email_signup_user.\n */\ntype SignupUserWSParams = {\n    username: string; // Username.\n    password: string; // Plain text password.\n    firstname: string; // The first name(s) of the user.\n    lastname: string; // The family name of the user.\n    email: string; // A valid and unique email address.\n    city?: string; // Home city of the user.\n    country?: string; // Home country code.\n    recaptchachallengehash?: string; // Recaptcha challenge hash.\n    recaptcharesponse?: string; // Recaptcha response.\n    customprofilefields?: { // User custom fields (also known as user profile fields).\n        type: string; // The type of the custom field.\n        name: string; // The name of the custom field.\n        value: unknown; // Custom field value, can be an encoded json if required.\n    }[];\n    redirect?: string; // Redirect the user to this site url after confirmation.\n};\n\n/**\n * Result of WS auth_email_signup_user.\n */\ntype SignupUserWSResult = {\n    success: boolean; // True if the user was created false otherwise.\n    warnings?: CoreWSExternalWarning[];\n};\n\n/**\n * Result of WS core_auth_is_minor.\n */\ntype IsMinorWSResult = {\n    status: boolean; // True if the user is considered to be a digital minor, false if not.\n};\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ViewChild, ElementRef, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreLoginHelper } from '@features/login/services/login-helper';\nimport { Translate } from '@singletons';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreForms } from '@singletons/form';\nimport { CorePlatform } from '@services/platform';\nimport { CoreSitePublicConfigResponse } from '@classes/site';\nimport { CoreUserSupportConfig } from '@features/user/classes/support/support-config';\nimport { CoreUserGuestSupportConfig } from '@features/user/classes/support/guest-support-config';\n\n/**\n * Page to recover a forgotten password.\n */\n@Component({\n    selector: 'page-core-login-forgotten-password',\n    templateUrl: 'forgotten-password.html',\n})\nexport class CoreLoginForgottenPasswordPage implements OnInit {\n\n    @ViewChild('resetPasswordForm') formElement?: ElementRef;\n\n    myForm!: FormGroup;\n    siteUrl!: string;\n    autoFocus!: boolean;\n    supportConfig?: CoreUserSupportConfig;\n    canContactSupport?: boolean;\n    wasPasswordResetRequestedRecently = false;\n\n    constructor(protected formBuilder: FormBuilder) {}\n\n    /**\n     * Initialize the component.\n     */\n    async ngOnInit(): Promise<void> {\n        const siteUrl = CoreNavigator.getRouteParam<string>('siteUrl');\n        if (!siteUrl) {\n            CoreDomUtils.showErrorModal('Site URL not supplied.');\n            CoreNavigator.back();\n\n            return;\n        }\n\n        const siteConfig = CoreNavigator.getRouteParam<CoreSitePublicConfigResponse>('siteConfig');\n\n        this.siteUrl = siteUrl;\n        this.autoFocus = CorePlatform.is('tablet');\n        this.myForm = this.formBuilder.group({\n            field: ['username', Validators.required],\n            value: [CoreNavigator.getRouteParam<string>('username') || '', Validators.required],\n        });\n\n        this.supportConfig = siteConfig && new CoreUserGuestSupportConfig(siteConfig);\n        this.canContactSupport = this.supportConfig?.canContactSupport();\n        this.wasPasswordResetRequestedRecently = await CoreLoginHelper.wasPasswordResetRequestedRecently(siteUrl);\n    }\n\n    /**\n     * Request to reset the password.\n     *\n     * @param e Event.\n     */\n    async resetPassword(e: Event): Promise<void> {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const field = this.myForm.value.field;\n        const value = this.myForm.value.value;\n\n        if (!value) {\n            CoreDomUtils.showErrorModal('core.login.usernameoremail', true);\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n        const isMail = field === 'email';\n\n        try {\n            const response = await CoreLoginHelper.requestPasswordReset(\n                this.siteUrl,\n                isMail ? '' : value,\n                isMail ? value : '',\n            );\n\n            if (response.status === 'dataerror') {\n                // Show an error from the warnings.\n                const warning = response.warnings?.find((warning) =>\n                    (warning.item === 'email' && isMail) || (warning.item === 'username' && !isMail));\n                if (warning) {\n                    CoreDomUtils.showErrorModal(warning.message);\n                }\n            } else if (response.status === 'emailpasswordconfirmnotsent' || response.status === 'emailpasswordconfirmnoemail') {\n                // Error, not found.\n                CoreDomUtils.showErrorModal(response.notice);\n            } else {\n                // Success.\n                CoreForms.triggerFormSubmittedEvent(this.formElement, true);\n\n                await CoreDomUtils.showAlert(Translate.instant('core.success'), response.notice);\n                await CoreNavigator.back();\n                await CoreLoginHelper.passwordResetRequested(this.siteUrl);\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n}\n","export default \":host ion-list {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n:host ion-list ion-item {\\n  flex-shrink: 0;\\n}\\n:host ion-list .core-site-policy-iframe-container {\\n  height: 100%;\\n}\\n:host ion-list .core-site-policy-iframe-container core-iframe {\\n  height: 100%;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb3JlL2ZlYXR1cmVzL2xvZ2luL3BhZ2VzL3NpdGUtcG9saWN5L3NpdGUtcG9saWN5LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0FBQVI7QUFFUTtFQUNJLGNBQUE7QUFBWjtBQUdRO0VBQ0ksWUFBQTtBQURaO0FBR1k7RUFDSSxZQUFBO0VBQ0EsV0FBQTtBQURoQiIsImZpbGUiOiJzcmMvY29yZS9mZWF0dXJlcy9sb2dpbi9wYWdlcy9zaXRlLXBvbGljeS9zaXRlLXBvbGljeS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgaW9uLWxpc3Qge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gICAgICAgIGlvbi1pdGVtIHtcclxuICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuY29yZS1zaXRlLXBvbGljeS1pZnJhbWUtY29udGFpbmVyIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG5cclxuICAgICAgICAgICAgY29yZS1pZnJhbWUge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19 */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit } from '@angular/core';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreMimetypeUtils } from '@services/utils/mimetype';\nimport { CoreLoginHelper } from '@features/login/services/login-helper';\nimport { CoreSite } from '@classes/site';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { Translate } from '@singletons';\n\n/**\n * Page to accept a site policy.\n */\n@Component({\n    selector: 'page-core-login-site-policy',\n    templateUrl: 'site-policy.html',\n    styleUrls: ['site-policy.scss'],\n})\nexport class CoreLoginSitePolicyPage implements OnInit {\n\n    sitePolicy?: string;\n    showInline?: boolean;\n    policyLoaded?: boolean;\n    protected siteId?: string;\n    protected currentSite!: CoreSite;\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        this.siteId = CoreNavigator.getRouteParam('siteId');\n\n        try {\n            this.currentSite = CoreSites.getRequiredCurrentSite();\n        } catch {\n            // Not logged in, stop.\n            this.cancel();\n\n            return;\n        }\n\n        const currentSiteId = this.currentSite.id;\n        this.siteId = this.siteId || currentSiteId;\n\n        if (this.siteId != currentSiteId) {\n            // Not current site, stop.\n            this.cancel();\n\n            return;\n        }\n\n        this.fetchSitePolicy();\n    }\n\n    /**\n     * Fetch the site policy URL.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async fetchSitePolicy(): Promise<void> {\n        try {\n            this.sitePolicy = await CoreLoginHelper.getSitePolicy(this.siteId);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting site policy.');\n            this.cancel();\n\n            return;\n        }\n\n        // Try to get the mime type.\n        try {\n            const mimeType = await CoreUtils.getMimeTypeFromUrl(this.sitePolicy);\n\n            const extension = CoreMimetypeUtils.getExtension(mimeType, this.sitePolicy);\n            this.showInline = extension == 'html' || extension == 'htm';\n        } catch {\n            // Unable to get mime type, assume it's not supported.\n            this.showInline = false;\n        } finally {\n            this.policyLoaded = true;\n        }\n\n        CoreAnalytics.logEvent({\n            type: CoreAnalyticsEventType.VIEW_ITEM,\n            ws: 'auth_email_get_signup_settings',\n            name: Translate.instant('core.login.policyagreement'),\n            data: { category: 'policy' },\n            url: '/user/policy.php',\n        });\n    }\n\n    /**\n     * Cancel.\n     *\n     * @returns Promise resolved when done.\n     */\n    async cancel(): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreSites.logout());\n\n        await CoreNavigator.navigate('/login/sites', { reset: true });\n    }\n\n    /**\n     * Accept the site policy.\n     *\n     * @returns Promise resolved when done.\n     */\n    async accept(): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            await CoreLoginHelper.acceptSitePolicy(this.siteId);\n\n            // Success accepting, go to site initial page.\n            // Invalidate cache since some WS don't return error if site policy is not accepted.\n            await CoreUtils.ignoreErrors(this.currentSite.invalidateWsCache());\n\n            CoreEvents.trigger(CoreEvents.SITE_POLICY_AGREED, {}, this.siteId);\n\n            await CoreNavigator.navigateToSiteHome();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error accepting site policy.');\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n}\n","export default \"/**\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here the different files you should import to use global variables.\\n */\\n/**\\n * Imported ionic string functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.string.scss\\n */\\n/**\\n * Imported ionic color functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.color.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.mixins.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS from different components\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/grid/grid.mixins.scss\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/item/item.mixins.scss\\n */\\n/**\\n * App custom mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Place here our custom mixins.\\n */\\n/**\\n * Same as item-push-svg-url but admits flip-rtl\\n */\\n/*\\n * App Custom App variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all custom app variables.\\n */\\n/*\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all global variables.\\n */\\n/**\\n * Layout Breakpoints\\n *\\n * https://ionicframework.com/docs/layout/grid#default-breakpoints\\n */\\n:host {\\n  --list-item-max-width: 600px;\\n}\\n.item-input:last-child {\\n  margin-bottom: 20px;\\n}\\n.core-login-site-connect {\\n  margin-top: 1.4rem;\\n}\\n.item ion-thumbnail {\\n  min-width: 50px;\\n  min-height: 50px;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 20%;\\n  box-shadow: 0 0 4px var(--gray-200);\\n  text-align: center;\\n  overflow: hidden;\\n}\\n.item ion-thumbnail img {\\n  max-height: 50px;\\n  max-width: -webkit-fit-content;\\n  max-width: fit-content;\\n  width: auto;\\n  height: auto;\\n  margin: 0 auto;\\n  margin-left: 50%;\\n  transform: translate3d(-50%,  0,  0);\\n  object-fit: cover;\\n  object-position: 50% 50%;\\n}\\n[dir=rtl] .item ion-thumbnail img, :host-context([dir=rtl]) .item ion-thumbnail img {\\n  transform: translate3d(calc(-1 * -50%),  0,  0);\\n}\\n.item ion-thumbnail ion-icon {\\n  margin: 0 auto;\\n  font-size: 35px;\\n  height: 50px;\\n}\\n:host-context([dir=rtl]) .item ion-thumbnail img {\\n  margin-left: 0;\\n  margin-right: 50%;\\n}\\n.core-login-site-logo,\\n.core-login-site-list,\\n.core-login-site-list-found {\\n  transition-delay: 0s;\\n  visibility: visible;\\n  opacity: 1;\\n  transition: all 0.7s ease-in-out;\\n  max-height: 9999px;\\n}\\n.core-login-site-logo.hidden,\\n.core-login-site-list.hidden,\\n.core-login-site-list-found.hidden {\\n  opacity: 0;\\n  visibility: hidden;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  padding: 0;\\n  max-height: 0;\\n}\\n.core-login-site-list-found.dimmed {\\n  pointer-events: none;\\n  position: relative;\\n}\\n.core-login-site-list-loading {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-content: center;\\n  align-items: center;\\n  background-color: rgba(255, 255, 255, 0.5);\\n  z-index: 1;\\n}\\n.core-login-site-list-loading ion-spinner {\\n  margin: 0 auto;\\n}\\n.core-login-site-nolist-loading {\\n  margin-top: 16px;\\n  text-align: center;\\n}\\n.item.core-login-site-list-title ion-label, .item.core-login-site-list-title ion-label h2.item-heading {\\n  margin-top: 0;\\n}\\n@media (min-width: 768px) {\\n  ion-content .core-login-site-logo {\\n    margin-top: 20%;\\n  }\\n  ion-content .core-login-site-logo.hidden {\\n    margin-top: 0;\\n  }\\n}\\n.core-login-entered-site {\\n  background-color: var(--light);\\n}\\n.core-login-entered-site ion-thumbnail {\\n  box-shadow: 0 0 4px var(--gray-300);\\n}\\n.core-login-default-icon {\\n  filter: grayscale(100%);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwic3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwic3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJzcmMvY29yZS9mZWF0dXJlcy9sb2dpbi9wYWdlcy9zaXRlL3NpdGUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDN0RBO0VBQ0ksNEJBQUE7QUFvREo7QUFqREE7RUFDSSxtQkFBQTtBQW9ESjtBQWpEQTtFQUNJLGtCQUFBO0FBb0RKO0FBakRBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQW9ESjtBQWxESTtFQUNJLGdCQUFBO0VBQ0EsOEJBQUE7RUFBQSxzQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VMd2ZGLG9DQUFBO0VLdGZFLGlCQUFBO0VBQ0Esd0JBQUE7QUFvRFI7QUxzSFc7RUErVUwsK0NBQUE7QUtsY047QUFyREk7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUF3RFI7QUFsREk7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUFxRFI7QUFoREE7OztFQUdJLG9CQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0NBQUE7RUFDQSxrQkFBQTtBQW1ESjtBQWpESTs7O0VBQ0ksVUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7QUFxRFI7QUFqREE7RUFDSSxvQkFBQTtFQUNBLGtCQUFBO0FBb0RKO0FBakRBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBDQUFBO0VBQ0EsVUFBQTtBQW9ESjtBQW5ESTtFQUNJLGNBQUE7QUFxRFI7QUFqREE7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0FBb0RKO0FBaERJO0VBQ0ksYUFBQTtBQW1EUjtBTGxCSTtFSzVCQTtJQUNJLGVBQUE7RUFrRE47RUFqRE07SUFDSSxhQUFBO0VBbURWO0FBQ0Y7QUEvQ0E7RUFDSSw4QkFBQTtBQWlESjtBQS9DSTtFQUNJLG1DQUFBO0FBaURSO0FBN0NBO0VBQ0ksdUJBQUE7QUFnREoiLCJmaWxlIjoic3JjL2NvcmUvZmVhdHVyZXMvbG9naW4vcGFnZXMvc2l0ZS9zaXRlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFBsYWNlIGhlcmUgdGhlIGRpZmZlcmVudCBmaWxlcyB5b3Ugc2hvdWxkIGltcG9ydCB0byB1c2UgZ2xvYmFsIHZhcmlhYmxlcy5cclxuICovXHJcblxyXG4kZm9udC1wYXRoOiBcIi4uL2Fzc2V0cy9mb250c1wiO1xyXG4kYXNzZXRzLXBhdGg6IFwiLi4vYXNzZXRzXCI7XHJcblxyXG5AaW1wb3J0IFwiLi9oZWxwZXJzL2hlbHBlcnMuc2Nzc1wiO1xyXG5AaW1wb3J0IFwiLi9nbG9iYWxzLmN1c3RvbS5zY3NzXCI7XHJcbkBpbXBvcnQgXCIuL2dsb2JhbHMudmFyaWFibGVzLnNjc3NcIjtcclxuIiwiLyoqXHJcbiAqIEltcG9ydGVkIGlvbmljIHN0cmluZyBmdW5jdGlvbnMgZm9yIFNDU1NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBFeHRyYWN0ZWQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5zdHJpbmcuc2Nzc1xyXG4gKi9cclxuXHJcblxyXG4vLyBTdHJpbmcgVXRpbGl0eSBGdW5jdGlvbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIFN0cmluZyBSZXBsYWNlIEZ1bmN0aW9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AZnVuY3Rpb24gc3RyLXJlcGxhY2UoJHN0cmluZywgJHNlYXJjaCwgJHJlcGxhY2U6IFwiXCIpIHtcclxuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VhcmNoKTtcclxuXHJcbiAgQGlmICRpbmRleCB7XHJcbiAgICBAcmV0dXJuIHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKSArICRyZXBsYWNlICsgc3RyLXJlcGxhY2Uoc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIHN0ci1sZW5ndGgoJHNlYXJjaCkpLCAkc2VhcmNoLCAkcmVwbGFjZSk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRzdHJpbmc7XHJcbn1cclxuXHJcbi8vIFN0cmluZyBTcGxpdCBGdW5jdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbkBmdW5jdGlvbiBzdHItc3BsaXQoJHN0cmluZywgJHNlcGFyYXRvcikge1xyXG4gIC8vIGVtcHR5IGFycmF5L2xpc3RcclxuICAkc3BsaXQtYXJyOiAoKTtcclxuICAvLyBmaXJzdCBpbmRleCBvZiBzZXBhcmF0b3IgaW4gc3RyaW5nXHJcbiAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XHJcbiAgLy8gbG9vcCB0aHJvdWdoIHN0cmluZ1xyXG4gIEB3aGlsZSAkaW5kZXggIT0gbnVsbCB7XHJcbiAgICAvLyBnZXQgdGhlIHN1YnN0cmluZyBmcm9tIHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gdGhlIHNlcGFyYXRvclxyXG4gICAgJGl0ZW06IHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKTtcclxuICAgIC8vIHB1c2ggaXRlbSB0byBhcnJheVxyXG4gICAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRpdGVtKTtcclxuICAgIC8vIHJlbW92ZSBpdGVtIGFuZCBzZXBhcmF0b3IgZnJvbSBzdHJpbmdcclxuICAgICRzdHJpbmc6IHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyAxKTtcclxuICAgIC8vIGZpbmQgbmV3IGluZGV4IG9mIHNlcGFyYXRvclxyXG4gICAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XHJcbiAgfVxyXG4gIC8vIGFkZCB0aGUgcmVtYWluaW5nIHN0cmluZyB0byBsaXN0ICh0aGUgbGFzdCBpdGVtKVxyXG4gICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkc3RyaW5nKTtcclxuXHJcbiAgQHJldHVybiAkc3BsaXQtYXJyO1xyXG59XHJcblxyXG5cclxuLy8gU3RyaW5nIEV4dHJhY3QgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBzdHItZXh0cmFjdCgkc3RyaW5nLCAkc3RhcnQsICRlbmQpIHtcclxuICAkc3RhcnQtaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc3RhcnQpO1xyXG5cclxuICBAaWYgJHN0YXJ0LWluZGV4IHtcclxuICAgICRwb3N0OiBzdHItc2xpY2UoJHN0cmluZywgJHN0YXJ0LWluZGV4ICsgc3RyLWxlbmd0aCgkc3RhcnQpKTtcclxuICAgICRlbmQtaW5kZXg6IHN0ci1pbmRleCgkcG9zdCwgJGVuZCk7XHJcblxyXG4gICAgQGlmICRlbmQtaW5kZXgge1xyXG4gICAgICBAcmV0dXJuIHN0ci1zbGljZSgkcG9zdCwgMSwgJGVuZC1pbmRleCAtIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiBudWxsO1xyXG59XHJcblxyXG5cclxuLy8gU3RyaW5nIENvbnRhaW5zIEZ1bmN0aW9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AZnVuY3Rpb24gc3RyLWNvbnRhaW5zKCRzdHJpbmcsICRuZWVkbGUpIHtcclxuICBAaWYgKHR5cGUtb2YoJHN0cmluZykgPT0gc3RyaW5nKSB7XHJcbiAgICBAcmV0dXJuIHN0ci1pbmRleCgkc3RyaW5nLCAkbmVlZGxlKSAhPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuXHJcbi8vIFVSTCBFbmNvZGUgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiB1cmwtZW5jb2RlKCR2YWwpIHtcclxuICAkc3BhY2VzOiBzdHItcmVwbGFjZSgkdmFsLCBcIiBcIiwgXCIlMjBcIik7XHJcbiAgJGVuY29kZWQ6IHN0ci1yZXBsYWNlKCRzcGFjZXMsIFwiI1wiLCBcIiUyM1wiKTtcclxuICBAcmV0dXJuICRlbmNvZGVkO1xyXG59XHJcblxyXG5cclxuLy8gQWRkIFJvb3QgU2VsZWN0b3JcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQWRkcyBhIHJvb3Qgc2VsZWN0b3IgdXNpbmcgaG9zdC1jb250ZXh0IGJhc2VkIG9uIHRoZSBzZWxlY3RvciBwYXNzZWRcclxuLy9cclxuLy8gRXhhbXBsZXNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCI6aG9zdFwiKVxyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXHJcbi8vXHJcbi8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiW2Rpcj1ydGxdXCIsIFwiOmhvc3QoLmZpeGVkKVwiKVxyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKVxyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXHJcbi8vXHJcbi8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiW2Rpcj1ydGxdXCIsIFwiOmhvc3QoLnRhYi1sYXlvdXQtaWNvbi1oaWRlKSA6OnNsb3R0ZWQoaW9uLWJhZGdlKVwiKVxyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnRhYi1sYXlvdXQtaWNvbi1oaWRlIDo6c2xvdHRlZChpb24tYmFkZ2UpXHJcbi8vXHJcbi8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiW2Rpcj1ydGxdXCIsIFwiLnNoYWRvd1wiKVxyXG4vLyAtLT4gW2Rpcj1ydGxdIC5zaGFkb3dcclxuLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAuc2hhZG93XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AZnVuY3Rpb24gYWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsICRhZGRIb3N0U2VsZWN0b3IpIHtcclxuICAkc2VsZWN0b3JzOiBzdHItc3BsaXQoJHJvb3QsIFwiLFwiKTtcclxuXHJcbiAgJGxpc3Q6ICgpO1xyXG5cclxuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9ycyB7XHJcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QoIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBhIGNsYXNzIG9uIHRoZSBob3N0XHJcbiAgICAvLyBlbGVtZW50IHNvIHdlIG5lZWQgdG8gY2hhbmdlIGhvdyB3ZSB0YXJnZXQgaXRcclxuICAgIEBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0KFwiKSB7XHJcbiAgICAgICRzaGFkb3ctZWxlbWVudDogc3RyLXJlcGxhY2UoJHNlbGVjdG9yLCBcIjpob3N0KFwiLCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSk6aG9zdChcIik7XHJcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRzaGFkb3ctZWxlbWVudCwgY29tbWEpO1xyXG5cclxuICAgICAgJG5ldy1lbGVtZW50OiAoKTtcclxuICAgICAgJGVsZW1lbnRzOiBzdHItc3BsaXQoJHNlbGVjdG9yLCBcIiBcIik7XHJcblxyXG4gICAgICBAZWFjaCAkZWxlbWVudCBpbiAkZWxlbWVudHMge1xyXG4gICAgICAgIEBpZiBzdHItY29udGFpbnMoJGVsZW1lbnQsIFwiOmhvc3QoXCIpIHtcclxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogJGVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCIpKVwiKSB7XHJcbiAgICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIikpXCIsIFwiKVwiKTtcclxuICAgICAgICAgIH0gQGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCIpXCIsIFwiXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QoXCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcclxuXHJcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgc3BhY2UpO1xyXG4gICAgICAgIH0gQGVsc2Uge1xyXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XHJcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QgaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGp1c3QgdGhlIGhvc3RcclxuICAgIC8vIGVsZW1lbnQgc28gd2UgY2FuIGNoYW5nZSBpdCB0byBsb29rIGZvciBob3N0LWNvbnRleHRcclxuICAgIH0gQGVsc2UgaWYgc3RyLWNvbnRhaW5zKCRzZWxlY3RvciwgXCI6aG9zdFwiKSB7XHJcbiAgICAgICRzaGFkb3ctZWxlbWVudDogc3RyLXJlcGxhY2UoJHNlbGVjdG9yLCBcIjpob3N0XCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XHJcbiAgICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xyXG4gICAgICAvLyBvciBub3JtYWwgZWxlbWVudCBzbyBhcHBlbmQgYm90aCB0aGUgZGlyIGNoZWNrIGFuZCBob3N0LWNvbnRleHRcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIiN7JGFkZEhvc3RTZWxlY3Rvcn0gI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRsaXN0O1xyXG59XHJcbiIsIi8qKlxyXG4gKiBJbXBvcnRlZCBpb25pYyBjb2xvciBmdW5jdGlvbnMgZm9yIFNDU1NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBFeHRyYWN0ZWQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5jb2xvci5zY3NzXHJcbiAqL1xyXG5cclxuLy8gR2V0cyB0aGUgYWN0aXZlIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gYSB2YXJpYXRpb24uIEFscGhhIGlzIG9wdGlvbmFsLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBFeGFtcGxlIHVzYWdlOlxyXG4vLyBjdXJyZW50LWNvbG9yKGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1iYXNlKVxyXG4vLyBjdXJyZW50LWNvbG9yKGNvbnRyYXN0LCAwLjEpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYiksIDAuMSlcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGN1cnJlbnQtY29sb3IoJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsKSB7XHJcbiAgQGlmICRhbHBoYSA9PSBudWxsIHtcclxuICAgIEByZXR1cm4gdmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0pO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgQHJldHVybiByZ2JhKHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259LXJnYiksICN7JGFscGhhfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBHZXRzIHRoZSBzcGVjaWZpYyBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIHRoZSBuYW1lIGFuZCB2YXJpYXRpb24uIEFscGhhL3JnYiBhcmUgb3B0aW9uYWwuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEV4YW1wbGUgdXNhZ2U6XHJcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZilcclxuLy8gaW9uLWNvbG9yKHNlY29uZGFyeSwgY29udHJhc3QpID0+IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QpXHJcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlLCAwLjUpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLXByaW1hcnktcmdiLCA1NiwgMTI4LCAyNTUpLCAwLjUpXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBpb24tY29sb3IoJG5hbWUsICR2YXJpYXRpb24sICRhbHBoYTogbnVsbCwgJHJnYjogbnVsbCkge1xyXG4gICR2YWx1ZXM6IG1hcC1nZXQoJGNvbG9ycywgJG5hbWUpO1xyXG4gICR2YWx1ZTogbWFwLWdldCgkdmFsdWVzLCAkdmFyaWF0aW9uKTtcclxuICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9LSN7JHZhcmlhdGlvbn07XHJcblxyXG4gIEBpZiAoJHZhcmlhdGlvbiA9PSBiYXNlKSB7XHJcbiAgICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9O1xyXG4gIH1cclxuXHJcbiAgQGlmICgkYWxwaGEpIHtcclxuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcclxuICAgIEByZXR1cm4gcmdiYSh2YXIoI3skdmFyaWFibGV9LXJnYiwgJHZhbHVlKSwgJGFscGhhKTtcclxuICB9XHJcbiAgQGlmICgkcmdiKSB7XHJcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XHJcbiAgICAkdmFyaWFibGU6ICN7JHZhcmlhYmxlfS1yZ2I7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIHZhcigjeyR2YXJpYWJsZX0sICR2YWx1ZSk7XHJcbn1cclxuXHJcbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlKCRjb2xvcikge1xyXG4gIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgMTIlKTtcclxufVxyXG5cclxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50KCRjb2xvcikge1xyXG4gIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgMTAlKTtcclxufVxyXG5cclxuLy8gQ29udmVydHMgYSBjb2xvciB0byBhIGNvbW1hIHNlcGFyYXRlZCByZ2IuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBjb2xvci10by1yZ2ItbGlzdCgkY29sb3IpIHtcclxuICBAcmV0dXJuICN7cmVkKCRjb2xvcil9LCN7Z3JlZW4oJGNvbG9yKX0sI3tibHVlKCRjb2xvcil9O1xyXG59XHJcbiIsIi8qKlxyXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBFeHRyYWN0ZWQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLm1peGlucy5zY3NzXHJcbiAqL1xyXG5cclxuQG1peGluIGlucHV0LWNvdmVyKCkge1xyXG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIG51bGwsIG51bGwsIDApO1xyXG4gIEBpbmNsdWRlIG1hcmdpbigwKTtcclxuXHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gIGJvcmRlcjogMDtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gIGFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuXHJcbiAgJjo6LW1vei1mb2N1cy1pbm5lciB7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gdmlzdWFsbHktaGlkZGVuKCkge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG5cclxuICBib3JkZXI6IDA7XHJcbiAgb3V0bGluZTogMDtcclxuICBjbGlwOiByZWN0KDAgMCAwIDApO1xyXG5cclxuICBvcGFjaXR5OiAwO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcblxyXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XHJcbn1cclxuXHJcbkBtaXhpbiB0ZXh0LWluaGVyaXQoKSB7XHJcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIGZvbnQtc3R5bGU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xyXG4gIHRleHQtaW5kZW50OiBpbmhlcml0O1xyXG4gIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XHJcbiAgdGV4dC10cmFuc2Zvcm06IGluaGVyaXQ7XHJcbiAgdGV4dC1hbGlnbjogaW5oZXJpdDtcclxuICB3aGl0ZS1zcGFjZTogaW5oZXJpdDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxufVxyXG5cclxuQG1peGluIGJ1dHRvbi1zdGF0ZSgpIHtcclxuICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcclxuXHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG5cclxuICBjb250ZW50OiBcIlwiO1xyXG5cclxuICBvcGFjaXR5OiAwO1xyXG59XHJcblxyXG4vLyBGb250IHNtb290aGluZ1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQG1peGluIGZvbnQtc21vb3RoaW5nKCkge1xyXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XHJcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XHJcbn1cclxuXHJcbi8vIEdldCB0aGUga2V5IGZyb20gYSBtYXAgYmFzZWQgb24gdGhlIGluZGV4XHJcbkBmdW5jdGlvbiBpbmRleC10by1rZXkoJG1hcCwgJGluZGV4KSB7XHJcbiAgJGtleXM6IG1hcC1rZXlzKCRtYXApO1xyXG5cclxuICBAcmV0dXJuIG50aCgka2V5cywgJGluZGV4KTtcclxufVxyXG5cclxuXHJcbi8vIEJyZWFrcG9pbnQgTWl4aW5zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gQnJlYWtwb2ludCB2aWV3cG9ydCBzaXplcyBhbmQgbWVkaWEgcXVlcmllcy5cclxuLy9cclxuLy8gQnJlYWtwb2ludHMgYXJlIGRlZmluZWQgYXMgYSBtYXAgb2YgKG5hbWU6IG1pbmltdW0gd2lkdGgpLCBvcmRlciBmcm9tIHNtYWxsIHRvIGxhcmdlOlxyXG4vL1xyXG4vLyAgICAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpXHJcbi8vXHJcbi8vIFRoZSBtYXAgZGVmaW5lZCBpbiB0aGUgYCRzY3JlZW4tYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyBNaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXHJcbi8vXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxyXG4vLyAgICA1NzZweFxyXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gICRtaW46IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XHJcblxyXG4gIEByZXR1cm4gaWYoJG5hbWUgIT0gaW5kZXgtdG8ta2V5KCRicmVha3BvaW50cywgMSksICRtaW4sIG51bGwpO1xyXG59XHJcblxyXG4vLyBSZXR1cm5zIGEgYmxhbmsgc3RyaW5nIGlmIHNtYWxsZXN0IGJyZWFrcG9pbnQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSBuYW1lIHdpdGggYSBkYXNoIGluZnJvbnQuXHJcbi8vIFVzZWZ1bCBmb3IgbWFraW5nIHJlc3BvbnNpdmUgdXRpbGl0aWVzLlxyXG4vL1xyXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHhzLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxyXG4vLyAgICBcIlwiICAoUmV0dXJucyBhIGJsYW5rIHN0cmluZylcclxuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcclxuLy8gICAgXCItc21cIlxyXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pbmZpeCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgQHJldHVybiBpZihicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKSA9PSBudWxsLCBcIlwiLCBcIi0jeyRuYW1lfVwiKTtcclxufVxyXG5cclxuLy8gTWVkaWEgb2YgYXQgbGVhc3QgdGhlIG1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBzbWFsbGVzdCBicmVha3BvaW50LlxyXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIHdpZGVyLlxyXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgJG1pbjogYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cyk7XHJcbiAgQGlmICRtaW4ge1xyXG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICRtaW4pIHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbi8vIE5hbWUgb2YgdGhlIG5leHQgYnJlYWtwb2ludCwgb3IgbnVsbCBmb3IgdGhlIGxhc3QgYnJlYWtwb2ludC5cclxuLy9cclxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtKVxyXG4vLyAgICBtZFxyXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXHJcbi8vICAgIG1kXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgJGJyZWFrcG9pbnQtbmFtZXM6ICh4cyBzbSBtZCBsZyB4bCkpXHJcbi8vICAgIG1kXHJcbkBmdW5jdGlvbiBicmVha3BvaW50LW5leHQoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cywgJGJyZWFrcG9pbnQtbmFtZXM6IG1hcC1rZXlzKCRicmVha3BvaW50cykpIHtcclxuICAkbjogaW5kZXgoJGJyZWFrcG9pbnQtbmFtZXMsICRuYW1lKTtcclxuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcclxufVxyXG5cclxuLy8gTWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxyXG4vLyBUaGUgbWF4aW11bSB2YWx1ZSBpcyByZWR1Y2VkIGJ5IDAuMDJweCB0byB3b3JrIGFyb3VuZCB0aGUgbGltaXRhdGlvbnMgb2ZcclxuLy8gYG1pbi1gIGFuZCBgbWF4LWAgcHJlZml4ZXMgYW5kIHZpZXdwb3J0cyB3aXRoIGZyYWN0aW9uYWwgd2lkdGhzLlxyXG4vL1xyXG4vLyBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL21lZGlhcXVlcmllcy00LyNtcS1taW4tbWF4XHJcbi8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cdC8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cclxuLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcdC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXHJcbi8vXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtbWF4KG1kLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxyXG4vLyAgICA3NjcuOThweFxyXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gICRtYXg6IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XHJcbiAgQHJldHVybiBpZigkbWF4IGFuZCAkbWF4ID4gMCwgJG1heCAtIC4wMiwgbnVsbCk7XHJcbn1cclxuXHJcbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXHJcbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgbmFycm93ZXIuXHJcbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LWRvd24oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gICRtYXg6IGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHMpO1xyXG4gIEBpZiAkbWF4IHtcclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAkbWF4KSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gVGV4dCBEaXJlY3Rpb24gLSBsdHIgLyBydGxcclxuLy9cclxuLy8gQ1NTIGRlZmF1bHRzIHRvIHVzZSB0aGUgbHRyIGNzcywgYW5kIGFkZHMgW2Rpcj1ydGxdIHNlbGVjdG9yc1xyXG4vLyB0byBvdmVycmlkZSBsdHIgZGVmYXVsdHMuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBtaXhpbiBtdWx0aS1kaXIoKSB7XHJcbiAgQGNvbnRlbnQ7XHJcblxyXG4gIC8vICRyb290OiAjeyZ9O1xyXG4gIC8vIEBhdC1yb290IFtkaXJdIHtcclxuICAvLyAgICN7JHJvb3R9IHtcclxuICAvLyAgICAgQGNvbnRlbnQ7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG59XHJcblxyXG5AbWl4aW4gcnRsKCkge1xyXG4gICRyb290OiAjeyZ9O1xyXG5cclxuICBAYXQtcm9vdCAje2FkZC1yb290LXNlbGVjdG9yKCRyb290LCBcIltkaXI9cnRsXVwiKX0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gbHRyKCkge1xyXG4gIEBjb250ZW50O1xyXG59XHJcblxyXG5cclxuLy8gU1ZHIEJhY2tncm91bmQgSW1hZ2UgTWl4aW5cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdmdcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gc3ZnLWJhY2tncm91bmQtaW1hZ2UoJHN2ZywgJGZsaXAtcnRsOiBmYWxzZSkge1xyXG4gICR1cmw6IHVybC1lbmNvZGUoJHN2Zyk7XHJcbiAgJHZpZXdCb3g6IHN0ci1zcGxpdChzdHItZXh0cmFjdCgkc3ZnLCBcInZpZXdCb3g9J1wiLCBcIidcIiksIFwiIFwiKTtcclxuXHJcbiAgQGlmICRmbGlwLXJ0bCAhPSB0cnVlIG9yICR2aWV3Qm94ID09IG51bGwge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgJHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm09J3RyYW5zbGF0ZSgje250aCgkdmlld0JveCwgMyl9LCAwKSBzY2FsZSgtMSwgMSknXCI7XHJcbiAgICAkZmxpcHBlZC11cmw6ICRzdmc7XHJcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cGF0aFwiLCBcIjxwYXRoICN7JHRyYW5zZm9ybX1cIik7XHJcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8bGluZVwiLCBcIjxsaW5lICN7JHRyYW5zZm9ybX1cIik7XHJcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cG9seWdvblwiLCBcIjxwb2x5Z29uICN7JHRyYW5zZm9ybX1cIik7XHJcbiAgICAkZmxpcHBlZC11cmw6IHVybC1lbmNvZGUoJGZsaXBwZWQtdXJsKTtcclxuXHJcbiAgICBAaW5jbHVkZSBsdHIgKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyRmbGlwcGVkLXVybH1cIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgcHJvcGVydHkgaG9yaXpvbnRhbFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XHJcbiAgQGlmICRzdGFydCA9PSAwIGFuZCAkZW5kID09IDAge1xyXG4gICAgI3skcHJvcH0tbGVmdDogJHN0YXJ0O1xyXG4gICAgI3skcHJvcH0tcmlnaHQ6ICRlbmQ7XHJcblxyXG4gIH0gQGVsc2Uge1xyXG4gICAgI3skcHJvcH0tbGVmdDogJHN0YXJ0O1xyXG4gICAgI3skcHJvcH0tcmlnaHQ6ICRlbmQ7XHJcblxyXG4gICAgQGF0LXJvb3Qge1xyXG4gICAgICBAc3VwcG9ydHMgKChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApKSB7XHJcbiAgICAgICAgJiB7XHJcbiAgICAgICAgICBAaWYgJHN0YXJ0ICE9IG51bGwge1xyXG4gICAgICAgICAgICAjeyRwcm9wfS1sZWZ0OiB1bnNldDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIEBpZiAkZW5kICE9IG51bGwge1xyXG4gICAgICAgICAgICAjeyRwcm9wfS1yaWdodDogdW5zZXQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLXdlYmtpdC0jeyRwcm9wfS1zdGFydDogJHN0YXJ0O1xyXG4gICAgICAgICAgI3skcHJvcH0taW5saW5lLXN0YXJ0OiAkc3RhcnQ7XHJcbiAgICAgICAgICAtd2Via2l0LSN7JHByb3B9LWVuZDogJGVuZDtcclxuICAgICAgICAgICN7JHByb3B9LWlubGluZS1lbmQ6ICRlbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgcHJvcGVydHkgZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkcHJvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gJGNvbnRlbnQgaW5jbHVkZSBjb250ZW50IG9yIHVzZSBkZWZhdWx0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHByb3BlcnR5KCRwcm9wLCAkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQpO1xyXG4gICN7JHByb3B9LXRvcDogJHRvcDtcclxuICAjeyRwcm9wfS1ib3R0b206ICRib3R0b207XHJcbn1cclxuXHJcbi8vIEFkZCBwYWRkaW5nIGhvcml6b250YWxcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKHBhZGRpbmcsICRzdGFydCwgJGVuZCk7XHJcbn1cclxuXHJcbi8vIEFkZCBwYWRkaW5nIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHBhZGRpbmcoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHkocGFkZGluZywgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcclxufVxyXG5cclxuLy8gQWRkIG1hcmdpbiBob3Jpem9udGFsXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKG1hcmdpbiwgJHN0YXJ0LCAkZW5kKTtcclxufVxyXG5cclxuLy8gQWRkIG1hcmdpbiBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBtYXJnaW4oJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHkobWFyZ2luLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xyXG59XHJcblxyXG4vLyBBZGQgcG9zaXRpb24gaG9yaXpvbnRhbFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0IC0gYW1vdW50IHRvIHBvc2l0aW9uIHN0YXJ0XHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kIC0gYW1vdW50IHRvIGxlZnQ6IDA7IGVuZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydDogbnVsbCwgJGVuZDogbnVsbCkge1xyXG4gIEBpZiAkc3RhcnQgPT0gJGVuZCB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIGxlZnQ6ICRzdGFydDtcclxuICAgICAgcmlnaHQ6ICRlbmQ7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIGxlZnQ6ICRzdGFydDtcclxuICAgICAgcmlnaHQ6ICRlbmQ7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGxlZnQ6IHVuc2V0O1xyXG4gICAgICByaWdodDogdW5zZXQ7XHJcblxyXG4gICAgICBsZWZ0OiAkZW5kO1xyXG4gICAgICByaWdodDogJHN0YXJ0O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIHBvc2l0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xyXG4gIEBpbmNsdWRlIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kKTtcclxuICB0b3A6ICR0b3A7XHJcbiAgYm90dG9tOiAkYm90dG9tO1xyXG59XHJcblxyXG4vLyBBZGQgYm9yZGVyIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIGJvcmRlcigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcclxuICBAaW5jbHVkZSBwcm9wZXJ0eShib3JkZXIsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XHJcbn1cclxuXHJcbi8vIEFkZCBib3JkZXIgcmFkaXVzIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1zdGFydFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1lbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLXN0YXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIGJvcmRlci1yYWRpdXMoJHRvcC1zdGFydCwgJHRvcC1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLXN0YXJ0OiAkdG9wLWVuZCkge1xyXG4gIEBpZiAkdG9wLXN0YXJ0ID09ICR0b3AtZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tc3RhcnQge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAkdG9wLXN0YXJ0O1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xyXG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1lbmQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLWVuZDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcclxuICAgIH1cclxuXHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3AtZW5kO1xyXG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1zdGFydDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tZW5kO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIGRpcmVjdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRkaXIgLSBEaXJlY3Rpb24gb24gTFRSXHJcbkBtaXhpbiBkaXJlY3Rpb24oJGRpcikge1xyXG4gICRvdGhlci1kaXI6IG51bGw7XHJcblxyXG4gIEBpZiAkZGlyID09IGx0ciB7XHJcbiAgICAkb3RoZXItZGlyOiBydGw7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAkb3RoZXItZGlyOiBsdHI7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICBkaXJlY3Rpb246ICRkaXI7XHJcbiAgfVxyXG4gIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgIGRpcmVjdGlvbjogJG90aGVyLWRpcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBmbG9hdCBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzaWRlXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGVjb3JhdG9yIC0gIWltcG9ydGFudFxyXG5AbWl4aW4gZmxvYXQoJHNpZGUsICRkZWNvcmF0b3I6IG51bGwpIHtcclxuICBAaWYgJHNpZGUgPT0gc3RhcnQge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcclxuICAgIH1cclxuICB9IEBlbHNlIGlmICRzaWRlID09IGVuZCB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICBmbG9hdDogJHNpZGUgJGRlY29yYXRvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBiYWNrZ3JvdW5kLXBvc2l0aW9uKCRob3Jpem9udGFsLCAkaG9yaXpvbnRhbC1hbW91bnQ6IG51bGwsICR2ZXJ0aWNhbDogbnVsbCwgJHZlcnRpY2FsLWFtb3VudDogbnVsbCkge1xyXG4gIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCBvciAkaG9yaXpvbnRhbCA9PSBlbmQge1xyXG4gICAgJGhvcml6b250YWwtbHRyOiBudWxsO1xyXG4gICAgJGhvcml6b250YWwtcnRsOiBudWxsO1xyXG4gICAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IHtcclxuICAgICAgJGhvcml6b250YWwtbHRyOiBsZWZ0O1xyXG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IHJpZ2h0O1xyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgICRob3Jpem9udGFsLWx0cjogcmlnaHQ7XHJcbiAgICAgICRob3Jpem9udGFsLXJ0bDogbGVmdDtcclxuICAgIH1cclxuXHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLWx0ciAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLXJ0bCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0cmFuc2Zvcm0tb3JpZ2luKCR4LWF4aXMsICR5LWF4aXM6IG51bGwpIHtcclxuICBAaWYgJHgtYXhpcyA9PSBzdGFydCB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcclxuICAgIH1cclxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gZW5kIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xyXG4gICAgfVxyXG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBsZWZ0IG9yICR4LWF4aXMgPT0gcmlnaHQge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2FsYygxMDAlIC0gI3skeC1heGlzfSkgJHktYXhpcztcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCB0cmFuc2Zvcm0gZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdHJhbnNmb3JtcyAtIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHRyYW5zZm9ybXNcclxuQG1peGluIHRyYW5zZm9ybSgkdHJhbnNmb3Jtcy4uLikge1xyXG4gICRleHRyYTogbnVsbDtcclxuXHJcbiAgJHg6IG51bGw7XHJcbiAgJGx0ci10cmFuc2xhdGU6IG51bGw7XHJcbiAgJHJ0bC10cmFuc2xhdGU6IG51bGw7XHJcblxyXG4gIEBlYWNoICR0cmFuc2Zvcm0gaW4gJHRyYW5zZm9ybXMge1xyXG4gICAgQGlmIChzdHItaW5kZXgoJHRyYW5zZm9ybSwgdHJhbnNsYXRlM2QpKSB7XHJcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICd0cmFuc2xhdGUzZCgnKTtcclxuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJyknKTtcclxuXHJcbiAgICAgICRjb29yZGluYXRlczogc3RyLXNwbGl0KCR0cmFuc2Zvcm0sICcsJyk7XHJcblxyXG4gICAgICAkeDogbnRoKCRjb29yZGluYXRlcywgMSk7XHJcbiAgICAgICR5OiBudGgoJGNvb3JkaW5hdGVzLCAyKTtcclxuICAgICAgJHo6IG50aCgkY29vcmRpbmF0ZXMsIDMpO1xyXG5cclxuICAgICAgJGx0ci10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKCR4LCAkeSwgJHopO1xyXG4gICAgICAkcnRsLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoY2FsYygtMSAqICN7JHh9KSwgJHksICR6KTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICBAaWYgJGV4dHJhID09IG51bGwge1xyXG4gICAgICAgICRleHRyYTogJHRyYW5zZm9ybTtcclxuICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgJGV4dHJhOiAkZXh0cmEgJHRyYW5zZm9ybTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGlmICR4ID09ICcwJyBvciAkeCA9PSBudWxsIHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xyXG4gICAgfVxyXG5cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgdHJhbnNmb3JtOiAkcnRsLXRyYW5zbGF0ZSAkZXh0cmE7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1MgZnJvbSBkaWZmZXJlbnQgY29tcG9uZW50c1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEV4dHJhY3RlZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2dyaWQvZ3JpZC5taXhpbnMuc2Nzc1xyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9pdGVtL2l0ZW0ubWl4aW5zLnNjc3NcclxuICovXHJcblxyXG4vLyBSZXNwb25zaXZlIE1peGluc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbi8vIENyZWF0ZXMgYSBmaXhlZCB3aWR0aCBmb3IgdGhlIGdyaWQgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQG1peGluIG1ha2UtZ3JpZC13aWR0aHMoJHdpZHRoczogJGdyaWQtd2lkdGhzLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICBAZWFjaCAkYnJlYWtwb2ludCwgJHdpZHRoIGluICR3aWR0aHMge1xyXG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCwgJGJyZWFrcG9pbnRzKSB7XHJcbiAgICAgIHdpZHRoOiAkd2lkdGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcblxyXG4vLyBBZGRzIHBhZGRpbmcgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gYnJlYWtwb2ludHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AbWl4aW4gbWFrZS1icmVha3BvaW50LXBhZGRpbmcoJHBhZGRpbmdzKSB7XHJcbiAgQGVhY2ggJGJyZWFrcG9pbnQgaW4gbWFwLWtleXMoJHBhZGRpbmdzKSB7XHJcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50KSB7XHJcbiAgICAgICRwYWRkaW5nOiBtYXAtZ2V0KCRwYWRkaW5ncywgJGJyZWFrcG9pbnQpO1xyXG5cclxuICAgICAgQGluY2x1ZGUgcGFkZGluZygkcGFkZGluZyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gSXRlbSBNaXhpbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBtaXhpbiBpdGVtLXB1c2gtc3ZnLXVybCgkZmlsbCkge1xyXG4gICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xyXG5cclxuICBAaW5jbHVkZSBzdmctYmFja2dyb3VuZC1pbWFnZSgkaXRlbS1kZXRhaWwtcHVzaC1zdmcsIHRydWUpO1xyXG59XHJcbiIsIkB1c2UgXCJzYXNzOm1hdGhcIiBhcyBtYXRoO1xyXG5cclxuLyoqXHJcbiAqIEFwcCBjdXN0b20gbWl4aW5zIGZvciBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSBvdXIgY3VzdG9tIG1peGlucy5cclxuICovXHJcblxyXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cclxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgNi5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRjb2xvciwgJHBlcmNlbnQ6IDQ4JSkge1xyXG4gICAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAkcGVyY2VudCk7XHJcbn1cclxuXHJcbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXHJcbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIC0xMC5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50LXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogODAlKSB7XHJcbiAgICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsICRwZXJjZW50KTtcclxufVxyXG5cclxuLy8gSW9uaWMgQ29sb3JzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEdlbmVyYXRlcyB0aGUgY29sb3IgY2xhc3NlcyBhbmQgdmFyaWFibGVzIGJhc2VkIG9uIHRoZVxyXG4vLyBjb2xvcnMgbWFwXHJcblxyXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3IoJGNvbG9yLW5hbWUsICRjb2xvcnMsICR0aGVtZSkge1xyXG4gICAgJGNvbG9yLXRoZW1lczogbWFwLWdldCgkY29sb3JzLCAkY29sb3ItbmFtZSk7XHJcbiAgICAkYmFzZTogbWFwLWdldCgkY29sb3ItdGhlbWVzLCAkdGhlbWUpO1xyXG5cclxuICAgIEBpZiAkdGhlbWUgPT0gJ2RhcmsnIHtcclxuICAgICAgICAkYmFzZTogbWl4KG1hcC1nZXQoJGNvbG9yLXRoZW1lcywgJ2xpZ2h0JyksIHdoaXRlLCA4MCUpICFkZWZhdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIEBpbmNsdWRlIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSk7XHJcbn1cclxuXHJcbkBtaXhpbiBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpIHtcclxuICAgICRjb250cmFzdDogZ2V0X2NvbnRyYXN0X2NvbG9yKCRiYXNlKTtcclxuICAgICRzaGFkZTogZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGJhc2UpO1xyXG4gICAgJHRpbnQ6IGdldC1jb2xvci10aW50LXBlcmNlbnQoJGJhc2UpO1xyXG5cclxuICAgIC0tI3skY29sb3ItbmFtZX06ICN7JGJhc2V9O1xyXG4gICAgLS0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xyXG4gICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcclxuICAgIC0tI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcclxuXHJcbiAgICAvLyBJbnRlcm5hbCBpb25pYyB1c2Ugb25seS5cclxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9OiB2YXIoLS0jeyRjb2xvci1uYW1lfSk7XHJcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xyXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRiYXNlKX07XHJcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xyXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRjb250cmFzdCl9O1xyXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcclxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xyXG5cclxuICAgIC5pb24tY29sb3ItI3skY29sb3ItbmFtZX0ge1xyXG4gICAgICAgIC0taW9uLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xyXG4gICAgICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlKTtcclxuICAgICAgICAtLWlvbi1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2IpO1xyXG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QpO1xyXG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYik7XHJcbiAgICAgICAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZSk7XHJcbiAgICAgICAgLS1pb24tY29sb3ItdGludDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWl4aW4gY29yZS1mb2N1cygpIHtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAmOjphZnRlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICAgIEBpbmNsdWRlIGNvcmUtZm9jdXMtc3R5bGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XHJcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgMXB4IHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XHJcbiAgICAvLyBUaGlja2VyIG9wdGlvbjpcclxuICAgIC8vIGJvcmRlcjogdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgc29saWQgdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XHJcbn1cclxuXHJcbkBtaXhpbiBjb3JlLXRyYW5zaXRpb24oJHByb3BlcnRpZXM6IGFsbCwgJGR1cmF0aW9uOiA1MDBtcywgJHRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQpIHtcclxuICAgICR0cmFuc2l0aW9uczogKCk7XHJcbiAgICBAZWFjaCAkcHJvcGVydHkgaW4gJHByb3BlcnRpZXMge1xyXG4gICAgICAkdHJhbnNpdGlvbnM6IGFwcGVuZCgkdHJhbnNpdGlvbnMsICRwcm9wZXJ0eSAkZHVyYXRpb24gJHRpbWluZy1mdW5jdGlvbiwgY29tbWEpO1xyXG4gICAgfVxyXG5cclxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xyXG4gICAgdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xyXG59XHJcblxyXG5AbWl4aW4gc3Itb25seSgpIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiAxcHg7XHJcbiAgICBoZWlnaHQ6IDFweDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBtYXJnaW46IC0xcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBib3JkZXI6IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTYW1lIGFzIGl0ZW0tcHVzaC1zdmctdXJsIGJ1dCBhZG1pdHMgZmxpcC1ydGxcclxuICovXHJcbkBtaXhpbiBwdXNoLWFycm93LWNvbG9yKCRmaWxsOiA2MjYyNjIsICRmbGlwLXJ0bDogZmFsc2UpIHtcclxuICAgICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xyXG5cclxuICAgIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgJGZsaXAtcnRsKTtcclxufVxyXG5cclxuQG1peGluIGJvcmRlci1zdGFydCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcclxuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCAkcHggJHR5cGUgJGNvbG9yLCBudWxsKTtcclxufVxyXG5cclxuQG1peGluIGJvcmRlci1lbmQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XHJcbiAgICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKGJvcmRlciwgbnVsbCwgJHB4ICR0eXBlICRjb2xvcik7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGUsICRjb2xvcikge1xyXG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skcHh9KTtcclxuXHJcbiAgICBAaW5jbHVkZSBib3JkZXItc3RhcnQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLWVuZCgkcHgsICR0eXBlLCAkY29sb3IpIHtcclxuICAgICRzYWZlLWFyZWEtcG9zaXRpb246IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRweH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIGJvcmRlci1lbmQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xyXG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcclxuXHJcbiAgICBAaWYgKCRlbmQpIHtcclxuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xyXG4gICAgfVxyXG4gICAgQGlmICgkc3RhcnQpIHtcclxuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xyXG4gICAgfVxyXG5cclxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1lbmQoJHN0YXJ0LCAkZW5kKSB7XHJcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xyXG5cclxuICAgIEBpZiAoJGVuZCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcbiAgICB9XHJcbiAgICBAaWYgKCRzdGFydCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLXN0YXJ0KCRzdGFydCwgJGVuZCkge1xyXG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcclxuXHJcbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1lbmQoJHN0YXJ0LCAkZW5kKSB7XHJcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1wb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcclxuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIHBvc2l0aW9uKCR0b3AsICRzYWZlLWFyZWEtZW5kLCAkYm90dG9tLCAkc2FmZS1hcmVhLXN0YXJ0KTtcclxufVxyXG5cclxuQG1peGluIGNvcmUtaGVhZGluZ3MoKSB7XHJcbiAgICBoMSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNnB4O1xyXG4gICAgfVxyXG4gICAgaDIsIC5pdGVtLWhlYWRpbmcge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIH1cclxuICAgIGgzIHtcclxuICAgICAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICB9XHJcbiAgICBoNCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgaDUge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIH1cclxuICAgIGg2IHtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtaXhpbiBkYXJrbW9kZSgpIHtcclxuICAgICRyb290OiAjeyZ9O1xyXG5cclxuICAgIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiaHRtbC5kYXJrXCIpfSB7XHJcbiAgICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtaXhpbiBob3Jpem9udGFsX3Njcm9sbF9pdGVtKCR3aWR0aCwgJG1pbi13aWR0aCwgJG1heC13aWR0aCkge1xyXG4gICAgZmxleDogMCAwICR3aWR0aDtcclxuICAgIG1pbi13aWR0aDogJG1pbi13aWR0aDtcclxuICAgIG1heC13aWR0aDogJG1heC13aWR0aDtcclxuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuXHJcbiAgICBpb24tY2FyZCB7XHJcbiAgICAgICAgLS12ZXJ0aWNhbC1tYXJnaW46IDEwcHg7XHJcbiAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogMTBweDtcclxuXHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSk7XHJcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIC0gdmFyKC0tdmVydGljYWwtbWFyZ2luKSk7XHJcbiAgICAgICAgbWFyZ2luOiB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIHZhcigtLWhvcml6b250YWwtbWFyZ2luKTtcclxuXHJcbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDM2MHB4KSB7XHJcbiAgICAgICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDZweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENvbG9yIG1peGlucy5cclxuQGZ1bmN0aW9uIGdldF9icmlnaHRuZXNzKCRjb2xvcikge1xyXG4gICAgQHJldHVybiAocmVkKCRjb2xvcikgKyBncmVlbigkY29sb3IpICsgYmx1ZSgkY29sb3IpKSAvIDM7XHJcbn1cclxuXHJcbi8vIEdldCB0aGUgYmV0dGVyIGNvbG9yIGNvbnRyYXN0IHVzaW5nIFdDQUcgYWxnb3J5dGhtLlxyXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yKCRjb2xvcikge1xyXG4gICAgJGx1bWlhbmNlOiBsdW1pbmFuY2UoJGNvbG9yKTtcclxuXHJcbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAxLlxyXG4gICAgJHdoaXRlQ29udHJhc3Q6ICgkbHVtaWFuY2UgKyAwLjA1KSAvICgxICsgMC4wNSk7XHJcbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAwLlxyXG4gICAgJGJsYWNrQ29udHJhc3Q6ICgwLjA1KSAvICgkbHVtaWFuY2UgKyAwLjA1KTtcclxuXHJcbiAgICBAcmV0dXJuIGlmKCR3aGl0ZUNvbnRyYXN0IDwgJGJsYWNrQ29udHJhc3QsIHdoaXRlLCBibGFjayk7XHJcbn1cclxuXHJcbi8vIENvbG9yIGNvbnRyYXN0IHVzaW5nIHlpcSBhcHJveGltYXRpb24gd2l0aCAxNTAgdGhyZXNob2xkLlxyXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yX3lpcSgkY29sb3IsICRkYXJrOiBibGFjaywgJGxpZ2h0OiB3aGl0ZSkge1xyXG4gICAgJHI6IHJlZCgkY29sb3IpO1xyXG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XHJcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xyXG5cclxuICAgICR5aXE6ICgoJHIgKiAyOTkpICsgKCRnICogNTg3KSArICgkYiAqIDExNCkpIC8gMTAwMDtcclxuXHJcbiAgICBAcmV0dXJuIGlmKCR5aXEgPj0gMTI4LCAkZGFyaywgJGxpZ2h0KTtcclxufVxyXG5cclxuLy8gV0NBRyBjb250cmFzdCBhbGdvcml0aG1cclxuQGZ1bmN0aW9uIGNoZWNrLWNvbnRyYXN0KCRmb3JlZ3JvdW5kLCAkYmFja2dyb3VuZCkge1xyXG4gICAgJGZvcmVncm91bmRMdW1pYW5jZTogbHVtaW5hbmNlKCRmb3JlZ3JvdW5kKTtcclxuICAgICRiYWNrZ3JvdW5kTHVtaW5hbmNlOiBsdW1pbmFuY2UoJGJhY2tncm91bmQpO1xyXG5cclxuICAgIEBpZiAoJGJhY2tncm91bmRMdW1pbmFuY2UgPCAkZm9yZWdyb3VuZEx1bWlhbmNlKSB7XHJcbiAgICAgICAgQHJldHVybiAoJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KSAvICgkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSk7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgICBAcmV0dXJuICgkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSkgLyAoJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KTtcclxuICAgIH1cclxufVxyXG5cclxuQGZ1bmN0aW9uIGx1bWluYW5jZSgkY29sb3IpIHtcclxuICAgICRyOiByZWQoJGNvbG9yKTtcclxuICAgICRnOiBncmVlbigkY29sb3IpO1xyXG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcclxuXHJcbiAgICAkcjogY29tcG9uZW50LWx1bWluYW5jZSgkcik7XHJcbiAgICAkZzogY29tcG9uZW50LWx1bWluYW5jZSgkZyk7XHJcbiAgICAkYjogY29tcG9uZW50LWx1bWluYW5jZSgkYik7XHJcblxyXG4gICAgQHJldHVybiAkciAqIDAuMjEyNiArICRnICogMC43MTUyICsgJGIgKiAwLjA3MjI7XHJcbn1cclxuXHJcbkBmdW5jdGlvbiBjb21wb25lbnQtbHVtaW5hbmNlKCR2YWx1ZSkge1xyXG4gICAgJHZhbHVlOiAkdmFsdWUgLyAyNTU7XHJcblxyXG4gICAgQGlmICgkdmFsdWUgPD0gMC4wMzkyOCkge1xyXG4gICAgICAgIEByZXR1cm4gJHZhbHVlIC8gMTIuOTI7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgICBAcmV0dXJuIG1hdGgucG93KCgkdmFsdWUgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gKiBBcHAgQ3VzdG9tIEFwcCB2YXJpYWJsZXMgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFBsYWNlIGhlcmUgYWxsIGN1c3RvbSBhcHAgdmFyaWFibGVzLlxyXG4gKi9cclxuIiwiLypcclxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFBsYWNlIGhlcmUgYWxsIGdsb2JhbCB2YXJpYWJsZXMuXHJcbiAqL1xyXG5cclxuJHdoaXRlOiAgICAgICAjZmZmZmZmICFkZWZhdWx0O1xyXG4kZ3JheS0xMDA6ICAgICNmOGY5ZmEgIWRlZmF1bHQ7XHJcbiRncmF5LTIwMDogICAgI2U5ZWNlZiAhZGVmYXVsdDtcclxuJGdyYXktMzAwOiAgICAjZGVlMmU2ICFkZWZhdWx0OyAvLyBTdHJva2VcclxuJGdyYXktNDAwOiAgICAjY2VkNGRhICFkZWZhdWx0O1xyXG4kZ3JheS01MDA6ICAgICM4Zjk1OWUgIWRlZmF1bHQ7IC8vIFN0cm9rZSBvbiBpbnB1dHNcclxuJGdyYXktNjAwOiAgICAjNmE3MzdiICFkZWZhdWx0O1xyXG4kZ3JheS03MDA6ICAgICM0OTUwNTcgIWRlZmF1bHQ7XHJcbiRncmF5LTgwMDogICAgIzM0M2E0MCAhZGVmYXVsdDtcclxuJGdyYXktOTAwOiAgICAjMWQyMTI1ICFkZWZhdWx0OyAvLyBDb3B5IHRleHRcclxuJGJsYWNrOiAgICAgICAjMDAwMDAwICFkZWZhdWx0OyAvLyBBdm9pZCB1c2FnZVxyXG5cclxuJGJsdWU6ICAgICAgICAjMGY2Y2JmICFkZWZhdWx0O1xyXG4kY3lhbjogICAgICAgICMwMDgxOTYgIWRlZmF1bHQ7IC8vIE5vdCB1c2VkLlxyXG4kZ3JlZW46ICAgICAgICMzNTdhMzIgIWRlZmF1bHQ7XHJcbiRyZWQ6ICAgICAgICAgI2NhMzEyMCAhZGVmYXVsdDtcclxuJHllbGxvdzogICAgICAjZjBhZDRlICFkZWZhdWx0O1xyXG5cclxuJGJyYW5kLWNvbG9yOiAjZmY3NTE4ICFkZWZhdWx0O1xyXG5cclxuJHRleHQtY29sb3I6ICAgICAgICAgICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xyXG4kdGV4dC1jb2xvci1yZ2I6ICAgICAgICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvcikgIWRlZmF1bHQ7XHJcbiR0ZXh0LWNvbG9yLWRhcms6ICAgICAgICAgICR3aGl0ZSAhZGVmYXVsdDtcclxuJHRleHQtY29sb3ItZGFyay1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XHJcblxyXG4kYmFja2dyb3VuZC1jb2xvcjogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xyXG4kYmFja2dyb3VuZC1jb2xvci1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3IpICFkZWZhdWx0O1xyXG4kYmFja2dyb3VuZC1jb2xvci1kYXJrOiAgICAgJGdyYXktOTAwICFkZWZhdWx0OyAvLyAjMWExYTFhXHJcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcclxuXHJcbiRpb24taXRlbS1iYWNrZ3JvdW5kOiAgICAgICR3aGl0ZSAhZGVmYXVsdDtcclxuJGlvbi1pdGVtLWJhY2tncm91bmQtcmdiOiAgY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQpICFkZWZhdWx0O1xyXG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrOiAkZ3JheS05MDAgIWRlZmF1bHQ7XHJcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrKSAhZGVmYXVsdDtcclxuXHJcbiRwcmltYXJ5OiAgICAkYnJhbmQtY29sb3IgIWRlZmF1bHQ7XHJcbiRzZWNvbmRhcnk6ICAkZ3JheS0zMDAgIWRlZmF1bHQ7XHJcbiRkYW5nZXI6ICAgICAkcmVkICFkZWZhdWx0O1xyXG4kd2FybmluZzogICAgJHllbGxvdyAhZGVmYXVsdDtcclxuJHN1Y2Nlc3M6ICAgICRncmVlbiAhZGVmYXVsdDtcclxuJGluZm86ICAgICAgICRibHVlICFkZWZhdWx0O1xyXG4kbGlnaHQ6ICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xyXG4kbWVkaXVtOiAgICAgJGdyYXktNzAwICFkZWZhdWx0O1xyXG4kZGFyazogICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xyXG5cclxuJGNvbG9yczogIChcclxuICAgIHByaW1hcnk6IChsaWdodDogJHByaW1hcnksIGRhcms6ICRwcmltYXJ5KSxcclxuICAgIHNlY29uZGFyeTogKGxpZ2h0OiAkc2Vjb25kYXJ5LCBkYXJrOiAkZ3JheS03MDApLFxyXG4gICAgc3VjY2VzczogKGxpZ2h0OiAkc3VjY2VzcyksXHJcbiAgICB3YXJuaW5nOiAobGlnaHQ6ICR3YXJuaW5nKSxcclxuICAgIGRhbmdlcjogIChsaWdodDogJGRhbmdlciksXHJcbiAgICBpbmZvOiAobGlnaHQ6ICRpbmZvKSxcclxuICAgIGxpZ2h0OiAobGlnaHQ6ICRsaWdodCwgZGFyazogJGRhcmspLFxyXG4gICAgbWVkaXVtOiAobGlnaHQ6ICRtZWRpdW0sIGRhcms6ICRncmF5LTIwMCksXHJcbiAgICBkYXJrOiAobGlnaHQ6ICRkYXJrLCBkYXJrOiAkbGlnaHQpLFxyXG4pICFkZWZhdWx0O1xyXG5cclxuLyoqXHJcbiAqIExheW91dCBCcmVha3BvaW50c1xyXG4gKlxyXG4gKiBodHRwczovL2lvbmljZnJhbWV3b3JrLmNvbS9kb2NzL2xheW91dC9ncmlkI2RlZmF1bHQtYnJlYWtwb2ludHNcclxuICovXHJcblxyXG4vLyBUaGUgbWluaW11bSBkaW1lbnNpb25zIGF0IHdoaWNoIHlvdXIgbGF5b3V0IHdpbGwgY2hhbmdlLFxyXG4vLyBhZGFwdGluZyB0byBkaWZmZXJlbnQgc2NyZWVuIHNpemVzLCBmb3IgdXNlIGluIG1lZGlhIHF1ZXJpZXNcclxuJHNjcmVlbi1icmVha3BvaW50czogKFxyXG4gICAgeHM6IDBweCxcclxuICAgIHNtOiA1NzZweCxcclxuICAgIG1kOiA3NjhweCxcclxuICAgIGxnOiA5OTJweCxcclxuICAgIHRhYmxldDogOTkycHgsXHJcbiAgICB4bDogMTIwMHB4XHJcbikgIWRlZmF1bHQ7XHJcblxyXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcclxuJGNvcmUtZGQtcXVlc3Rpb24tY29sb3JzOiAjRkZGRkZGLCAjQjBDNERFLCAjRENEQ0RDLCAjRDhCRkQ4LCAjODdDRUZBLCAjREFBNTIwLCAjRkZENzAwLCAjRjBFNjhDICFkZWZhdWx0O1xyXG4kY29yZS10ZXh0LWhpZ2h0bGlnaHQtYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkYmx1ZSwgNDAlKSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWZpeGVkLXVybDogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWRhc2hib2FyZC1sb2dvOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtZm9ybWF0LXRleHQtbmV2ZXItc2hvcnRlbjogZmFsc2UgIWRlZmF1bHQ7XHJcblxyXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1zZWN0aW9uLXNlbGVjdG9yOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWNvdXJzZS1oaWRlLXRodW1iLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtY291cnNlLXRodW1iLW9uLWNhcmRzLWJhY2tncm91bmQ6IG51bGwgIWRlZmF1bHQ7XHJcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbG9naW4gcGFnZS5cclxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZS1kYXJrOiAkY29yZS1sb2dpbi1idXR0b24tb3V0bGluZSAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvcjogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4taGlkZS1mb3Jnb3QtcGFzc3dvcmQ6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1oaWRlLW5lZWQtaGVscDogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWxvZ2luLWhpZGUtcXJjb2RlOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbW9yZSBwYWdlLiAoZGVwcmVjYXRlZCBvbiA0LjApXHJcbiRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbzogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZTogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLW1vcmUtaGlkZS1zaXRldXJsOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdXNlciBwYWdlLlxyXG4kY29yZS11c2VyLWhpZGUtc2l0ZWluZm86ICRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbyAhZGVmYXVsdDtcclxuJGNvcmUtdXNlci1oaWRlLXNpdGVuYW1lOiAkY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWUgIWRlZmF1bHQ7XHJcbiRjb3JlLXVzZXItaGlkZS1zaXRldXJsOiAkY29yZS1tb3JlLWhpZGUtc2l0ZXVybCAhZGVmYXVsdDtcclxuXHJcbi8vIEFjdGl2aXR5IGljb24gYmFja2dyb3VuZCBjb2xvcnMuXHJcbiRhY3Rpdml0eS1pY29uLWNvbG9yczogKFxyXG4gICAgYWRtaW5pc3RyYXRpb246ICM1ZDYzZjYsXHJcbiAgICBhc3Nlc3NtZW50OiAjZWI2NmEyLFxyXG4gICAgY29sbGFib3JhdGlvbjogI2Y3NjM0ZCxcclxuICAgIGNvbW11bmljYXRpb246ICMxMWE2NzYsXHJcbiAgICBjb250ZW50OiAjMzk5YmUyLFxyXG4gICAgaW50ZXJmYWNlOiAjYTM3OGZmXHJcbikgIWRlZmF1bHQ7XHJcblxyXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnk6ICM4ZTI0YWEgIWRlZmF1bHQ7XHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2U6ICRyZWQgIWRlZmF1bHQ7XHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cDogJHllbGxvdyAhZGVmYXVsdDtcclxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXI6ICRibHVlICFkZWZhdWx0O1xyXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZTogJGdyZWVuICFkZWZhdWx0O1xyXG5cclxuLy8gQ2FsZW5kYXIgZXZlbnQgY2F0ZWdvcnkgYmFja2dyb3VuZCBjb2xvcnMuXHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb2xvcnM6IChcclxuICAgIGNhdGVnb3J5OiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnksXHJcbiAgICBjb3Vyc2U6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2UsXHJcbiAgICBncm91cDogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwLFxyXG4gICAgdXNlcjogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXIsXHJcbiAgICBzaXRlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZSxcclxuKSAhZGVmYXVsdDtcclxuIiwiQGltcG9ydCBcIn50aGVtZS9nbG9iYWxzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgICAtLWxpc3QtaXRlbS1tYXgtd2lkdGg6IDYwMHB4O1xyXG59XHJcblxyXG4uaXRlbS1pbnB1dDpsYXN0LWNoaWxkIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5jb3JlLWxvZ2luLXNpdGUtY29ubmVjdCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxLjRyZW07XHJcbn1cclxuXHJcbi5pdGVtIGlvbi10aHVtYm5haWwge1xyXG4gICAgbWluLXdpZHRoOiA1MHB4O1xyXG4gICAgbWluLWhlaWdodDogNTBweDtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjAlO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDRweCB2YXIoLS1ncmF5LTIwMCk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG5cclxuICAgIGltZyB7XHJcbiAgICAgICAgbWF4LWhlaWdodDogNTBweDtcclxuICAgICAgICBtYXgtd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICBtYXJnaW4tbGVmdDogNTAlO1xyXG4gICAgICAgIEBpbmNsdWRlIHRyYW5zZm9ybSh0cmFuc2xhdGUzZCgtNTAlLDAsMCkpO1xyXG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgICAgIG9iamVjdC1wb3NpdGlvbjogNTAlIDUwJTtcclxuICAgIH1cclxuICAgIGlvbi1pY29uIHtcclxuICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICBmb250LXNpemU6IDM1cHg7XHJcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG46aG9zdC1jb250ZXh0KFtkaXI9XCJydGxcIl0pIHtcclxuXHJcbiAgICAuaXRlbSBpb24tdGh1bWJuYWlsIGltZyB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA1MCU7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4uY29yZS1sb2dpbi1zaXRlLWxvZ28sXHJcbi5jb3JlLWxvZ2luLXNpdGUtbGlzdCxcclxuLmNvcmUtbG9naW4tc2l0ZS1saXN0LWZvdW5kIHtcclxuICAgIHRyYW5zaXRpb24tZGVsYXk6IDBzO1xyXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC43cyBlYXNlLWluLW91dDtcclxuICAgIG1heC1oZWlnaHQ6IDk5OTlweDtcclxuXHJcbiAgICAmLmhpZGRlbiB7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgbWF4LWhlaWdodDogMDtcclxuICAgIH1cclxufVxyXG5cclxuLmNvcmUtbG9naW4tc2l0ZS1saXN0LWZvdW5kLmRpbW1lZCB7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmNvcmUtbG9naW4tc2l0ZS1saXN0LWxvYWRpbmcge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBpb24tc3Bpbm5lciB7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICB9XHJcbn1cclxuXHJcbi5jb3JlLWxvZ2luLXNpdGUtbm9saXN0LWxvYWRpbmcge1xyXG4gICAgbWFyZ2luLXRvcDogMTZweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLml0ZW0uY29yZS1sb2dpbi1zaXRlLWxpc3QtdGl0bGUge1xyXG4gICAgaW9uLWxhYmVsLCBpb24tbGFiZWwgaDIuaXRlbS1oZWFkaW5nIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5AaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKG1kKSB7XHJcbiAgICBpb24tY29udGVudCAuY29yZS1sb2dpbi1zaXRlLWxvZ28ge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDIwJTtcclxuICAgICAgICAmLmhpZGRlbiB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4uY29yZS1sb2dpbi1lbnRlcmVkLXNpdGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xyXG5cclxuICAgIGlvbi10aHVtYm5haWwge1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCA0cHggdmFyKC0tZ3JheS0zMDApO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29yZS1sb2dpbi1kZWZhdWx0LWljb24ge1xyXG4gICAgZmlsdGVyOiBncmF5c2NhbGUoMTAwJSk7XHJcbn1cclxuIl19 */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup, ValidatorFn, AbstractControl, ValidationErrors } from '@angular/forms';\n\nimport { CoreApp } from '@services/app';\nimport { CoreNetwork } from '@services/network';\nimport { CoreConfig } from '@services/config';\nimport { CoreSites, CoreSiteCheckResponse, CoreLoginSiteInfo, CoreSitesDemoSiteData } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport {\n    CoreLoginHelper,\n    CoreLoginHelperProvider,\n    CoreLoginSiteFinderSettings,\n    CoreLoginSiteSelectorListMethod,\n} from '@features/login/services/login-helper';\nimport { CoreError } from '@classes/errors/error';\nimport { CoreConstants } from '@/core/constants';\nimport { Translate } from '@singletons';\nimport { CoreUrl } from '@singletons/url';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreLoginSiteHelpComponent } from '@features/login/components/site-help/site-help';\nimport { CoreLoginSiteOnboardingComponent } from '@features/login/components/site-onboarding/site-onboarding';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCustomURLSchemes, CoreCustomURLSchemesHandleError } from '@services/urlschemes';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { CoreForms } from '@singletons/form';\nimport { AlertButton } from '@ionic/core';\nimport { CoreSiteError } from '@classes/errors/siteerror';\nimport { CoreUserSupport } from '@features/user/services/support';\nimport { CoreErrorInfoComponent } from '@components/error-info/error-info';\nimport { CoreUserSupportConfig } from '@features/user/classes/support/support-config';\nimport { CoreUserGuestSupportConfig } from '@features/user/classes/support/guest-support-config';\nimport { CoreLoginError } from '@classes/errors/loginerror';\nimport { CorePlatform } from '@services/platform';\n\n/**\n * Site (url) chooser when adding a new site.\n */\n@Component({\n    selector: 'page-core-login-site',\n    templateUrl: 'site.html',\n    styleUrls: ['site.scss', '../../login.scss'],\n})\nexport class CoreLoginSitePage implements OnInit {\n\n    @ViewChild('siteFormEl') formElement?: ElementRef;\n\n    siteForm!: FormGroup;\n    fixedSites?: CoreLoginSiteInfoExtended[];\n    filteredSites?: CoreLoginSiteInfoExtended[];\n    siteSelector: CoreLoginSiteSelectorListMethod = 'sitefinder';\n    showKeyboard = false;\n    filter = '';\n    sites: CoreLoginSiteInfoExtended[] = [];\n    hasSites = false;\n    loadingSites = false;\n    searchFunction!: (search: string) => void;\n    showScanQR!: boolean;\n    enteredSiteUrl?: CoreLoginSiteInfoExtended;\n    siteFinderSettings!: CoreLoginSiteFinderSettings;\n\n    constructor(protected formBuilder: FormBuilder) {}\n\n    /**\n     * Initialize the component.\n     */\n    async ngOnInit(): Promise<void> {\n        let url = '';\n        this.siteSelector = CoreConstants.CONFIG.multisitesdisplay;\n\n        const siteFinderSettings: Partial<CoreLoginSiteFinderSettings> = CoreConstants.CONFIG.sitefindersettings || {};\n        this.siteFinderSettings = {\n            displaysitename: true,\n            displayimage: true,\n            displayalias: true,\n            displaycity: true,\n            displaycountry: true,\n            displayurl: true,\n            ...siteFinderSettings,\n        };\n\n        // Load fixed sites if they're set.\n        const sites = await CoreLoginHelper.getAvailableSites();\n\n        if (sites.length) {\n            url = await this.initSiteSelector();\n        } else if (CoreConstants.CONFIG.enableonboarding && !CorePlatform.isIOS()) {\n            this.initOnboarding();\n        }\n\n        this.showScanQR = CoreLoginHelper.displayQRInSiteScreen();\n\n        this.siteForm = this.formBuilder.group({\n            siteUrl: [url, this.moodleUrlValidator()],\n        });\n\n        this.searchFunction = CoreUtils.debounce(async (search: string) => {\n            search = search.trim();\n\n            if (search.length >= 3) {\n                // Update the sites list.\n                const sites = await CoreSites.findSites(search);\n\n                // Add UI tweaks.\n                this.sites = this.extendCoreLoginSiteInfo(<CoreLoginSiteInfoExtended[]> sites);\n\n                this.hasSites = !!this.sites.length;\n            } else {\n                // Not reseting the array to allow animation to be displayed.\n                this.hasSites = false;\n            }\n\n            this.loadingSites = false;\n        }, 1000);\n\n        this.showKeyboard = !!CoreNavigator.getRouteBooleanParam('showKeyboard');\n    }\n\n    /**\n     * Initialize the site selector.\n     *\n     * @returns URL of the first site.\n     */\n    protected async initSiteSelector(): Promise<string> {\n        const availableSites = await CoreLoginHelper.getAvailableSites();\n        this.fixedSites = this.extendCoreLoginSiteInfo(<CoreLoginSiteInfoExtended[]> availableSites);\n        this.siteSelector = 'list'; // In case it's not defined\n\n        // Do not show images if none are set.\n        if (!this.fixedSites.some((site) => !!site.imageurl)) {\n            this.siteFinderSettings.displayimage = false;\n        }\n\n        this.filteredSites = this.fixedSites;\n\n        return this.fixedSites[0].url;\n    }\n\n    /**\n     * Initialize and show onboarding if needed.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async initOnboarding(): Promise<void> {\n        const onboardingDone = await CoreConfig.get(CoreLoginHelperProvider.ONBOARDING_DONE, false);\n\n        if (!onboardingDone) {\n            // Check onboarding.\n            this.showOnboarding();\n        }\n    }\n\n    /**\n     * Extend info of Login Site Info to get UI tweaks.\n     *\n     * @param sites Sites list.\n     * @returns Sites list with extended info.\n     */\n    protected extendCoreLoginSiteInfo(sites: CoreLoginSiteInfoExtended[]): CoreLoginSiteInfoExtended[] {\n        return sites.map((site) => {\n            site.noProtocolUrl = this.siteFinderSettings.displayurl && site.url ? CoreUrl.removeProtocol(site.url) : '';\n\n            const name = this.siteFinderSettings.displaysitename ? site.name : '';\n            const alias = this.siteFinderSettings.displayalias && site.alias ? site.alias : '';\n\n            // Set title with parenthesis if both name and alias are present.\n            site.title = name && alias ? name + ' (' + alias + ')' : name + alias;\n\n            const country = this.siteFinderSettings.displaycountry && site.countrycode ?\n                CoreUtils.getCountryName(site.countrycode) : '';\n            const city = this.siteFinderSettings.displaycity && site.city ?\n                site.city : '';\n\n            // Separate location with hiphen if both country and city are present.\n            site.location = city && country ? city + ' - ' + country : city + country;\n\n            if (CoreSites.hasDefaultImage(site) && this.siteFinderSettings.defaultimageurl) {\n                site.imageurl = this.siteFinderSettings.defaultimageurl;\n            }\n\n            return site;\n        });\n    }\n\n    /**\n     * Validate Url.\n     *\n     * @returns {ValidatorFn} Validation results.\n     */\n    protected moodleUrlValidator(): ValidatorFn {\n        return (control: AbstractControl): ValidationErrors | null => {\n            const value = control.value.trim();\n            let valid = value.length >= 3 && CoreUrl.isValidMoodleUrl(value);\n\n            if (!valid) {\n                const demo = !!CoreSites.getDemoSiteData(value);\n\n                if (demo) {\n                    valid = true;\n                }\n            }\n\n            return valid ? null : { siteUrl: { value: control.value } };\n        };\n    }\n\n    /**\n     * Show a help modal.\n     */\n    async showHelp(): Promise<void> {\n        await CoreDomUtils.openModal({\n            component: CoreLoginSiteHelpComponent,\n            cssClass: 'core-modal-fullscreen',\n        });\n    }\n\n    /**\n     * Show an onboarding modal.\n     */\n    async showOnboarding(): Promise<void> {\n        await CoreDomUtils.openModal({\n            component: CoreLoginSiteOnboardingComponent,\n            cssClass: 'core-modal-fullscreen',\n        });\n    }\n\n    /**\n     * Try to connect to a site.\n     *\n     * @param e Event.\n     * @param url The URL to connect to.\n     * @param foundSite The site clicked, if any, from the found sites list.\n     * @returns Promise resolved when done.\n     */\n    async connect(e: Event, url: string, foundSite?: CoreLoginSiteInfoExtended): Promise<void> {\n        e.preventDefault();\n        e.stopPropagation();\n\n        CoreApp.closeKeyboard();\n\n        if (!url) {\n            CoreDomUtils.showErrorModal('core.login.siteurlrequired', true);\n\n            return;\n        }\n\n        if (!CoreNetwork.isOnline()) {\n            CoreDomUtils.showErrorModal('core.networkerrormsg', true);\n\n            return;\n        }\n\n        url = url.trim();\n\n        if (url.match(/^(https?:\\/\\/)?campus\\.example\\.edu/)) {\n            this.showLoginIssue(null, new CoreError(Translate.instant('core.login.errorexampleurl')));\n\n            return;\n        }\n\n        const siteData = CoreSites.getDemoSiteData(url);\n\n        if (siteData) {\n            // It's a demo site.\n            await this.loginDemoSite(siteData);\n\n        } else {\n            // Not a demo site.\n            const modal = await CoreDomUtils.showModalLoading();\n\n            let checkResult: CoreSiteCheckResponse;\n\n            try {\n                checkResult = await CoreSites.checkSite(url);\n            } catch (error) {\n                // Attempt guessing the domain if the initial check failed\n                const domain = CoreUrl.guessMoodleDomain(url);\n\n                if (domain && domain != url) {\n                    try {\n                        checkResult = await CoreSites.checkSite(domain);\n                    } catch (secondError) {\n                        // Try to use the first error.\n                        modal.dismiss();\n\n                        return this.showLoginIssue(url, error || secondError);\n                    }\n                } else {\n                    modal.dismiss();\n\n                    return this.showLoginIssue(url, error);\n                }\n            }\n\n            await this.login(checkResult, foundSite);\n\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Authenticate in a demo site.\n     *\n     * @param siteData Site data.\n     * @returns Promise resolved when done.\n     */\n    protected async loginDemoSite(siteData: CoreSitesDemoSiteData): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading();\n\n        try {\n            const data = await CoreSites.getUserToken(siteData.url, siteData.username, siteData.password);\n\n            await CoreSites.newSite(data.siteUrl, data.token, data.privateToken);\n\n            CoreForms.triggerFormSubmittedEvent(this.formElement, true);\n\n            await CoreNavigator.navigateToSiteHome();\n\n            return;\n        } catch (error) {\n            CoreLoginHelper.treatUserTokenError(siteData.url, error, siteData.username, siteData.password);\n\n            if (error.loggedout) {\n                CoreNavigator.navigate('/login/sites', { reset: true });\n            }\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Process login to a site.\n     *\n     * @param response Response obtained from the site check request.\n     * @param foundSite The site clicked, if any, from the found sites list.\n     *\n     * @returns Promise resolved after logging in.\n     */\n    protected async login(response: CoreSiteCheckResponse, foundSite?: CoreLoginSiteInfoExtended): Promise<void> {\n        try {\n            await CoreSites.checkApplication(response.config);\n\n            CoreForms.triggerFormSubmittedEvent(this.formElement, true);\n\n            if (CoreLoginHelper.isSSOLoginNeeded(response.code)) {\n                // SSO. User needs to authenticate in a browser.\n                CoreLoginHelper.confirmAndOpenBrowserForSSOLogin(\n                    response.siteUrl,\n                    response.code,\n                    response.service,\n                    response.config?.launchurl,\n                );\n            } else {\n                const pageParams = { siteUrl: response.siteUrl, siteConfig: response.config };\n                if (foundSite && !this.fixedSites) {\n                    pageParams['siteName'] = foundSite.name;\n                    pageParams['logoUrl'] = foundSite.imageurl;\n                }\n\n                CoreNavigator.navigate('/login/credentials', {\n                    params: pageParams,\n                });\n            }\n        } catch {\n            // Ignore errors.\n        }\n    }\n\n    /**\n     * Show an error that aims people to solve the issue.\n     *\n     * @param url The URL the user was trying to connect to.\n     * @param error Error to display.\n     */\n    protected async showLoginIssue(url: string | null, error: CoreError): Promise<void> {\n        let errorMessage = CoreDomUtils.getErrorMessage(error);\n        let siteExists = false;\n        let supportConfig: CoreUserSupportConfig | undefined = undefined;\n        let errorTitle: string | undefined;\n        let errorDetails: string | undefined;\n        let errorCode: string | undefined;\n\n        if (error instanceof CoreSiteError) {\n            supportConfig = error.supportConfig;\n            errorDetails = error.errorDetails;\n            errorCode = error.errorcode;\n            siteExists = supportConfig instanceof CoreUserGuestSupportConfig;\n        }\n\n        if (error instanceof CoreLoginError) {\n            errorTitle = error.title;\n        }\n\n        if (errorDetails) {\n            errorMessage = `<p>${errorMessage}</p><div class=\"core-error-info-container\"></div>`;\n        }\n\n        const alertSupportConfig = supportConfig;\n        const buttons = [\n            {\n                text: Translate.instant('core.tryagain'),\n                role: 'cancel',\n            },\n            alertSupportConfig?.canContactSupport()\n                ? {\n                    text: Translate.instant('core.contactsupport'),\n                    handler: () => CoreUserSupport.contact({\n                        supportConfig: alertSupportConfig,\n                        subject: Translate.instant('core.cannotconnect'),\n                        message: `Error: ${errorCode}\\n\\n${errorDetails}`,\n                    }),\n                }\n                : (\n                    !siteExists\n                        ? {\n                            text: Translate.instant('core.needhelp'),\n                            cssClass: 'core-login-need-help',\n                            handler: () => this.showHelp(),\n                        }\n                        : null\n                ),\n        ].filter(button => !!button);\n\n        const alertElement = await CoreDomUtils.showAlertWithOptions({\n            header: errorTitle ?? Translate.instant('core.cannotconnect'),\n            message: errorMessage ?? Translate.instant('core.sitenotfoundhelp'),\n            buttons: buttons as AlertButton[],\n        });\n\n        if (errorDetails) {\n            const containerElement = alertElement.querySelector('.core-error-info-container');\n\n            if (containerElement) {\n                containerElement.innerHTML = CoreErrorInfoComponent.render(errorDetails, errorCode);\n            }\n        }\n    }\n\n    /**\n     * The filter has changed.\n     *\n     * @param event Received Event.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    filterChanged(event?: any): void {\n        const newValue = event?.target.value?.trim().toLowerCase();\n        if (!newValue || !this.fixedSites) {\n            this.filteredSites = this.fixedSites;\n        } else {\n            this.filteredSites = this.fixedSites.filter((site) =>\n                site.title.toLowerCase().indexOf(newValue) > -1 || site.noProtocolUrl.toLowerCase().indexOf(newValue) > -1 ||\n                site.location.toLowerCase().indexOf(newValue) > -1);\n        }\n    }\n\n    /**\n     * Find a site on the backend.\n     *\n     * @param e Event.\n     * @param search Text to search.\n     */\n    searchSite(e: Event, search: string): void {\n        this.loadingSites = true;\n\n        search = search.trim();\n\n        if (this.siteForm.valid && search.length >= 3) {\n            this.enteredSiteUrl = {\n                url: search,\n                name: 'connect',\n                title: '',\n                location: '',\n                noProtocolUrl: CoreUrl.removeProtocol(search),\n            };\n        } else {\n            this.enteredSiteUrl = undefined;\n        }\n\n        this.searchFunction(search.trim());\n    }\n\n    /**\n     * Show instructions and scan QR code.\n     *\n     * @returns Promise resolved when done.\n     */\n    async showInstructionsAndScanQR(): Promise<void> {\n        try {\n            await CoreLoginHelper.showScanQRInstructions();\n\n            await this.scanQR();\n        } catch {\n            // Ignore errors.\n        }\n    }\n\n    /**\n     * Scan a QR code and put its text in the URL input.\n     *\n     * @returns Promise resolved when done.\n     */\n    async scanQR(): Promise<void> {\n        // Scan for a QR code.\n        const text = await CoreUtils.scanQR();\n\n        if (!text) {\n            return;\n        }\n\n        if (CoreCustomURLSchemes.isCustomURL(text)) {\n            try {\n                await CoreCustomURLSchemes.handleCustomURL(text);\n            } catch (error) {\n                if (error && error.data && error.data.isAuthenticationURL && error.data.siteUrl) {\n                    // An error ocurred, but it's an authentication URL and we have the site URL.\n                    this.treatErrorInAuthenticationCustomURL(text, error);\n                } else {\n                    CoreCustomURLSchemes.treatHandleCustomURLError(error);\n                }\n            }\n\n            return;\n        }\n\n        // Not a custom URL scheme, check if it's a URL scheme to another app.\n        const scheme = CoreUrlUtils.getUrlProtocol(text);\n\n        if (scheme && scheme != 'http' && scheme != 'https') {\n            CoreDomUtils.showErrorModal(Translate.instant('core.errorurlschemeinvalidscheme', { $a: text }));\n\n            return;\n        }\n\n        const allowed = await CoreLoginHelper.isSiteUrlAllowed(text);\n        if (allowed) {\n            // Put the text in the field (if present).\n            this.siteForm.controls.siteUrl.setValue(text);\n\n            this.connect(new Event('click'), text);\n        } else {\n            CoreDomUtils.showErrorModal('core.errorurlschemeinvalidsite', true);\n        }\n    }\n\n    /**\n     * Treat an error while handling a custom URL meant to perform an authentication.\n     * If the site doesn't use SSO, the user will be sent to the credentials screen.\n     *\n     * @param customURL Custom URL handled.\n     * @param error Error data.\n     * @returns Promise resolved when done.\n     */\n    protected async treatErrorInAuthenticationCustomURL(customURL: string, error: CoreCustomURLSchemesHandleError): Promise<void> {\n        const siteUrl = error.data?.siteUrl || '';\n        const modal = await CoreDomUtils.showModalLoading();\n\n        // Set the site URL in the input.\n        this.siteForm.controls.siteUrl.setValue(siteUrl);\n\n        try {\n            // Check if site uses SSO.\n            const response = await CoreSites.checkSite(siteUrl);\n\n            await CoreSites.checkApplication(response.config);\n\n            if (!CoreLoginHelper.isSSOLoginNeeded(response.code)) {\n                // No SSO, go to credentials page.\n                await CoreNavigator.navigate('/login/credentials', {\n                    params: {\n                        siteUrl: response.siteUrl,\n                        siteConfig: response.config,\n                    },\n                });\n            }\n        } catch {\n            // Ignore errors.\n        } finally {\n            modal.dismiss();\n        }\n\n        // Now display the error.\n        error.error = CoreTextUtils.addTextToError(\n            error.error,\n            '<br><br>' + Translate.instant('core.login.youcanstillconnectwithcredentials'),\n        );\n\n        CoreCustomURLSchemes.treatHandleCustomURLError(error);\n    }\n\n    /**\n     * Open settings page.\n     */\n    openSettings(): void {\n        CoreNavigator.navigate('/settings');\n    }\n\n}\n\n/**\n * Extended data for UI implementation.\n */\ntype CoreLoginSiteInfoExtended = CoreLoginSiteInfo & {\n    noProtocolUrl: string; // Url wihtout protocol.\n    location: string; // City + country.\n    title: string; // Name + alias.\n};\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { Component, OnInit } from '@angular/core';\n\nimport { CoreSiteBasicInfo, CoreSites } from '@services/sites';\nimport { CoreAccountsList, CoreLoginHelper } from '@features/login/services/login-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreFilter } from '@features/filter/services/filter';\nimport { CoreAnimations } from '@components/animations';\n\n/**\n * Page that displays a \"splash screen\" while the app is being initialized.\n */\n@Component({\n    selector: 'page-core-login-sites',\n    templateUrl: 'sites.html',\n    styleUrls: ['../../sitelist.scss'],\n    animations: [CoreAnimations.SLIDE_IN_OUT, CoreAnimations.SHOW_HIDE],\n})\nexport class CoreLoginSitesPage implements OnInit {\n\n    accountsList: CoreAccountsList = {\n        sameSite: [],\n        otherSites: [],\n        count: 0,\n    };\n\n    showDelete = false;\n    loaded = false;\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        if (CoreNavigator.getRouteBooleanParam('openAddSite')) {\n            this.add();\n\n            return;\n        }\n\n        this.accountsList = await CoreLoginHelper.getAccountsList();\n        this.loaded = true;\n\n        if (this.accountsList.count == 0) {\n            this.add();\n        }\n    }\n\n    /**\n     * Go to the page to add a site.\n     */\n    add(): void {\n        CoreLoginHelper.goToAddSite(false, true);\n    }\n\n    /**\n     * Delete a site.\n     *\n     * @param event Click event.\n     * @param site Site to delete.\n     * @returns Promise resolved when done.\n     */\n    async deleteSite(event: Event, site: CoreSiteBasicInfo): Promise<void> {\n        event.stopPropagation();\n\n        let siteName = site.siteName || '';\n\n        siteName = await CoreFilter.formatText(siteName, { clean: true, singleLine: true, filter: false }, [], site.id);\n\n        try {\n            await CoreDomUtils.showDeleteConfirm('core.login.confirmdeletesite', { sitename: siteName });\n        } catch (error) {\n            // User cancelled, stop.\n            return;\n        }\n\n        try {\n            await CoreLoginHelper.deleteAccountFromList(this.accountsList, site);\n\n            this.showDelete = false;\n\n            // If there are no sites left, go to add site.\n            if (this.accountsList.count == 0) {\n                CoreLoginHelper.goToAddSite(true, true);\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'core.login.errordeletesite', true);\n        }\n    }\n\n    /**\n     * Login in a site.\n     *\n     * @param event Click event.\n     * @param siteId The site ID.\n     * @returns Promise resolved when done.\n     */\n    async login(event: Event, siteId: string): Promise<void> {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const modal = await CoreDomUtils.showModalLoading();\n\n        try {\n            const loggedIn = await CoreSites.loadSite(siteId);\n\n            if (loggedIn) {\n                await CoreNavigator.navigateToSiteHome();\n\n                return;\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading site.');\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Toggle delete.\n     */\n    toggleDelete(): void {\n        this.showDelete = !this.showDelete;\n    }\n\n    /**\n     * Open settings page.\n     */\n    openSettings(): void {\n        CoreNavigator.navigate('/settings');\n    }\n\n}\n"],"sourceRoot":"webpack:///"}